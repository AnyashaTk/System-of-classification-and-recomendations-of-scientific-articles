text,space_num,symbolic_percent,space_percent,num_world,num_columns,front_spaces_perc,back_spaces
"                                                Draft version August 5, 2020",48.0,0.3157894736842105,0.6842105263157895,5.0,1.0,0.16666666666666666,0.7361111111111112
                                                Typeset using LATEX twocolumn style in AASTeX63,48.0,0.43157894736842106,0.5684210526315789,7.0,1.0,0.16666666666666666,0.6701388888888888
"                                                 Connecting Optical Morphology, Environment, and H I Mass Fraction for Low-Redshift Galaxies",49.0,0.5714285714285714,0.4285714285714286,12.0,1.0,0.1701388888888889,0.5138888888888888
                                                                                    Using Deep Learning,84.0,0.1650485436893204,0.8349514563106796,3.0,1.0,0.2916666666666667,0.6423611111111112
"                                                                                                      John F. Wu1, 2",102.0,0.09482758620689655,0.9051724137931034,4.0,1.0,0.3541666666666667,0.5972222222222222
"                                                     1 Department   of Physics & Astronomy, Johns Hopkins University, 3400 N. Charles Street, Baltimore, MD 21218, USA",53.0,0.572289156626506,0.42771084337349397,17.0,2.0,0.1840277777777778,0.42361111111111116
"                                                                      2 Space Telescope Science Institute, 3700 San Martin Drive, Baltimore, MD 21218, USA",70.0,0.4675324675324675,0.5324675324675325,13.0,1.0,0.24305555555555555,0.4652777777777778
arXiv:2001.00018v2 [astro-ph.GA] 4 Aug 2020,0.0,0.9069767441860465,0.09302325581395354,5.0,1.0,0.0,0.8506944444444444
                                                                                                        ABSTRACT,104.0,0.07142857142857142,0.9285714285714286,1.0,1.0,0.3611111111111111,0.6111111111111112
"                                                        A galaxy’s morphological features encode details about its gas content, star formation history, and",56.0,0.5548387096774193,0.44516129032258067,14.0,1.0,0.19444444444444445,0.4618055555555556
"                                                      feedback processes, which play important roles in regulating its growth and evolution. We use deep",54.0,0.5526315789473685,0.4473684210526315,15.0,1.0,0.1875,0.4722222222222222
                                                      convolutional neural networks (CNNs) to learn a galaxy’s optical morphological information in order,54.0,0.5686274509803921,0.43137254901960786,13.0,1.0,0.1875,0.46875
                                                      to estimate its neutral atomic hydrogen (H I) content directly from SDSS gri image cutouts. We are,54.0,0.5394736842105263,0.4605263157894737,17.0,1.0,0.1875,0.4722222222222222
"                                                      able to accurately predict a galaxy’s logarithmic H I mass fraction, M ≡ log(MHI /M? ), by training a",54.0,0.535483870967742,0.46451612903225803,19.0,1.0,0.1875,0.4618055555555556
"                                                      CNN on galaxies in the ALFALFA 40% sample. Using pattern recognition (PR), we remove galaxies",54.0,0.5374149659863946,0.4625850340136054,15.0,1.0,0.1875,0.48958333333333337
"                                                      with unreliable M estimates. We test CNN predictions on the ALFALFA 100%, xGASS, and NIBLES",54.0,0.5310344827586206,0.46896551724137936,15.0,1.0,0.1875,0.4965277777777778
"                                                      catalogs, and find that the CNN consistently outperforms previous estimators. The H I-morphology",54.0,0.56,0.43999999999999995,13.0,1.0,0.1875,0.47916666666666663
                                                      connection learned by the CNN appears to be constant in low- to intermediate-density galaxy environ-,54.0,0.5584415584415584,0.4415584415584416,15.0,1.0,0.1875,0.4652777777777778
"                                                      ments, but it breaks down in the highest-density environments. We also use a visualization algorithm,",54.0,0.5612903225806452,0.43870967741935485,15.0,1.0,0.1875,0.4618055555555556
"                                                      Gradient-weighted Class Activation Maps (Grad-CAM), to determine which morphological features",54.0,0.5714285714285714,0.4285714285714286,10.0,1.0,0.1875,0.48958333333333337
                                                      are associated with low or high gas content. These results demonstrate that CNNs are powerful tools,54.0,0.5490196078431373,0.4509803921568627,16.0,1.0,0.1875,0.46875
"                                                      for understanding the connections between optical morphology and other properties, as well as for",54.0,0.5562913907284768,0.4437086092715232,14.0,1.0,0.1875,0.4756944444444444
"                                                      probing other variables, in a quantitative and interpretable manner.",54.0,0.4918032786885246,0.5081967213114754,9.0,1.0,0.1875,0.5763888888888888
"                                                      Keywords: Galaxies, Galaxy evolution, Galaxy processes, Galaxy environments, Astronomy data anal-",54.0,0.5761589403973509,0.42384105960264906,11.0,1.0,0.1875,0.4756944444444444
"                                                                ysis, Astronomy data visualization",64.0,0.3163265306122449,0.6836734693877551,4.0,1.0,0.2222222222222222,0.6597222222222222
"                                                               1. INTRODUCTION                                    redshifts; see, e.g., Looking at the Distant Universe with",63.0,0.37209302325581395,0.627906976744186,11.0,19.0,0.21875,0.4027777777777778
"                                                 Neutral atomic hydrogen (H I) is the dominant com-               the MeerKAT Array (LADUMA; Blyth et al. 2016),",49.0,0.50625,0.49375,17.0,8.0,0.1701388888888889,0.4444444444444444
                                              ponent of cool gas in the interstellar medium (ISM)                 MeerKAT International GHz Tiered Extragalactic Ex-,46.0,0.5365853658536586,0.46341463414634143,15.0,9.0,0.1597222222222222,0.4305555555555556
"                                              for low-redshift galaxies (e.g., Saintonge et al. 2017).            ploration (MIGHTEE; Jarvis et al. 2016), Wide-field",46.0,0.5696969696969697,0.4303030303030303,15.0,7.0,0.1597222222222222,0.42708333333333337
                                              Although neutral gas is crucial for understanding how               ASKAP L-Band Legacy All-sky Blind surveY (WAL-,46.0,0.5375,0.4625,15.0,8.0,0.1597222222222222,0.4444444444444444
"                                              galaxies evolve and grow over cosmic timescales, H I                LABY; Koribalski et al. 2020), and Deep Investigation",46.0,0.5389221556886228,0.4610778443113772,17.0,9.0,0.1597222222222222,0.42013888888888884
                                              is difficult to detect in extragalactic sources because of          of Neutral Gas Origins (DINGO).1,46.0,0.5342465753424658,0.4657534246575342,14.0,6.0,0.1597222222222222,0.4930555555555556
                                              its weak 21-cm emission line. This observational chal-                Small and incomplete H I samples currently limit our,46.0,0.5416666666666666,0.45833333333333337,17.0,9.0,0.1597222222222222,0.41666666666666663
                                              lenge has been partially mitigated by large H I surveys             ability to study gas properties in typical galaxies beyond,46.0,0.5581395348837209,0.4418604651162791,19.0,7.0,0.1597222222222222,0.4027777777777778
                                              such as the H I Parkes All Sky Survey (HIPASS; Barnes               z ≈ 0.05. Since H I is so important to galaxy evolution,46.0,0.514792899408284,0.485207100591716,23.0,8.0,0.1597222222222222,0.4131944444444444
"                                              et al. 2001), the Arecibo Legacy Fast ALFA Survey                   but challenging to measure, astronomers have devised",46.0,0.5240963855421686,0.47590361445783136,16.0,10.0,0.1597222222222222,0.42361111111111116
"                                              (ALFALFA; Giovanelli et al. 2005), and the GALEX                    proxies for estimating galaxies’ gas content. For exam-",46.0,0.5266272189349113,0.47337278106508873,16.0,11.0,0.1597222222222222,0.4131944444444444
"                                              Arecibo SDSS Survey (GASS; Catinella et al. 2010),                  ple, Kannappan (2004) proposed “photometric” gas frac-",46.0,0.5416666666666666,0.45833333333333337,15.0,10.0,0.1597222222222222,0.41666666666666663
"                                              which have taken a census of the brightest H I sources              tions, leveraging the valuable connection between global",46.0,0.5529411764705883,0.44705882352941173,18.0,8.0,0.1597222222222222,0.4097222222222222
                                              in the local Universe. New radio telescopes such as                 gas content and optical properties. Zhang et al. (2009),46.0,0.5325443786982249,0.4674556213017751,18.0,9.0,0.1597222222222222,0.4131944444444444
"                                              MeerKAT, ASKAP (Australian Square Kilometre Ar-                     tightened the relationship by accounting for i-band sur-",46.0,0.5352941176470588,0.4647058823529412,14.0,11.0,0.1597222222222222,0.4097222222222222
"                                              ray Pathfinder), and eventually the SKA will allow us to            face brightness in addition to g − r color. More com-",46.0,0.5389221556886228,0.4610778443113772,21.0,7.0,0.1597222222222222,0.42013888888888884
                                              measure H I at much lower masses (MHI ) and at higher               plicated heuristics and machine learning models have,46.0,0.5301204819277109,0.4698795180722891,19.0,8.0,0.1597222222222222,0.42361111111111116
"                                                                                                                  also been used (e.g., Teimoorinia et al. 2017; Rafiefer-",114.0,0.2823529411764706,0.7176470588235294,9.0,1.0,0.3958333333333333,0.4097222222222222
                                              jfwu@jhu.edu,46.0,0.20689655172413793,0.7931034482758621,1.0,1.0,0.1597222222222222,0.7986111111111112
                                                                                                                    1   https://dingo-survey.org/,116.0,0.1793103448275862,0.8206896551724138,2.0,2.0,0.4027777777777778,0.4965277777777778
avr_spaces,54.42553191489362,1.0,0.0,1.0,1.0,0.1889775413711584,0.9652777777777778
 2,1.0,0.5,0.5,1.0,1.0,0.003472222222222222,0.9930555555555556
"antsoa et al. 2018), although these estimators become      chine learning models and tests of CNN performance",0.0,0.8165137614678899,0.1834862385321101,16.0,4.0,0.0,0.6215277777777778
more difficult to interpret as the number of parameters    when artificial sources are added to the input images.,0.0,0.8230088495575221,0.17699115044247793,18.0,3.0,0.0,0.6076388888888888
"increases. Indeed, computer vision algorithms seem to      Throughout this paper, we assume a cosmology with",0.0,0.8240740740740741,0.17592592592592593,15.0,4.0,0.0,0.625
"perform spectacularly well at predicting galaxy proper-    H0 = 70 km s−1 Mpc−1 , Ωm = 0.3, ΩΛ = 0.7. All",0.0,0.780952380952381,0.21904761904761905,21.0,3.0,0.0,0.6354166666666667
"ties directly from optical imaging (e.g., Dieleman et al.  of the code used in our analysis is publicly available at",0.0,0.8275862068965517,0.1724137931034483,20.0,2.0,0.0,0.5972222222222222
2015; Huertas-Company et al. 2019; Morningstar et al.      https://github.com/jwuphysics/HI-convnets.,0.0,0.8712871287128713,0.12871287128712872,9.0,4.0,0.0,0.6493055555555556
"2019; Pasquet et al. 2019; Wu & Boada 2019), but be-",0.0,0.8076923076923077,0.1923076923076923,11.0,1.0,0.0,0.8194444444444444
"cause these models often have millions of parameters,                                  2. DATA",0.0,0.5531914893617021,0.44680851063829785,10.0,18.0,0.0,0.6736111111111112
it can be difficult to understand what makes them so          We make use of four H I data sets in our analysis:,0.0,0.7321428571428571,0.2678571428571429,22.0,6.0,0.0,0.6111111111111112
"successful.                                                α.40, α.100, NIBLES, and the xGASS representative",0.0,0.5,0.5,8.0,25.0,0.0,0.625
   We train a deep convolutional neural network (CNN)      sample. Because these data sets have different selection,3.0,0.8,0.19999999999999996,16.0,4.0,0.010416666666666666,0.6006944444444444
"to directly predict the logarithm of the H I mass frac-    criteria, they are useful for testing our CNN methods on",0.0,0.8,0.19999999999999996,21.0,3.0,0.0,0.6006944444444444
"tion, M ≡ log(MHI /M? ), using three-band optical im-      galaxy samples with varying H I mass fraction distribu-",0.0,0.7982456140350878,0.20175438596491224,19.0,4.0,0.0,0.6041666666666667
"age cutouts from the Sloan Digital Sky Survey (SDSS).      tions. In Figure 1, we show the cumulative distribution",0.0,0.8070175438596491,0.19298245614035092,18.0,4.0,0.0,0.6041666666666667
"After demonstrating that our trained model can predict     functions of M, the logarithmic H I mass fraction. The",0.0,0.8141592920353983,0.18584070796460173,18.0,3.0,0.0,0.6076388888888888
"M to within 0.23 dex for α.40, we test the CNN on in-      catalogs’ stellar and H I properties are also summarized",0.0,0.7739130434782608,0.22608695652173916,22.0,4.0,0.0,0.6006944444444444
dependent data sets and examine which factors result       in Table 1. We describe the data sets and our selection,0.0,0.7894736842105263,0.21052631578947367,19.0,4.0,0.0,0.6041666666666667
in poor predictions. We use the same CNN method to         criteria in greater detail below.,0.0,0.7608695652173914,0.23913043478260865,15.0,5.0,0.0,0.6805555555555556
"distinguish ALFALFA detections from non-detections,",0.0,0.9215686274509803,0.07843137254901966,5.0,1.0,0.0,0.8229166666666666
"and estimate a galaxy’s likelihood of detection in an       SDSS imaging —The ALFALFA, NIBLES, and xGASS",0.0,0.7980769230769231,0.20192307692307687,16.0,4.0,0.0,0.6388888888888888
ALFALFA-like survey from its gri imaging. Using this       data sets have publically available catalogs of optical,0.0,0.8157894736842105,0.1842105263157895,16.0,4.0,0.0,0.6041666666666667
"pattern recognition system, we evaluate only the ro-       counterparts. We obtain gri imaging from the SDSS",0.0,0.8055555555555556,0.19444444444444442,16.0,4.0,0.0,0.625
bust predictions on test data sets again and compare       DR14 (Abolfathi et al. 2018) SkyServer using the Im-,0.0,0.7927927927927928,0.2072072072072072,18.0,4.0,0.0,0.6145833333333333
to results in the literature. We investigate how the rela- age Cutout service2 queried via a custom Python script.,0.0,0.8421052631578947,0.1578947368421053,19.0,1.0,0.0,0.6041666666666667
tionship between optical imaging and H I content varies    The conversion of gri imaging to RGB channels is a,0.0,0.8073394495412844,0.19266055045871555,19.0,3.0,0.0,0.6215277777777778
"with galaxy environment. We also use the Grad-CAM          modified version of the Lupton et al. (2004) algorithm,",0.0,0.7807017543859649,0.2192982456140351,17.0,6.0,0.0,0.6041666666666667
algorithm to localize image features that the CNN as-      as described on the SkyServer website.3 Downloaded,0.0,0.8165137614678899,0.1834862385321101,16.0,4.0,0.0,0.6215277777777778
sociates with high or low gas mass fraction in order to    JPG images have 224 × 224 pixels at the native SDSS,0.0,0.7818181818181819,0.21818181818181814,22.0,3.0,0.0,0.6180555555555556
"visually interpret which morphological features are rele-  pixel scale (0.39600 pixel−1 ), which corresponds to angu-",0.0,0.8632478632478633,0.1367521367521367,16.0,2.0,0.0,0.59375
vant to machine learning predictions; it essentially tells lar sizes of 1.480 × 1.480 .,0.0,0.8390804597701149,0.16091954022988508,15.0,1.0,0.0,0.6979166666666667
us which parts of the image the CNN is looking at in,0.0,0.7884615384615384,0.21153846153846156,12.0,1.0,0.0,0.8194444444444444
"                                                            Stellar masses —In order to compute gas mass fractions,",60.0,0.40869565217391307,0.5913043478260869,9.0,1.0,0.20833333333333334,0.6006944444444444
"order to determine the gas mass fraction (see, e.g., Peek",0.0,0.8421052631578947,0.1578947368421053,10.0,1.0,0.0,0.8020833333333334
                                                           H I detections are crossmatched with galaxies in the,59.0,0.3963963963963964,0.6036036036036037,9.0,1.0,0.2048611111111111,0.6145833333333333
& Burkhart 2019).,0.0,0.8823529411764706,0.11764705882352944,3.0,1.0,0.0,0.9409722222222222
                                                           SDSS DR7 MPA-JHU value-added catalog (Kauffmann,59.0,0.39622641509433965,0.6037735849056604,6.0,1.0,0.2048611111111111,0.6319444444444444
   The paper is structured as follows. We describe the,3.0,0.7962962962962963,0.20370370370370372,9.0,1.0,0.010416666666666666,0.8125
                                                           et al. 2003; Brinchmann et al. 2004; Tremonti et al. 2004;,59.0,0.41025641025641024,0.5897435897435898,11.0,1.0,0.2048611111111111,0.59375
"H I catalogs and optical imaging in Section 2, and ex-",0.0,0.8148148148148148,0.18518518518518523,11.0,1.0,0.0,0.8125
                                                           Salim et al. 2007). All stellar mass estimates assume,59.0,0.4017857142857143,0.5982142857142857,9.0,1.0,0.2048611111111111,0.6111111111111112
plain some details of the CNNs in Section 3. In Sec-,0.0,0.8076923076923077,0.1923076923076923,11.0,1.0,0.0,0.8194444444444444
                                                           a Chabrier (2003) initial mass function. ALFALFA is,59.0,0.4,0.6,8.0,1.0,0.2048611111111111,0.6180555555555556
"tion 4, we present our results showing that a CNN",0.0,0.8163265306122449,0.18367346938775508,10.0,1.0,0.0,0.8298611111111112
                                                           crossmatched on the basis of PhotoObjID (α.40) or a,59.0,0.39090909090909093,0.6090909090909091,9.0,1.0,0.2048611111111111,0.6180555555555556
"trained on ALFALFA can accurately recover M, and",0.0,0.8541666666666666,0.14583333333333337,8.0,1.0,0.0,0.8333333333333334
                                                           100 search radius (α.100). The xGASS and NIBLES cat-,59.0,0.3963963963963964,0.6036036036036037,9.0,1.0,0.2048611111111111,0.6145833333333333
report test results on independent data sets. In Sec-,0.0,0.8490566037735849,0.15094339622641506,9.0,1.0,0.0,0.8159722222222222
                                                           alogs already include crossmatched stellar masses. We,59.0,0.41964285714285715,0.5803571428571428,7.0,1.0,0.2048611111111111,0.6111111111111112
"tion 5, we use pattern recognition to identify galax-",0.0,0.8490566037735849,0.15094339622641506,9.0,1.0,0.0,0.8159722222222222
                                                           keep only the galaxies with valid stellar mass estimates.,59.0,0.4224137931034483,0.5775862068965517,9.0,1.0,0.2048611111111111,0.5972222222222222
ies that are expected to be detected by an ALFALFA-,0.0,0.8235294117647058,0.17647058823529416,10.0,1.0,0.0,0.8229166666666666
"like survey, and in Section 6 we compare our results",0.0,0.8269230769230769,0.17307692307692313,10.0,1.0,0.0,0.8194444444444444
                                                                                2.1. ALFALFA α.40,80.0,0.15463917525773196,0.845360824742268,3.0,1.0,0.2777777777777778,0.6631944444444444
"to other M estimators in the literature. In Section 7,",0.0,0.8333333333333334,0.16666666666666663,10.0,1.0,0.0,0.8125
we quantify the impact of environmental effects and           The Arecibo Legacy Fast ALFA (ALFALFA) survey,0.0,0.7757009345794392,0.22429906542056077,15.0,6.0,0.0,0.6284722222222222
study how the connection between H I content and op-       is a z ≤ 0.06 blind search for H I at high Galactic,0.0,0.7454545454545455,0.2545454545454545,23.0,4.0,0.0,0.6180555555555556
tical morphology breaks down in the most overdense         latitudes (Giovanelli et al. 2005). The ALFALFA α.40,0.0,0.7927927927927928,0.2072072072072072,16.0,5.0,0.0,0.6145833333333333
"environments. In Section 8, we discuss and interpret       catalog covers 40% (2800 deg2 ) of the full survey area",0.0,0.7894736842105263,0.21052631578947367,19.0,4.0,0.0,0.6041666666666667
"the morphological features that a CNN “sees” in order      (Haynes et al. 2011); most of these detections (12,468",0.0,0.8053097345132744,0.19469026548672563,18.0,4.0,0.0,0.6076388888888888
to distinguish gas-rich systems from gas-poor galaxies.    sources) lie within the SDSS footprint. Our sample in-,0.0,0.8407079646017699,0.15929203539823011,16.0,3.0,0.0,0.6076388888888888
"We discuss future prospects in Section 9, and report",0.0,0.8461538461538461,0.15384615384615385,9.0,1.0,0.0,0.8194444444444444
"our conclusions in Section 10. In the Appendix, we            2 http://skyserver.sdss.org/dr14/en/help/docs/api.aspx",0.0,0.8189655172413793,0.18103448275862066,11.0,7.0,0.0,0.5972222222222222
present comparisons between CNNs and simpler ma-              3 https://www.sdss.org/dr14/imaging/jpg-images-on-skyserver/,0.0,0.8278688524590164,0.17213114754098358,9.0,8.0,0.0,0.5763888888888888
avr_spaces,10.430769230769233,1.0,0.0,1.0,1.0,0.03621794871794873,0.9652777777777778
                                                                                                                                                           3,155.0,0.00641025641025641,0.9935897435897436,1.0,1.0,0.5381944444444444,0.45833333333333337
                                                                               Table 1. H I data sets,79.0,0.16831683168316833,0.8316831683168316,6.0,1.0,0.2743055555555556,0.6493055555555556
                                         Data seta       N       log(MHI /M )                  log(M? /M )                   Mtrue,41.0,0.25384615384615383,0.7461538461538462,10.0,25.0,0.1423611111111111,0.5486111111111112
                                                               0.16   0.50    0.84          0.16   0.50    0.84      0.16     0.50    0.84,63.0,0.2608695652173913,0.7391304347826086,9.0,19.0,0.21875,0.5208333333333333
                                         α.40A          7128   9.21   9.71   10.06          8.71    9.56   10.41     −0.52    0.15     0.68,41.0,0.34532374100719426,0.6546762589928057,11.0,23.0,0.1423611111111111,0.5173611111111112
                                         α.40B          4644   9.21   9.68   10.02          8.73    9.41   10.07     −0.26    0.25     0.70,41.0,0.34532374100719426,0.6546762589928057,11.0,23.0,0.1423611111111111,0.5173611111111112
                                         α.100          6087   9.22   9.67   10.03          8.62    9.38   10.24     −0.37    0.28     0.75,41.0,0.34532374100719426,0.6546762589928057,11.0,23.0,0.1423611111111111,0.5173611111111112
                                         NIBLES          899   8.54   9.18    9.73          8.52    9.62   10.68     −1.19   −0.50     0.29,41.0,0.34532374100719426,0.6546762589928057,11.0,23.0,0.1423611111111111,0.5173611111111112
                                         xGASS          1179   8.68   9.27     9.84         9.52   10.30   10.95    −1.78b   −1.11   −0.27,41.0,0.3695652173913043,0.6304347826086957,11.0,20.0,0.1423611111111111,0.5208333333333333
"                                        Note— For each data set, we show the number of galaxies (N ) after crossmatching to SDSS,",40.0,0.5658914728682171,0.43410852713178294,17.0,1.0,0.1388888888888889,0.5520833333333333
"                                          performing all cuts, and removing sources in common with other catalogs. We report 0.16,",42.0,0.5769230769230769,0.42307692307692313,14.0,1.0,0.14583333333333334,0.5486111111111112
"                                          0.50 (median), and 0.84 quantile values for the H I mass, stellar mass, and gas mass fraction.",42.0,0.5735294117647058,0.42647058823529416,17.0,1.0,0.14583333333333334,0.5277777777777778
"                                        a We have removed overlaps between the α.40A, α.100, NIBLES, and xGASS samples. α.40B",40.0,0.576,0.42400000000000004,14.0,1.0,0.1388888888888889,0.5659722222222222
                                          is a subset of α.40A.,42.0,0.2698412698412698,0.7301587301587302,5.0,1.0,0.14583333333333334,0.78125
                                        b The xGASS catalog includes upper limits on M,40.0,0.4418604651162791,0.5581395348837209,9.0,1.0,0.1388888888888889,0.7013888888888888
                                                                                      true (see text for details).,86.0,0.21052631578947367,0.7894736842105263,5.0,1.0,0.2986111111111111,0.6041666666666667
"                                                                                                   4,797 galaxies with valid M? , SFR, gas metallicity, and",99.0,0.3032258064516129,0.6967741935483871,10.0,1.0,0.34375,0.4618055555555556
                      1.0                .100                                                      spectroscopic redshift measurements.,22.0,0.3037037037037037,0.6962962962962963,5.0,36.0,0.0763888888888889,0.53125
                                         .40A,41.0,0.08888888888888889,0.9111111111111111,1.0,1.0,0.1423611111111111,0.84375
                      0.8,22.0,0.12,0.88,1.0,1.0,0.0763888888888889,0.9131944444444444
                                        NIBLES                                                                      2.2. ALFALFA α.100,40.0,0.16417910447761194,0.835820895522388,4.0,36.0,0.1388888888888889,0.5347222222222222
"                                        xGASS                                                        The α.100 catalog contains 31,502 extragalactic",40.0,0.31756756756756754,0.6824324324324325,7.0,29.0,0.1388888888888889,0.48611111111111116
Cumulative fraction,0.0,0.9473684210526315,0.052631578947368474,2.0,1.0,0.0,0.9340277777777778
                                                                                                   sources across the full ALFALFA sky (Haynes et al.,99.0,0.28187919463087246,0.7181208053691275,9.0,1.0,0.34375,0.48263888888888884
                      0.6                                                                          2018). A large fraction of these sources do not over-,22.0,0.3092105263157895,0.6907894736842105,11.0,38.0,0.0763888888888889,0.4722222222222222
"                                                                                                   lap with the SDSS footprint, and a significant subset of",99.0,0.3032258064516129,0.6967741935483871,10.0,1.0,0.34375,0.4618055555555556
                                                                                                   α.100 is already catalogued in α.40. Since there is no,99.0,0.29411764705882354,0.7058823529411764,10.0,1.0,0.34375,0.46875
"                      0.4                                                                          public combined catalog for α.100 with SDSS identifiers,",22.0,0.33548387096774196,0.6645161290322581,9.0,38.0,0.0763888888888889,0.4618055555555556
                                                                                                   we perform a custom crossmatching exercise. We cross-,99.0,0.3026315789473684,0.6973684210526316,8.0,1.0,0.34375,0.4722222222222222
                                                                                                   match sources in the ALFALFA Spring sky to the SDSS,99.0,0.28,0.72,10.0,1.0,0.34375,0.47916666666666663
"                      0.2                                                                          MPA-JHU catalog using a 100 radius, exclude systems",22.0,0.31333333333333335,0.6866666666666666,9.0,38.0,0.0763888888888889,0.47916666666666663
                                                                                                   with other H I counterparts within a 1.90 radius (to avoid,99.0,0.3057324840764331,0.694267515923567,11.0,1.0,0.34375,0.45486111111111116
"                                                                                                   ALFALFA source blending), and exclude SDSS galaxies",99.0,0.3,0.7,7.0,1.0,0.34375,0.47916666666666663
                      0.0                                                                          with neighboring optical sources within a 5500 radius (to,22.0,0.3333333333333333,0.6666666666666667,10.0,38.0,0.0763888888888889,0.45833333333333337
                            2.5   2.0      1.5   1.0     0.5   0.0    0.5    1.0      1.5,28.0,0.30337078651685395,0.696629213483146,9.0,16.0,0.09722222222222222,0.6909722222222222
                                                       log(MHI/M )                                 avoid fiber collisions). Since we will primarily be using,55.0,0.3782051282051282,0.6217948717948718,11.0,17.0,0.1909722222222222,0.45833333333333337
"                                                                                                   α.100 as an independent test data set, we also remove",99.0,0.2894736842105263,0.7105263157894737,10.0,1.0,0.34375,0.4722222222222222
                                                                                                   duplicates of α.40A and xGASS sources in α.100 via an-,99.0,0.29411764705882354,0.7058823529411764,10.0,1.0,0.34375,0.46875
Figure 1. H I mass fraction cumulative distribution func-,0.0,0.8596491228070176,0.14035087719298245,9.0,1.0,0.0,0.8020833333333334
"tions for the ALFALFA parent samples, xGASS representa-                                            other positional crossmatch (with search radius of 100 ).",0.0,0.6217948717948718,0.3782051282051282,17.0,23.0,0.0,0.45833333333333337
"tive sample, and NIBLES SDSS-crossmatched sample.                                                  These selection criteria leave 6,087 galaxies in the α.100",0.0,0.5987261146496815,0.4012738853503185,15.0,26.0,0.0,0.45486111111111116
"                                                                                                   catalog. Among the H I catalogs, the α.100 sample has",99.0,0.2894736842105263,0.7105263157894737,10.0,1.0,0.34375,0.4722222222222222
"cludes rare, high-mass H I systems that are not necessar-                                          the highest gas mass fractions (Figure 1).",0.0,0.5957446808510638,0.4042553191489362,17.0,22.0,0.0,0.5104166666666667
ily representative of the probed cosmic volume. There                                                                   2.3. NIBLES,0.0,0.42748091603053434,0.5725190839694656,10.0,34.0,0.0,0.5451388888888888
also exists a nearly volume-limited ALFALFA subsample,0.0,0.8867924528301887,0.1132075471698113,7.0,1.0,0.0,0.8159722222222222
                                                                                                      The Nançay Interstellar Baryons Legacy Extragalac-,102.0,0.29605263157894735,0.7039473684210527,6.0,1.0,0.3541666666666667,0.4722222222222222
"at z ≤ 0.05, but we are interested in training our CNN",0.0,0.7962962962962963,0.20370370370370372,12.0,1.0,0.0,0.8125
                                                                                                   tic Survey (NIBLES) catalog of H I detections con-,99.0,0.28187919463087246,0.7181208053691275,9.0,1.0,0.34375,0.48263888888888884
with the larger data set. We select sources with OCcode,0.0,0.8363636363636363,0.1636363636363637,10.0,1.0,0.0,0.8090277777777778
"                                                                                                   tains 1,864 low-redshift galaxies with heterogeneous ab-",99.0,0.3225806451612903,0.6774193548387097,7.0,1.0,0.34375,0.4618055555555556
= I in order to retain α.40 detections with SDSS coun-,0.0,0.8148148148148148,0.18518518518518523,11.0,1.0,0.0,0.8125
                                                                                                   solute z-band magnitudes (van Driel et al. 2016). The,99.0,0.29605263157894735,0.7039473684210527,9.0,1.0,0.34375,0.4722222222222222
"terparts, and we drop all sources with duplicate matches",0.0,0.8571428571428571,0.1428571428571429,9.0,1.0,0.0,0.8055555555555556
                                                                                                   NIBLES sample is characterized by a wide range of stel-,99.0,0.2987012987012987,0.7012987012987013,10.0,1.0,0.34375,0.4652777777777778
to DR7 identifiers. This cut reduces the number of H I,0.0,0.8148148148148148,0.18518518518518523,11.0,1.0,0.0,0.8125
                                                                                                   lar masses and intermediate values of M relative to,99.0,0.2866666666666667,0.7133333333333334,9.0,1.0,0.34375,0.47916666666666663
"sources to 11,739. We create the α.40A catalog, which",0.0,0.8490566037735849,0.15094339622641506,9.0,1.0,0.0,0.8159722222222222
                                                                                                   α.40 and xGASS (Table 1). We remove systems with,99.0,0.272108843537415,0.727891156462585,9.0,1.0,0.34375,0.48958333333333337
"contains 7,399 galaxies with valid stellar mass estimates,",0.0,0.8793103448275862,0.12068965517241381,8.0,1.0,0.0,0.7986111111111112
                                                                                                   very low (< 108 M ) or unavailable MPA-JHU stellar,99.0,0.2751677852348993,0.7248322147651007,10.0,1.0,0.34375,0.48263888888888884
"and the α.40B catalog, a subset of α.40A containing",0.0,0.8431372549019608,0.1568627450980392,9.0,1.0,0.0,0.8229166666666666
                                                                                                   mass estimates. We visually inspect the SDSS image,99.0,0.28859060402684567,0.7114093959731543,8.0,1.0,0.34375,0.48263888888888884
avr_spaces,50.698412698412696,1.0,0.0,1.0,1.0,0.17603615520282187,0.9652777777777778
 4,1.0,0.5,0.5,1.0,1.0,0.003472222222222222,0.9930555555555556
cutouts and eliminate sources with no apparent opti-           We implement and optimize our deep convolutional,0.0,0.7837837837837838,0.21621621621621623,15.0,6.0,0.0,0.6145833333333333
"cal counterpart near the center, those with only a point    neural network using fastai (Howard & Gugger 2020),",0.0,0.8198198198198198,0.18018018018018023,18.0,3.0,0.0,0.6145833333333333
"source in the center, and those significantly corrupted     which is built on PyTorch. All choices of CNN hyperpa-",0.0,0.8157894736842105,0.1842105263157895,18.0,3.0,0.0,0.6041666666666667
"by imaging artifacts, leaving 941 galaxies. Finally, we     rameters or tweaks have been empirically tuned in order",0.0,0.8260869565217391,0.17391304347826086,17.0,3.0,0.0,0.6006944444444444
also remove sources that overlap with ALFALFA and/or        to optimize training. Performance is primarily quanti-,0.0,0.8157894736842105,0.1842105263157895,15.0,5.0,0.0,0.6041666666666667
"xGASS. There are 899 remaining galaxies in the cleaned      fied by the root mean squared error (RMSE) metric,",0.0,0.8,0.19999999999999996,18.0,4.0,0.0,0.6180555555555556
NIBLES data set.                                            which also serves as our loss function:,0.0,0.47474747474747475,0.5252525252525253,10.0,23.0,0.0,0.65625
            2.4. xGASS representative sample                                          q,12.0,0.3448275862068966,0.6551724137931034,5.0,22.0,0.041666666666666664,0.6979166666666667
                                                                           RMSE ≡       h|Mpred − Mtrue |2 i.             (1),75.0,0.2,0.8,8.0,10.0,0.2604166666666667,0.5659722222222222
   ALFALFA detections tend to be the most H I-rich,3.0,0.78,0.21999999999999997,9.0,1.0,0.010416666666666666,0.8263888888888888
"systems in the local Universe, and differ from the ma-      Another important metric of performance is the linear",0.0,0.8053097345132744,0.19469026548672563,18.0,4.0,0.0,0.6076388888888888
jority of galaxies found in optical surveys. We use the     regression slope between Mtrue and Mpred . A slope of,0.0,0.7964601769911505,0.20353982300884954,20.0,3.0,0.0,0.6076388888888888
"extended GALEX Arecibo SDSS Survey representative           unity indicates that there is no regression bias, and a",0.0,0.782608695652174,0.21739130434782605,16.0,6.0,0.0,0.6006944444444444
sample (xGASS; Catinella et al. 2018) in order to repeat    shallower slope generally signifies that the CNN suffers,0.0,0.8275862068965517,0.1724137931034483,18.0,3.0,0.0,0.5972222222222222
our analysis on galaxies with more typical star forma-      from loss of predictive power (regression attenuation).4,0.0,0.8275862068965517,0.1724137931034483,16.0,4.0,0.0,0.5972222222222222
"tion and gas properties. xGASS consists of 1,179 galax-     Other works characterize the scatter using the stan-",0.0,0.8214285714285714,0.1785714285714286,17.0,3.0,0.0,0.6111111111111112
ies with stellar masses between 9 ≤ log(M? /M ) ≤ 11.5      dard deviation of the difference between predictions and,0.0,0.7931034482758621,0.2068965517241379,20.0,4.0,0.0,0.5972222222222222
"in the redshift range 0.01 ≤ z ≤ 0.05. It is evident from   truths, which is systematically lower than the RMSE if",0.0,0.7982456140350878,0.20175438596491224,22.0,2.0,0.0,0.6041666666666667
Figure 1 that xGASS galaxies are the most gas-poor of       there is non-zero mean error (or offset).,0.0,0.7821782178217822,0.2178217821782178,17.0,4.0,0.0,0.6493055555555556
"our three samples, in part due to their relatively high        We use the xresnet family of CNN architectures, which",0.0,0.7844827586206896,0.2155172413793104,19.0,5.0,0.0,0.5972222222222222
stellar masses (Table 1). All xGASS systems have an-        are enhanced versions of the original residual neural net-,0.0,0.7966101694915254,0.2033898305084746,18.0,5.0,0.0,0.5902777777777778
"cillary SDSS photometry and spectroscopy. The sample        works (He et al. 2015, 2018). Our 34-layer xresnets are",0.0,0.8,0.19999999999999996,17.0,5.0,0.0,0.6006944444444444
"spans a range of galaxy morphologies, from passive el-      further modified such that the usual Rectified Linear",0.0,0.8141592920353983,0.18584070796460173,17.0,4.0,0.0,0.6076388888888888
"lipticals to starbursting mergers, and is complete down     Unit (ReLU) activation functions are replaced with Mish",0.0,0.8347826086956521,0.16521739130434787,16.0,3.0,0.0,0.6006944444444444
"to M ≈ −1.70 for galaxies with log(M? /M ) ≥ 9.7.           (Misra 2019), and simple self-attention layers are added",0.0,0.75,0.25,20.0,6.0,0.0,0.5972222222222222
The most gas-poor members of the xGASS sample only          after convolutions in the residual blocks (Zhang et al.,0.0,0.7739130434782608,0.22608695652173916,18.0,6.0,0.0,0.6006944444444444
"have 5 σ upper limits on MHI available. However, we         2018). We train each model from scratch, as no pre-",0.0,0.7567567567567568,0.2432432432432432,20.0,5.0,0.0,0.6145833333333333
include them in our sample because the more massive         trained CNN with this architecture is available. In order,0.0,0.7863247863247863,0.2136752136752137,18.0,5.0,0.0,0.59375
"systems have been observed to similar M completeness,       to iteratively update the CNN’s weights, we use a com-",0.0,0.7982456140350878,0.20175438596491224,18.0,4.0,0.0,0.6041666666666667
and the entire sample has a common gas mass limit           bined Rectified Adam (Liu et al. 2019) and LookAhead,0.0,0.75,0.25,19.0,6.0,0.0,0.6111111111111112
log(MHI /M ) = 8.                                           (Zhang et al. 2019) optimizer. Weight decay with a co-,0.0,0.5087719298245614,0.49122807017543857,15.0,22.0,0.0,0.6041666666666667
3. METHODOLOGY: DEEP NEURAL NETWORKS                        efficient of 0.01 is applied to all trainable layers except,0.0,0.6890756302521008,0.31092436974789917,15.0,13.0,0.0,0.5868055555555556
                                                            batch normalization layers (Goyal et al. 2017); note that,60.0,0.4188034188034188,0.5811965811965811,9.0,1.0,0.20833333333333334,0.59375
   We optimize deep CNNs in order to predict the H I        we use true weight decay rather than the L2 norm (see,3.0,0.7256637168141593,0.2743362831858407,22.0,5.0,0.010416666666666666,0.6076388888888888
"mass fraction directly from three-band SDSS images,         Loshchilov & Hutter 2017 for details).",0.0,0.7959183673469388,0.20408163265306123,13.0,5.0,0.0,0.6597222222222222
"i.e., arrays of 3 × 224 × 224 pixels. Because the goal         It is typical to evaluate deep learning models using",0.0,0.7565217391304347,0.24347826086956526,21.0,5.0,0.0,0.6006944444444444
"is to estimate M, a scalar quantity, we are optimizing      a validation set drawn from the same distribution as",0.0,0.7946428571428571,0.2053571428571429,19.0,4.0,0.0,0.6111111111111112
the CNN to solve a regression task rather than a classi-    the training set. If the model performs well on the,0.0,0.7927927927927928,0.2072072072072072,21.0,3.0,0.0,0.6145833333333333
fication problem (although in later sections we will also   training data but fails to perform well on the valida-,0.0,0.8245614035087719,0.17543859649122806,19.0,2.0,0.0,0.6041666666666667
"use CNNs for classification). Training a neural network     tion data, then it is a sign that the model suffers from",0.0,0.8017241379310345,0.19827586206896552,20.0,3.0,0.0,0.5972222222222222
"requires several steps, which can briefly described as fol- overfitting. We randomly split the data by 80%/20% for",0.0,0.8508771929824561,0.14912280701754388,18.0,1.0,0.0,0.6041666666666667
"lows. The CNN ingests a batch of images and outputs         training/validation sets, unless otherwise noted.",0.0,0.7981651376146789,0.2018348623853211,15.0,5.0,0.0,0.6215277777777778
predictions (Mpred ) one batch at a time. These pre-           We train batches of 64 images at a time using a,0.0,0.7272727272727273,0.2727272727272727,21.0,6.0,0.0,0.6180555555555556
"dictions are compared to their ground truth values (i.e.,   Nvidia P100 graphics processing unit (GPU). The learn-",0.0,0.8421052631578947,0.1578947368421053,17.0,2.0,0.0,0.6041666666666667
"Mtrue ) via the loss function, which measures the level of  ing rate is scheduled according to the “one-cycle” policy",0.0,0.8290598290598291,0.1709401709401709,20.0,2.0,0.0,0.59375
discrepancy. CNN model parameters are then updated          for 40 epochs (using the default hyperparameters set by,0.0,0.7913043478260869,0.20869565217391306,16.0,6.0,0.0,0.6006944444444444
"using an optimization algorithm that minimizes the loss.    fastai; Smith 2018), we set a maximum learning rate of",0.0,0.8245614035087719,0.17543859649122806,18.0,3.0,0.0,0.6041666666666667
This process iterates until all samples in the training     0.01. Dihedral group operations are randomly applied to,0.0,0.8260869565217391,0.17391304347826086,17.0,3.0,0.0,0.6006944444444444
"set have been used (signaling the end of an epoch), at      images in order to augment the training set by a factor",0.0,0.7739130434782608,0.22608695652173916,22.0,4.0,0.0,0.6006944444444444
which point the loss can be reported for the validation,0.0,0.8363636363636363,0.1636363636363637,10.0,1.0,0.0,0.8090277777777778
"set, and the training loop repeated. The optimization",0.0,0.8679245283018868,0.13207547169811318,8.0,1.0,0.0,0.8159722222222222
                                                               4,63.0,0.015625,0.984375,1.0,1.0,0.21875,0.7777777777777778
details are very similar to the training routine described       A slope of zero and an RMSE equal to the inherent scatter can,0.0,0.7857142857142857,0.2142857142857143,22.0,4.0,0.0,0.5625
in Appendix A of Wu & Boada (2019).                              be achieved by always predicting the validation sample’s mean.,0.0,0.6456692913385826,0.35433070866141736,17.0,16.0,0.0,0.5590277777777778
avr_spaces,3.875,1.0,0.0,1.0,1.0,0.013454861111111112,0.9652777777777778
                                                                                                                                            5,140.0,0.0070921985815602835,0.9929078014184397,1.0,1.0,0.4861111111111111,0.5104166666666667
                                                                         exists a strong relationship between the H I content and,73.0,0.3643410852713178,0.6356589147286822,10.0,1.0,0.2534722222222222,0.5520833333333333
                                                                         the morphological information learned by a CNN from,73.0,0.3548387096774194,0.6451612903225806,8.0,1.0,0.2534722222222222,0.5694444444444444
       2.0,7.0,0.3,0.7,1.0,1.0,0.024305555555555556,0.9652777777777778
                                                                         SDSS gri image cutouts.,73.0,0.20833333333333334,0.7916666666666666,4.0,1.0,0.2534722222222222,0.6666666666666667
                   Train: .40A (80%),19.0,0.4166666666666667,0.5833333333333333,3.0,1.0,0.06597222222222222,0.875
       1.5         Valid: .40A (20%)                                        We repeat the exercise using the smaller α.40B sam-,7.0,0.48031496062992124,0.5196850393700787,13.0,25.0,0.024305555555555556,0.5590277777777778
"                                                                         ple, and find very similar results (RMSE = 0.235 dex),",73.0,0.3543307086614173,0.6456692913385826,10.0,1.0,0.2534722222222222,0.5590277777777778
       1.0                                                               even though α.40A is larger than α.40B by 54%. When,7.0,0.3629032258064516,0.6370967741935484,11.0,32.0,0.024305555555555556,0.5694444444444444
       0.5,7.0,0.3,0.7,1.0,1.0,0.024305555555555556,0.9652777777777778
                                                                         we examine the standard deviation of M for both sub-,73.0,0.344,0.656,10.0,1.0,0.2534722222222222,0.5659722222222222
"                                                                         samples, we find that α.40A has much larger scatter",73.0,0.3467741935483871,0.6532258064516129,9.0,1.0,0.2534722222222222,0.5694444444444444
       0.0                                                               (0.68 dex) than α.40B (0.50 dex). The broader selec-,7.0,0.376,0.624,10.0,32.0,0.024305555555555556,0.5659722222222222
pred,0.0,1.0,0.0,1.0,1.0,0.0,0.9861111111111112
                                                                         tion criteria for subsample A allows galaxies with poorer,73.0,0.3769230769230769,0.6230769230769231,9.0,1.0,0.2534722222222222,0.5486111111111112
       0.5,7.0,0.3,0.7,1.0,1.0,0.024305555555555556,0.9652777777777778
"                                                                         constraints on SFR or metallicity, which also means that",73.0,0.37209302325581395,0.627906976744186,9.0,1.0,0.2534722222222222,0.5520833333333333
       1.0                                                               galaxies with uncommon morphological or H I proper-,7.0,0.3790322580645161,0.6209677419354839,9.0,32.0,0.024305555555555556,0.5694444444444444
"                                                                         ties are included. Therefore, it is not surprising that the",73.0,0.3787878787878788,0.6212121212121212,10.0,1.0,0.2534722222222222,0.5416666666666667
"       1.5                                                               smaller α.40B subsample, which contains fewer outliers,",7.0,0.40625,0.59375,8.0,32.0,0.024305555555555556,0.5555555555555556
                                                                         produces similar results to the larger α.40A subsample.5,73.0,0.3798449612403101,0.6201550387596899,8.0,1.0,0.2534722222222222,0.5520833333333333
       2.0                                        RMSE = 0.235,7.0,0.20967741935483872,0.7903225806451613,4.0,21.0,0.024305555555555556,0.7847222222222222
                                                  Slope = 0.830,50.0,0.1746031746031746,0.8253968253968254,3.0,1.0,0.1736111111111111,0.78125
       2.5                                                                           4.2. Dependence on galaxy properties,7.0,0.2892561983471074,0.7107438016528926,6.0,38.0,0.024305555555555556,0.5798611111111112
             2.5     2.0   1.5   1.0   0.5 0.0   0.5   1.0   1.5   2.0,13.0,0.42857142857142855,0.5714285714285714,10.0,10.0,0.04513888888888889,0.7569444444444444
                                          true                             We find that a trained CNN can accurately recover M,42.0,0.36507936507936506,0.6349206349206349,11.0,15.0,0.14583333333333334,0.5625
                                                                         from optical imaging for the α.40 data set. No system-,73.0,0.3543307086614173,0.6456692913385826,10.0,1.0,0.2534722222222222,0.5590277777777778
"Figure 2. CNN-predicted logarithmic H I mass fraction                    atic biases are present, although incorrect predictions",0.0,0.7421875,0.2578125,15.0,11.0,0.0,0.5555555555555556
(Mpred ) plotted against measured values (Mtrue ) for the                tend to be scattered toward the center of the M distri-,0.0,0.7265625,0.2734375,21.0,9.0,0.0,0.5555555555555556
"α.40A validation subsample. The RMSE loss (in units of                   bution rather than toward the extrema. Generally, the",0.0,0.7301587301587301,0.2698412698412699,17.0,10.0,0.0,0.5625
dex) and the linear regression slope are shown.                          CNN tends to overpredict gas mass fractions for low-M,0.0,0.6746031746031746,0.32539682539682535,17.0,14.0,0.0,0.5625
                                                                         galaxies.,73.0,0.10975609756097561,0.8902439024390244,1.0,1.0,0.2534722222222222,0.7152777777777778
of eight and to force the CNN to learn such symmetries.                    We examine trends between ∆M ≡ Mpred − Mtrue,0.0,0.680672268907563,0.31932773109243695,20.0,11.0,0.0,0.5868055555555556
"The same transformations are applied during test-time                    and other physical properties of galaxies. For example,",0.0,0.7421875,0.2578125,15.0,11.0,0.0,0.5555555555555556
augmentation to the validation data. We always report                    it may be that the CNN tends to under- or overpre-,0.0,0.6991869918699187,0.30081300813008127,19.0,11.0,0.0,0.5729166666666667
RMSE performance for the validation or test set.                         dict M based on some image feature that also corre-,0.0,0.6693548387096774,0.3306451612903226,18.0,13.0,0.0,0.5694444444444444
"   We also consider simpler models for regressing M                      lates with other galaxy properties. However, we find",3.0,0.688,0.31200000000000006,16.0,12.0,0.010416666666666666,0.5659722222222222
based on the image data. These other regression models                   that ∆M does not vary systematically with any other,0.0,0.717741935483871,0.282258064516129,18.0,10.0,0.0,0.5694444444444444
"are tested in the Appendix A. Traditional statistical or                 property, and nor does the amount of scatter in ∆M.",0.0,0.7258064516129032,0.27419354838709675,19.0,9.0,0.0,0.5694444444444444
classical machine learning methods are unable to rep-                    The only trend that we find is a negative correlation,0.0,0.7142857142857143,0.2857142857142857,18.0,11.0,0.0,0.5625
"resent morphological features using pixels as features,                  between ∆M and Mtrue , which is expected when the",0.0,0.7295081967213115,0.2704918032786885,17.0,10.0,0.0,0.5763888888888888
"while CNNs are designed to encode image shapes, pat-                     regression slope is less than unity. In Figure 3, we show",0.0,0.7,0.30000000000000004,20.0,11.0,0.0,0.5486111111111112
"terns, and textures over multiple scales in a translation-               trends between ∆M and Mtrue , redshift, stellar mass,",0.0,0.753968253968254,0.24603174603174605,18.0,8.0,0.0,0.5625
"and rotation-invariant way. In Appendix B, we demon-                     SFR, and gas metallicity for the α.40B validation data",0.0,0.7165354330708661,0.2834645669291339,17.0,11.0,0.0,0.5590277777777778
strate that CNN predictions do not change significantly                  set (959 H I sources). ∆M also does not correlate with,0.0,0.7244094488188977,0.2755905511811023,19.0,10.0,0.0,0.5590277777777778
"if the input images are injected with artificial point                   specific SFR, 4000 Å break strength, or the δ5 environ-",0.0,0.71875,0.28125,19.0,10.0,0.0,0.5555555555555556
"sources, which reveals that the CNN has learned a ro-                    mental parameter (discussed in Section 7).",0.0,0.7043478260869566,0.29565217391304344,16.0,11.0,0.0,0.6006944444444444
"bust representation of galaxy morphology. Thus, we",0.0,0.88,0.12,7.0,1.0,0.0,0.8263888888888888
"continue our analysis and discussion using the CNN re-                           4.3. Testing on α.100, NIBLES, and xGASS",0.0,0.6611570247933884,0.33884297520661155,16.0,14.0,0.0,0.5798611111111112
sults.                                                                     We use the CNN trained on α.40A to estimate Mpred,0.0,0.3709677419354839,0.6290322580645161,11.0,35.0,0.0,0.5694444444444444
"                                 4. RESULTS                              for galaxies in the α.100, NIBLES, and xGASS test data",33.0,0.4251968503937008,0.5748031496062992,12.0,16.0,0.11458333333333333,0.5590277777777778
"                                                                         sets. In the first set of entries in Table 2, we report our",73.0,0.3560606060606061,0.6439393939393939,13.0,1.0,0.2534722222222222,0.5416666666666667
"                           4.1. Training on α.40                         results for each data set. We list the RMSE, slope, σ,",27.0,0.4881889763779528,0.5118110236220472,15.0,13.0,0.09375,0.5590277777777778
"  We train a deep CNN using 80% of the α.40A data set,                   and mean offset in order to quantify performance, al-",2.0,0.6825396825396826,0.31746031746031744,21.0,10.0,0.006944444444444444,0.5625
and evaluate its performance using the remaining 20%,0.0,0.8653846153846154,0.13461538461538458,8.0,1.0,0.0,0.8194444444444444
validation data set. The optimized model can predict M,0.0,0.8518518518518519,0.14814814814814814,9.0,1.0,0.0,0.8125
                                                                           5   Training a CNN on the α.40A sample leads to better validation,75.0,0.37142857142857144,0.6285714285714286,12.0,2.0,0.2604166666666667,0.5138888888888888
"to within RMSE = 0.235 dex. In Figure 2, we show that                          performance than training on the full α.100 sample (RMSE =",0.0,0.6642335766423357,0.33576642335766427,22.0,14.0,0.0,0.5243055555555556
the predicted and true values of H I mass fraction agree                       0.25 dex). This is likely because the α.40A catalog (Haynes et al.,0.0,0.696551724137931,0.303448275862069,23.0,12.0,0.0,0.4965277777777778
"over two orders of magnitude in M, and that the slope                          2011) is more cleanly matched to SDSS than our custom cross-",0.0,0.6690647482014388,0.3309352517985612,22.0,14.0,0.0,0.5173611111111112
is close to unity. Our results demonstrate that there                          matching of α.100 to SDSS sources (Haynes et al. 2018).,0.0,0.6791044776119403,0.32089552238805974,19.0,14.0,0.0,0.5347222222222222
avr_spaces,22.951612903225808,1.0,0.0,1.0,1.0,0.07969310035842295,0.9652777777777778
6,0.0,1.0,0.0,1.0,1.0,0.0,0.9965277777777778
    1.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    0.5                                                                                                                  2.0,4.0,0.04838709677419355,0.9516129032258065,2.0,58.0,0.013888888888888888,0.5694444444444444
    0.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    0.5                                                                                                                  1.5       .100,4.0,0.07407407407407407,0.9259259259259259,3.0,61.0,0.013888888888888888,0.53125
    1.0                                                 true,4.0,0.11666666666666667,0.8833333333333333,2.0,25.0,0.013888888888888888,0.7916666666666666
                   1.0                  0.5            0.0              0.5                  1.0                         1.0,19.0,0.14516129032258066,0.8548387096774194,6.0,44.0,0.06597222222222222,0.5694444444444444
    1.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    0.5                                                                                                                  0.5,4.0,0.04838709677419355,0.9516129032258065,2.0,58.0,0.013888888888888888,0.5694444444444444
    0.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    0.5,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
                                                  Redshift                                                        pred,50.0,0.1016949152542373,0.8983050847457628,2.0,29.0,0.1736111111111111,0.5902777777777778
                                                                                                                         0.0,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
    1.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
      0.00,6.0,0.4,0.6,1.0,1.0,0.020833333333333332,0.9652777777777778
    1.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
                          0.01           0.02          0.03          0.04             0.05           0.06                0.5,26.0,0.21774193548387097,0.782258064516129,7.0,35.0,0.09027777777777778,0.5694444444444444
    0.5,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    0.0                                                                                                                  1.0,4.0,0.04838709677419355,0.9516129032258065,2.0,58.0,0.013888888888888888,0.5694444444444444
    0.5,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    1.0                                         log(M /M )                                                               1.5,4.0,0.11290322580645161,0.8870967741935484,5.0,52.0,0.013888888888888888,0.5694444444444444
    1.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
                    8.5                 9.0            9.5            10.0               10.5,20.0,0.1827956989247312,0.8172043010752688,5.0,28.0,0.06944444444444445,0.6770833333333333
                                                                                                                         2.0                     RMSE = 0.297,121.0,0.08280254777070063,0.9171974522292994,4.0,11.0,0.4201388888888889,0.45486111111111116
    0.5                                                                                                                                          Slope = 0.733,4.0,0.08860759493670886,0.9113924050632911,4.0,70.0,0.013888888888888888,0.45138888888888884
    0.0                                                                                                                  2.5,4.0,0.04838709677419355,0.9516129032258065,2.0,58.0,0.013888888888888888,0.5694444444444444
    0.5,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    1.0                                         12 + log(O/H)                                                            2.0,4.0,0.13709677419354838,0.8629032258064516,5.0,51.0,0.013888888888888888,0.5694444444444444
    1.0,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
               8.2                8.4            8.6           8.8            9.0            9.2,15.0,0.1875,0.8125,6.0,32.0,0.052083333333333336,0.6666666666666667
                                                                                                                         1.5     NIBLES,121.0,0.06666666666666667,0.9333333333333333,2.0,3.0,0.4201388888888889,0.53125
    0.5,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    0.0                                                                                                                  1.0,4.0,0.04838709677419355,0.9516129032258065,2.0,58.0,0.013888888888888888,0.5694444444444444
    0.5,4.0,0.42857142857142855,0.5714285714285714,1.0,1.0,0.013888888888888888,0.9756944444444444
    1.0                                       log(SFR/M yr 1)                                                            0.5,4.0,0.1532258064516129,0.8467741935483871,5.0,50.0,0.013888888888888888,0.5694444444444444
             1.5                 1.0             0.5           0.0              0.5                1.0,13.0,0.17647058823529413,0.8235294117647058,6.0,35.0,0.04513888888888889,0.6458333333333333
                                                                                                                  pred,114.0,0.03389830508474576,0.9661016949152542,1.0,1.0,0.3958333333333333,0.5902777777777778
                                                                                                                         0.0,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
Figure 3.       Comparisons between logarithmic H I mass,0.0,0.7678571428571429,0.2321428571428571,8.0,4.0,0.0,0.8055555555555556
"fraction residuals (∆M) and observed H I mass fraction, red-",0.0,0.85,0.15000000000000002,10.0,1.0,0.0,0.7916666666666666
                                                                                                                         0.5,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
"shift, stellar mass, SFR, and gas metallicity. Only the α.40B                                                            1.0",0.0,0.4435483870967742,0.5564516129032258,11.0,31.0,0.0,0.5694444444444444
validation data are shown. Aside from an anti-correlation in,0.0,0.8666666666666667,0.1333333333333333,9.0,1.0,0.0,0.7916666666666666
"∆M vs Mtrue , which appears because the linear regression                                                                1.5",0.0,0.4112903225806452,0.5887096774193548,11.0,33.0,0.0,0.5694444444444444
                                                                                                                         2.0                     RMSE = 0.370,121.0,0.08280254777070063,0.9171974522292994,4.0,11.0,0.4201388888888889,0.45486111111111116
                                                                                                                                                 Slope = 0.839,145.0,0.06962025316455696,0.930379746835443,3.0,1.0,0.5034722222222222,0.45138888888888884
"slope is shallower than unity, no correlation between residu-",0.0,0.8688524590163934,0.1311475409836066,9.0,1.0,0.0,0.7881944444444444
als and other galaxy properties is observed.,0.0,0.8636363636363636,0.13636363636363635,7.0,1.0,0.0,0.8472222222222222
                                                                                                                         2.5,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
                                                                                                                         2.0,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
though we primarily rely on the first two metrics. CNN,0.0,0.8333333333333334,0.16666666666666663,10.0,1.0,0.0,0.8125
predictions are also shown in Figure 4.                                                                                  1.5     xGASS,0.0,0.30597014925373134,0.6940298507462687,9.0,44.0,0.0,0.5347222222222222
                                       4.3.1. α.100 results                                                              1.0,39.0,0.1693548387096774,0.8306451612903226,4.0,32.0,0.13541666666666666,0.5694444444444444
"   By construction, our α.100 test sample does not over-                                                                 0.5",3.0,0.3870967741935484,0.6129032258064516,10.0,33.0,0.010416666666666666,0.5694444444444444
"lap with α.40, so it can be used as an independent test",0.0,0.8,0.19999999999999996,12.0,1.0,0.0,0.8090277777777778
                                                                                                                  pred,114.0,0.03389830508474576,0.9661016949152542,1.0,1.0,0.3958333333333333,0.5902777777777778
                                                                                                                         0.0,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
"for the trained CNN. In the top panel of Figure 4, we",0.0,0.7924528301886793,0.2075471698113207,12.0,1.0,0.0,0.8159722222222222
                                                                                                                         0.5,121.0,0.024193548387096774,0.9758064516129032,1.0,1.0,0.4201388888888889,0.5694444444444444
show a scatter plot of Mpred against Mtrue for α.100.,0.0,0.8301886792452831,0.16981132075471694,10.0,1.0,0.0,0.8159722222222222
"Overall, we find that the CNN recovers Mtrue accurately                                                                  1.0",0.0,0.4032258064516129,0.5967741935483871,10.0,34.0,0.0,0.5694444444444444
to within 0.30 dex. The performance is weaker than the                                                                   1.5,0.0,0.3870967741935484,0.6129032258064516,11.0,34.0,0.0,0.5694444444444444
"α.40 validation sample (RMSE = 0.235 dex), which im-",0.0,0.8461538461538461,0.15384615384615385,9.0,1.0,0.0,0.8194444444444444
                                                                                                                         2.0                     RMSE = 0.625,121.0,0.08280254777070063,0.9171974522292994,4.0,11.0,0.4201388888888889,0.45486111111111116
plies that the CNN is unable to perfectly generalize to                                                                                          Slope = 0.472,0.0,0.36075949367088606,0.639240506329114,13.0,46.0,0.0,0.45138888888888884
"the α.100 catalog. However, we note that our custom                                                                      2.5",0.0,0.3709677419354839,0.6290322580645161,10.0,36.0,0.0,0.5694444444444444
                                                                                                                               2.5 2.0 1.5 1.0 0.5 0.0 0.5 1.0 1.5 2.0,127.0,0.18072289156626506,0.8192771084337349,10.0,1.0,0.4409722222222222,0.42361111111111116
crossmatch of α.100 to SDSS counterparts is different                                                                                            true,0.0,0.33557046979865773,0.6644295302013423,9.0,47.0,0.0,0.48263888888888884
from the published α.40 crossmatch to SDSS counter-,0.0,0.8627450980392157,0.13725490196078427,8.0,1.0,0.0,0.8229166666666666
"parts (Haynes et al. 2011), and that disparate selection",0.0,0.8571428571428571,0.1428571428571429,9.0,1.0,0.0,0.8055555555555556
                                                                                                            Figure 4. CNN-predicted logarithmic H I mass fraction,108.0,0.2857142857142857,0.7142857142857143,8.0,1.0,0.375,0.4409722222222222
effects may cause issues in generalization as well. One                                                     (Mpred ) plotted against measured values (Mtrue ) for the,0.0,0.5757575757575758,0.4242424242424242,19.0,27.0,0.0,0.42708333333333337
"consequence of the imperfect crossmatching is that sev-                                                     α.100, NIBLES, and xGASS test samples.",0.0,0.5547945205479452,0.4452054794520548,14.0,27.0,0.0,0.4930555555555556
eral sources apparently have implausibly high gas mass,0.0,0.8703703703703703,0.12962962962962965,8.0,1.0,0.0,0.8125
fractions. When 43 sources with Mtrue > 2 are removed,0.0,0.8301886792452831,0.16981132075471694,10.0,1.0,0.0,0.8159722222222222
                                                                                                              The NIBLES catalog presents another opportunity to,110.0,0.275,0.725,7.0,1.0,0.3819444444444444,0.4444444444444444
"from the α.100 sample, we find that the test performance",0.0,0.8392857142857143,0.1607142857142857,10.0,1.0,0.0,0.8055555555555556
                                                                                                            test our CNN trained on α.40A. While the two samples,108.0,0.26875,0.73125,10.0,1.0,0.375,0.4444444444444444
"is RMSE = 0.23 dex, which is in agreement with our",0.0,0.8,0.19999999999999996,11.0,1.0,0.0,0.8263888888888888
"                                                                                                            have comparable stellar mass distributions, NIBLES",108.0,0.2848101265822785,0.7151898734177216,6.0,1.0,0.375,0.45138888888888884
α.40 training sample. We will discuss the impacts of,0.0,0.8461538461538461,0.15384615384615385,9.0,1.0,0.0,0.8194444444444444
                                                                                                            extends to significantly lower gas mass fractions than,108.0,0.29012345679012347,0.7098765432098766,8.0,1.0,0.375,0.4375
additional selection effects in Section 6.,0.0,0.8809523809523809,0.11904761904761907,6.0,1.0,0.0,0.8541666666666666
                                                                                                            α.40. We find that the CNN is generally able to re-,108.0,0.2578616352201258,0.7421383647798743,11.0,1.0,0.375,0.44791666666666663
                                  4.3.2. NIBLES results                                                     cover Mtrue to within 0.37 dex (see center panel of,34.0,0.3836477987421384,0.6163522012578616,13.0,27.0,0.11805555555555555,0.44791666666666663
avr_spaces,32.627906976744185,1.0,0.0,1.0,1.0,0.11329134366925064,0.9652777777777778
                                                                                                                       7,119.0,0.008333333333333333,0.9916666666666667,1.0,1.0,0.4131944444444444,0.5833333333333333
"Figure 4). We note that Mpred estimates for NIBLES          sively in astronomy (e.g., Zhu et al. 2014; Teimoorinia",0.0,0.7739130434782608,0.22608695652173916,18.0,6.0,0.0,0.6006944444444444
"are systematically high by about 0.14 dex (Table 2).        et al. 2017; Caldeira et al. 2019; Ćiprijanović et al. 2020),",0.0,0.7851239669421488,0.2148760330578512,20.0,5.0,0.0,0.5798611111111112
Our results are consistent with previous findings that      and they can supplement other machine learning estima-,0.0,0.8245614035087719,0.17543859649122806,16.0,4.0,0.0,0.6041666666666667
ALFALFA H I fluxes are about 0.16 dex (45%) higher          tors by classifying whether an input is representative of,0.0,0.7692307692307693,0.23076923076923073,19.0,6.0,0.0,0.59375
than NIBLES measurements for the overlapping sample         a training distribution. One such example is presented,0.0,0.8070175438596491,0.19298245614035092,15.0,5.0,0.0,0.6041666666666667
"(possibly due to a combination of flux calibration dif-     by Teimoorinia et al. (2017), where a shallow neural",0.0,0.8125,0.1875,18.0,3.0,0.0,0.6111111111111112
ferences and multi-beam flux reconstruction; van Driel      network is trained to distinguish ALFALFA H I detec-,0.0,0.8214285714285714,0.1785714285714286,16.0,4.0,0.0,0.6111111111111112
et al. 2016). If we rescale H I masses by the 0.16 dex      tions from non-detections. Their method relies on 15,0.0,0.7767857142857143,0.2232142857142857,21.0,4.0,0.0,0.6111111111111112
"systematic offset, then we find that the CNN’s predic-      galaxy parameters derived from SDSS spectroscopy and",0.0,0.8214285714285714,0.1785714285714286,16.0,4.0,0.0,0.6111111111111112
"tions are in better agreement with NIBLES measure-          photometry. However, one of the restrictions with this",0.0,0.7894736842105263,0.21052631578947367,16.0,6.0,0.0,0.6041666666666667
ments (RMSE = 0.34 dex).                                    approach is that it necessitates spectroscopic observa-,0.0,0.6,0.4,12.0,19.0,0.0,0.6006944444444444
                                                            tions and ancillary data in order to make predictions.,60.0,0.40350877192982454,0.5964912280701755,9.0,1.0,0.20833333333333334,0.6041666666666667
                   4.3.3. xGASS results                     Our method only requires an image of the galaxy. We,19.0,0.5405405405405406,0.45945945945945943,13.0,11.0,0.06597222222222222,0.6145833333333333
   The xGASS representative galaxy sample contains a        proceed by training a CNN PR algorithm based on opti-,3.0,0.7699115044247787,0.23008849557522126,17.0,5.0,0.010416666666666666,0.6076388888888888
considerable number of massive elliptical galaxies with     cal imaging in order to distinguish ALFALFA detections,0.0,0.8421052631578947,0.1578947368421053,15.0,3.0,0.0,0.6041666666666667
little gas content (see Table 1). For these gas-poor sys-   from non-detections.,0.0,0.8375,0.16249999999999998,12.0,2.0,0.0,0.7222222222222222
"tems, the CNN tends to overpredict M because it has                   5.2. Pattern recognition with a CNN",0.0,0.6857142857142857,0.3142857142857143,16.0,10.0,0.0,0.6354166666666667
"been trained on α.40A, which comprises mostly H I-",0.0,0.84,0.16000000000000003,9.0,1.0,0.0,0.8263888888888888
"rich, star-forming galaxies. We observe that the CNN          We obtain gri imaging for a sample of z < 0.06 SDSS",0.0,0.7522123893805309,0.24778761061946908,20.0,6.0,0.0,0.6076388888888888
does not output values below Mpred ≈ −1.3 for xGASS         galaxies that are located in the ALFALFA footprint,0.0,0.7727272727272727,0.2272727272727273,18.0,5.0,0.0,0.6180555555555556
(although this does not appear to be a severe problem       but are undetected in the α.100 catalog. To ensure a,0.0,0.7767857142857143,0.2232142857142857,20.0,4.0,0.0,0.6111111111111112
"for NIBLES). As a result, our metrics indicate that the     clean sample of ALFALFA non-detections, we impose",0.0,0.8165137614678899,0.1834862385321101,17.0,3.0,0.0,0.6215277777777778
"RMSE is large and the slope is too flat, as shown in the    the same selection cuts used for α.100 (Section 2.2), and",0.0,0.7863247863247863,0.2136752136752137,23.0,3.0,0.0,0.59375
"bottom panel of Figure 4. Therefore, the CNN is un-         remove all galaxies with neighboring H I sources within",0.0,0.7739130434782608,0.22608695652173916,19.0,5.0,0.0,0.6006944444444444
"able to generalize to out-of-distribution galaxies such as  an Arecibo beam radius. We randomly select 7,399 AL-",0.0,0.8482142857142857,0.1517857142857143,17.0,2.0,0.0,0.6111111111111112
"massive, gas-poor systems in xGASS.                         FALFA non-detections from this parent sample to en-",0.0,0.6756756756756757,0.32432432432432434,13.0,13.0,0.0,0.6145833333333333
                                                            force balanced classes with α.40A detections.,60.0,0.38095238095238093,0.6190476190476191,6.0,1.0,0.20833333333333334,0.6354166666666667
          5. PATTERN RECOGNITION FOR                          We train a CNN PR algorithm using exactly the same,10.0,0.5714285714285714,0.4285714285714286,14.0,14.0,0.034722222222222224,0.6111111111111112
"           OUT-OF-DISTRIBUTION SAMPLES                      architecture as before, except that the final layer now",11.0,0.6347826086956522,0.3652173913043478,11.0,12.0,0.03819444444444445,0.6006944444444444
                                                            predicts two outputs. After applying a sigmoid func-,60.0,0.4017857142857143,0.5982142857142857,8.0,1.0,0.20833333333333334,0.6111111111111112
             5.1. Out-of-distribution samples,13.0,0.6666666666666666,0.33333333333333337,3.0,1.0,0.04513888888888889,0.84375
"                                                            tion, these two outputs represent the probabilities of",60.0,0.41228070175438597,0.5877192982456141,8.0,1.0,0.20833333333333334,0.6041666666666667
   The trained CNN is capable of making accurate pre-       detection (pCNN ) and non-detection (1 − pCNN ) in an,3.0,0.7522123893805309,0.24778761061946908,20.0,4.0,0.010416666666666666,0.6076388888888888
dictions where the training and test set distributions of   ALFALFA-like survey. The α.40A sample serves as,0.0,0.8411214953271028,0.15887850467289721,16.0,2.0,0.0,0.6284722222222222
"Mtrue overlap. For example, over 95% of the α.40A           ground truths for the ALFALFA detection category, and",0.0,0.7699115044247787,0.23008849557522126,17.0,6.0,0.0,0.6076388888888888
"training sample have Mtrue > −1, and it is evident          the non-detection sample serves as ground truths for the",0.0,0.7672413793103449,0.23275862068965514,19.0,6.0,0.0,0.5972222222222222
from Figure 4 that the CNN’s predictions for xGASS          non-detection category. We use the same optimization,0.0,0.7857142857142857,0.2142857142857143,16.0,6.0,0.0,0.6111111111111112
"are more accurate for higher values of Mtrue . How-         routine as before, except that cross-entropy loss is used",0.0,0.7777777777777778,0.2222222222222222,19.0,5.0,0.0,0.59375
"ever, for galaxies without measured H I masses, it is       as the optimization function since the objective now is",0.0,0.7913043478260869,0.20869565217391306,19.0,4.0,0.0,0.6006944444444444
not known a priori whether a galaxy’s Mtrue is within       binary classification. We also apply label smoothing,0.0,0.8035714285714286,0.1964285714285714,17.0,4.0,0.0,0.6111111111111112
"the distribution of the training sample, and we must        with  = 0.05, so that optimized values of pCNN gravitate",0.0,0.7777777777777778,0.2222222222222222,20.0,5.0,0.0,0.59375
"consider whether a galaxy is out-of-distribution in the     toward 0.05 and 0.95 for non-detections and detections,",0.0,0.8347826086956521,0.16521739130434787,16.0,3.0,0.0,0.6006944444444444
"input space (image data) rather than the target space       respectively (see, e.g., Müller et al. 2019). We optimize",0.0,0.8034188034188035,0.19658119658119655,18.0,4.0,0.0,0.59375
(Mtrue ). A CNN (or any regression algorithm) is essen-     the CNN using the same hyperparameters discussed in,0.0,0.8108108108108109,0.18918918918918914,18.0,3.0,0.0,0.6145833333333333
"tially a mapping between the input and output space,        Section 3.",0.0,0.7571428571428571,0.24285714285714288,11.0,5.0,0.0,0.7569444444444444
so it is feasible that the out-of-distribution Mtrue can,0.0,0.8571428571428571,0.1428571428571429,9.0,1.0,0.0,0.8055555555555556
be related to out-of-distribution galaxy images. For the                          5.3. PR results,0.0,0.6391752577319587,0.3608247422680413,11.0,14.0,0.0,0.6631944444444444
"rest of the paper, we will consider α.40A detections to       In the top and bottom panels of Figure 5, we show the",0.0,0.7652173913043478,0.23478260869565215,22.0,4.0,0.0,0.6006944444444444
be “in-distribution” and ALFALFA non-detections to be       distributions of pCNN for the α.40A and ALFALFA non-,0.0,0.8125,0.1875,16.0,4.0,0.0,0.6111111111111112
"“out-of-distribution” for the trained CNN.                  detection samples, i.e., the training subsamples. Their",0.0,0.7565217391304347,0.24347826086956526,12.0,10.0,0.0,0.6006944444444444
   A neural network can be trained to recognize patterns    pCNN distributions are strongly peaked at ∼ 0.95 and,3.0,0.7946428571428571,0.2053571428571429,18.0,3.0,0.010416666666666666,0.6111111111111112
"in order to classify galaxies as in- or out-of-distribution 0.05, respectively, indicating that the CNN robustly",0.0,0.8660714285714286,0.1339285714285714,16.0,1.0,0.0,0.6111111111111112
(Hopfield 1987; Bishop 1995; Kinney et al. 1996). Pat-      identifies α.40A detections solely using optical imag-,0.0,0.8245614035087719,0.17543859649122806,16.0,4.0,0.0,0.6041666666666667
tern recognition (PR) algorithms have been used exten-      ing. The trained PR is able to distinguish ALFALFA,0.0,0.8090909090909091,0.19090909090909092,17.0,4.0,0.0,0.6180555555555556
avr_spaces,7.517857142857143,1.0,0.0,1.0,1.0,0.026103670634920636,0.9652777777777778
 8,1.0,0.5,0.5,1.0,1.0,0.003472222222222222,0.9930555555555556
                                                                               non-detections. pCNN > 0.5 represents a natural deci-,79.0,0.3484848484848485,0.6515151515151515,8.0,1.0,0.2743055555555556,0.5416666666666667
           0.4,11.0,0.21428571428571427,0.7857142857142857,1.0,1.0,0.03819444444444445,0.9513888888888888
"                                         .40A                                  sion boundary, although in practice we may find that",41.0,0.366412213740458,0.633587786259542,10.0,18.0,0.1423611111111111,0.5451388888888888
"           0.2                                                                 other values are better. For example, we have trained",11.0,0.36363636363636365,0.6363636363636364,10.0,33.0,0.03819444444444445,0.5416666666666667
           0.0                                                                 the CNN PR using an equal ratio of detected and unde-,11.0,0.3484848484848485,0.6515151515151515,12.0,33.0,0.03819444444444445,0.5416666666666667
           0.4,11.0,0.21428571428571427,0.7857142857142857,1.0,1.0,0.03819444444444445,0.9513888888888888
"                                         .100                                  tected galaxies, but the ALFALFA survey only detects",41.0,0.37404580152671757,0.6259541984732824,9.0,18.0,0.1423611111111111,0.5451388888888888
           0.2                                                                 about 20% of typical galaxies in the low-redshift Uni-,11.0,0.3684210526315789,0.631578947368421,10.0,33.0,0.03819444444444445,0.5381944444444444
"           0.0                                                                 verse (Catinella et al. 2010), which may imply that a",11.0,0.3560606060606061,0.6439393939393939,11.0,33.0,0.03819444444444445,0.5416666666666667
           0.4                                                                 higher value of pCNN is desirable for rejecting false de-,11.0,0.375,0.625,11.0,33.0,0.03819444444444445,0.5277777777777778
Fraction,0.0,1.0,0.0,1.0,1.0,0.0,0.9722222222222222
                                     NIBLES                                    tections in typical massive galaxy samples.,37.0,0.36065573770491804,0.639344262295082,7.0,19.0,0.1284722222222222,0.5763888888888888
           0.2,11.0,0.21428571428571427,0.7857142857142857,1.0,1.0,0.03819444444444445,0.9513888888888888
"                                                                                  In Table 2, we present CNN regression results for all",82.0,0.32592592592592595,0.674074074074074,10.0,1.0,0.2847222222222222,0.53125
           0.0,11.0,0.21428571428571427,0.7857142857142857,1.0,1.0,0.03819444444444445,0.9513888888888888
           0.4                                                                 H I data sets using several choices of PR decision bound-,11.0,0.36764705882352944,0.6323529411764706,12.0,33.0,0.03819444444444445,0.5277777777777778
"                                     xGASS                                     ary. For the ALFALFA data sets, we find that different",37.0,0.37593984962406013,0.6240601503759399,11.0,19.0,0.1284722222222222,0.5381944444444444
           0.2                                                                 cuts in pCNN does not significantly impact regression,11.0,0.3712121212121212,0.6287878787878788,9.0,33.0,0.03819444444444445,0.5416666666666667
"           0.0                                                                 performance (as characterized by, e.g., RMSE). This",11.0,0.36923076923076925,0.6307692307692307,8.0,33.0,0.03819444444444445,0.5486111111111112
           0.4,11.0,0.21428571428571427,0.7857142857142857,1.0,1.0,0.03819444444444445,0.9513888888888888
                            ALFALFA non-detections                             is expected because the ALFALFA samples should not,28.0,0.49612403100775193,0.5038759689922481,10.0,15.0,0.09722222222222222,0.5520833333333333
"           0.2                                                                 contain out-of-distribution examples, and thus the PR",11.0,0.3787878787878788,0.6212121212121212,8.0,33.0,0.03819444444444445,0.5416666666666667
"           0.0                                                                 cuts will not strongly affect the results.7 For NIBLES,",11.0,0.373134328358209,0.6268656716417911,10.0,33.0,0.03819444444444445,0.5347222222222222
                 0.0       0.2     0.4          0.6     0.8        1.0         performance modestly improves as the pCNN threshold,17.0,0.4846153846153846,0.5153846153846153,13.0,21.0,0.059027777777777776,0.5486111111111112
                                         pCNN                                  increases from zero (effectively the same as no cut) to,41.0,0.373134328358209,0.6268656716417911,11.0,18.0,0.1423611111111111,0.5347222222222222
"                                                                               0.5, 0.8, and 0.9. We find that strict pCNN cuts remove",79.0,0.3358208955223881,0.664179104477612,11.0,1.0,0.2743055555555556,0.5347222222222222
"Figure 5. Pattern recognition probability (pCNN ) distribu-                    gas-poor (e.g., Mtrue < −1) NIBLES systems for which",0.0,0.732824427480916,0.26717557251908397,17.0,11.0,0.0,0.5451388888888888
tions for different galaxy samples. The α.40A and ALFALFA,0.0,0.8596491228070176,0.14035087719298245,9.0,1.0,0.0,0.8020833333333334
                                                                               Mpred is systematically overestimated. The most dra-,79.0,0.3511450381679389,0.6488549618320612,7.0,1.0,0.2743055555555556,0.5451388888888888
"non-detections samples are used to train the CNN, while the",0.0,0.847457627118644,0.15254237288135597,10.0,1.0,0.0,0.7951388888888888
"α.100, NIBLES, and xGASS are test galaxy samples.                              matic improvement is seen in xGASS, for which a PR",0.0,0.6434108527131783,0.3565891472868217,18.0,16.0,0.0,0.5520833333333333
                                                                               cut of pCNN > 0.5 removes nearly three quarters of the,79.0,0.3308270676691729,0.6691729323308271,11.0,1.0,0.2743055555555556,0.5381944444444444
                                                                               sample. Increasing the pCNN threshold further refines,79.0,0.3560606060606061,0.6439393939393939,7.0,1.0,0.2743055555555556,0.5416666666666667
detections from non-detections with 93% accuracy and,0.0,0.8846153846153846,0.11538461538461542,7.0,1.0,0.0,0.8194444444444444
"                                                                               the CNN performance; the RMSE, σ, and mean offset",79.0,0.3203125,0.6796875,9.0,1.0,0.2743055555555556,0.5555555555555556
AUC = 0.93 (area under the curve for the receiver op-,0.0,0.8113207547169812,0.18867924528301883,11.0,1.0,0.0,0.8159722222222222
"                                                                               decrease, and the slope increases. For pCNN > 0.9, the",79.0,0.3383458646616541,0.6616541353383458,10.0,1.0,0.2743055555555556,0.5381944444444444
erating characteristic).6,0.0,0.96,0.040000000000000036,2.0,1.0,0.0,0.9131944444444444
                                                                               xGASS test set RMSE (0.24 dex) is comparable to that,79.0,0.3282442748091603,0.6717557251908397,10.0,1.0,0.2743055555555556,0.5451388888888888
"   We examine the pCNN distributions for the α.100,",3.0,0.803921568627451,0.196078431372549,8.0,1.0,0.010416666666666666,0.8229166666666666
                                                                               of the α.40A training set (0.23 dex).,79.0,0.2672413793103448,0.7327586206896552,7.0,1.0,0.2743055555555556,0.5972222222222222
"NIBLES, and xGASS samples, which are also shown",0.0,0.851063829787234,0.14893617021276595,8.0,1.0,0.0,0.8368055555555556
                                                                                  A larger threshold for pCNN enforces higher purity of,82.0,0.3333333333333333,0.6666666666666667,9.0,1.0,0.2847222222222222,0.53125
"in Figure 5. As expected, the α.100 galaxies are pre-",0.0,0.8301886792452831,0.16981132075471694,10.0,1.0,0.0,0.8159722222222222
                                                                               ALFALFA-like galaxies. We recommend that pCNN >,79.0,0.3253968253968254,0.6746031746031746,7.0,1.0,0.2743055555555556,0.5625
dominantly characterized by high values of pCNN . Most,0.0,0.8518518518518519,0.14814814814814814,9.0,1.0,0.0,0.8125
                                                                               0.9 be used for typical massive galaxy samples similar,79.0,0.3458646616541353,0.6541353383458647,9.0,1.0,0.2743055555555556,0.5381944444444444
galaxies in the NIBLES sample are also at pCNN ≈ 0.95,0.0,0.8113207547169812,0.18867924528301883,11.0,1.0,0.0,0.8159722222222222
"                                                                               to the xGASS representative sample. However, purity",79.0,0.34615384615384615,0.6538461538461539,7.0,1.0,0.2743055555555556,0.5486111111111112
and would be detected by an ALFALFA-like survey.,0.0,0.8541666666666666,0.14583333333333337,8.0,1.0,0.0,0.8333333333333334
"                                                                               comes at the cost of completeness, and we note that",79.0,0.3230769230769231,0.676923076923077,10.0,1.0,0.2743055555555556,0.5486111111111112
"The xGASS representative galaxy sample, conversely,",0.0,0.9019607843137255,0.0980392156862745,6.0,1.0,0.0,0.8229166666666666
                                                                               different science goals may call for a different balance,79.0,0.35555555555555557,0.6444444444444444,9.0,1.0,0.2743055555555556,0.53125
"is characterized mostly by low values of pCNN , although",0.0,0.8392857142857143,0.1607142857142857,10.0,1.0,0.0,0.8055555555555556
                                                                               between complete versus clean samples. For optically,79.0,0.3511450381679389,0.6488549618320612,7.0,1.0,0.2743055555555556,0.5451388888888888
there is a small fraction with high pCNN . Our results,0.0,0.8148148148148148,0.18518518518518523,11.0,1.0,0.0,0.8125
"                                                                               selected samples, we find that a pCNN > 0.9 threshold",79.0,0.3333333333333333,0.6666666666666667,10.0,1.0,0.2743055555555556,0.5416666666666667
verify that the gas mass fraction estimates suffered from,0.0,0.8596491228070176,0.14035087719298245,9.0,1.0,0.0,0.8020833333333334
                                                                               can robustly remove H I non-detections.,79.0,0.288135593220339,0.711864406779661,6.0,1.0,0.2743055555555556,0.5902777777777778
out-of-distribution error when evaluated on the xGASS,0.0,0.8867924528301887,0.1132075471698113,7.0,1.0,0.0,0.8159722222222222
"sample, but did not encounter the same issue for the                                   6. A COMPARISON OF M ESTIMATORS",0.0,0.5847457627118644,0.4152542372881356,16.0,18.0,0.0,0.5902777777777778
α.100 and NIBLES samples.,0.0,0.88,0.12,4.0,1.0,0.0,0.9131944444444444
                                                                                        6.1. Colors and morphological parameters,88.0,0.28125,0.71875,5.0,1.0,0.3055555555555556,0.5555555555555556
                       5.4. Combining Mpred and pCNN                             Many works have studied the correlations between,23.0,0.5193798449612403,0.48062015503875966,12.0,15.0,0.0798611111111111,0.5520833333333333
                                                                               galaxy properties and their H I content. Kannap-,79.0,0.3228346456692913,0.6771653543307087,8.0,1.0,0.2743055555555556,0.5590277777777778
  We can use the CNN PR results to assess the relia-,2.0,0.7692307692307693,0.23076923076923073,11.0,1.0,0.006944444444444444,0.8194444444444444
                                                                               pan (2004) finds that optical and near-infrared colors,79.0,0.3533834586466165,0.6466165413533835,8.0,1.0,0.2743055555555556,0.5381944444444444
bility of Mpred on the test data. We consider various,0.0,0.8301886792452831,0.16981132075471694,10.0,1.0,0.0,0.8159722222222222
threshold values of pCNN to separate detections from,0.0,0.8653846153846154,0.13461538461538458,8.0,1.0,0.0,0.8194444444444444
                                                                                 7   There is a subtle effect with the α.100 test set that causes the,81.0,0.35570469798657717,0.6442953020134228,14.0,2.0,0.28125,0.48263888888888884
                                                                                     RMSE to slightly increase as we restrict pCNN to higher values.,85.0,0.3581081081081081,0.6418918918918919,11.0,1.0,0.2951388888888889,0.48611111111111116
     6   The receiver operating characteristic (ROC) curve evaluates a               Galaxies labeled with lower pCNN generally have moderate H I,5.0,0.7310344827586207,0.2689655172413793,19.0,9.0,0.017361111111111112,0.4965277777777778
"         model’s performance at all classification decision boundaries.              properties (i.e., they are near the mode of the Mtrue distribu-",9.0,0.7364864864864865,0.2635135135135135,18.0,8.0,0.03125,0.48611111111111116
"         Generally, the false positive rate is plotted against the true pos-         tion), whereas sources labeled with higher values of pCNN might",9.0,0.75,0.25,21.0,5.0,0.03125,0.48611111111111116
"         itive rate, such that the expected area under the curve (AUC)               be extremely H I-rich (i.e., they have a broader distribution of",9.0,0.7046979865771812,0.2953020134228188,22.0,8.0,0.03125,0.48263888888888884
"         is 0.5 for a completely random model with balanced classes, and             Mtrue ). The end result is a < 0.01 dex increase as we shift the",9.0,0.6912751677852349,0.3087248322147651,26.0,7.0,0.03125,0.48263888888888884
         the AUC = 1 for a perfectly accurate and precise model.                     decision boundary from pCNN > 0.5 to 0.9.,9.0,0.626984126984127,0.373015873015873,19.0,11.0,0.03125,0.5625
avr_spaces,30.443037974683545,1.0,0.0,1.0,1.0,0.10570499296765119,0.9652777777777778
                                                                                                                            9,124.0,0.008,0.992,1.0,1.0,0.4305555555555556,0.5659722222222222
                         1.5    .100                                          .100,25.0,0.13414634146341464,0.8658536585365854,3.0,24.0,0.08680555555555555,0.7152777777777778
                               pCNN > 0.9                                    Cfgas > 0.5,31.0,0.19318181818181818,0.8068181818181819,6.0,19.0,0.1076388888888889,0.6944444444444444
                         1.0,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                         0.5,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                  pred   0.0,18.0,0.25,0.75,2.0,2.0,0.0625,0.9027777777777778
                         0.5,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                                                           CNN (this work)                                CNN (this work),59.0,0.21487603305785125,0.7851239669421488,6.0,17.0,0.2048611111111111,0.5798611111111112
                                                           RMSE = 0.202                                   RMSE = 0.184,59.0,0.1694915254237288,0.8305084745762712,6.0,18.0,0.2048611111111111,0.5902777777777778
                         1.0                               Slope = 0.840                                  Slope = 0.834,25.0,0.21008403361344538,0.7899159663865546,7.0,33.0,0.08680555555555555,0.5868055555555556
                                                           Teimoorinia+17                                 Teimoorinia+17,59.0,0.23333333333333334,0.7666666666666666,2.0,17.0,0.2048611111111111,0.5833333333333333
                                                           RMSE = 0.267                                   RMSE = 0.240,59.0,0.1694915254237288,0.8305084745762712,6.0,18.0,0.2048611111111111,0.5902777777777778
                         1.5                               Slope = 0.824                                  Slope = 0.831,25.0,0.21008403361344538,0.7899159663865546,7.0,33.0,0.08680555555555555,0.5868055555555556
                         1.5   NIBLES                                        NIBLES,25.0,0.18072289156626506,0.8192771084337349,3.0,22.0,0.08680555555555555,0.7118055555555556
                               pCNN > 0.9                                    Cfgas > 0.5,31.0,0.19318181818181818,0.8068181818181819,6.0,19.0,0.1076388888888889,0.6944444444444444
                         1.0,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                         0.5,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                  pred   0.0,18.0,0.25,0.75,2.0,2.0,0.0625,0.9027777777777778
                         0.5,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                                                           CNN (this work)                                CNN (this work),59.0,0.21487603305785125,0.7851239669421488,6.0,17.0,0.2048611111111111,0.5798611111111112
                                                           RMSE = 0.289                                   RMSE = 0.288,59.0,0.1694915254237288,0.8305084745762712,6.0,18.0,0.2048611111111111,0.5902777777777778
                         1.0                               Slope = 0.809                                  Slope = 0.751,25.0,0.21008403361344538,0.7899159663865546,7.0,33.0,0.08680555555555555,0.5868055555555556
                                                           Teimoorinia+17                                 Teimoorinia+17,59.0,0.23333333333333334,0.7666666666666666,2.0,17.0,0.2048611111111111,0.5833333333333333
                                                           RMSE = 0.317                                   RMSE = 0.311,59.0,0.1694915254237288,0.8305084745762712,6.0,18.0,0.2048611111111111,0.5902777777777778
                         1.5                               Slope = 0.774                                  Slope = 0.773,25.0,0.21008403361344538,0.7899159663865546,7.0,33.0,0.08680555555555555,0.5868055555555556
                         1.5   xGASS                                         xGASS,25.0,0.15853658536585366,0.8414634146341463,3.0,22.0,0.08680555555555555,0.7152777777777778
                               pCNN > 0.9                                    Cfgas > 0.5,31.0,0.19318181818181818,0.8068181818181819,6.0,19.0,0.1076388888888889,0.6944444444444444
                         1.0,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                         0.5,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                  pred   0.0,18.0,0.25,0.75,2.0,2.0,0.0625,0.9027777777777778
                         0.5,25.0,0.10714285714285714,0.8928571428571429,1.0,1.0,0.08680555555555555,0.9027777777777778
                                                           CNN (this work)                                CNN (this work),59.0,0.21487603305785125,0.7851239669421488,6.0,17.0,0.2048611111111111,0.5798611111111112
                                                           RMSE = 0.222                                   RMSE = 0.232,59.0,0.1694915254237288,0.8305084745762712,6.0,18.0,0.2048611111111111,0.5902777777777778
                         1.0                               Slope = 0.739                                  Slope = 0.714,25.0,0.21008403361344538,0.7899159663865546,7.0,33.0,0.08680555555555555,0.5868055555555556
                                                           Teimoorinia+17                                 Teimoorinia+17,59.0,0.23333333333333334,0.7666666666666666,2.0,17.0,0.2048611111111111,0.5833333333333333
                                                           RMSE = 0.283                                   RMSE = 0.258,59.0,0.1694915254237288,0.8305084745762712,6.0,18.0,0.2048611111111111,0.5902777777777778
                         1.5                               Slope = 0.722                                  Slope = 0.713,25.0,0.21008403361344538,0.7899159663865546,7.0,33.0,0.08680555555555555,0.5868055555555556
                               1.5   1.0    0.5   0.0     0.5   1.0    1.5   1.5   1.0     0.5   0.0     0.5   1.0    1.5,31.0,0.34710743801652894,0.6528925619834711,14.0,20.0,0.1076388888888889,0.5798611111111112
                                                   true                                           true,51.0,0.0784313725490196,0.9215686274509804,2.0,22.0,0.17708333333333334,0.6458333333333333
Figure 6. Comparison of Mpred versus Mtrue for our CNN trained on α.40A (blue circles) and the fully connected neural,0.0,0.8376068376068376,0.16239316239316237,20.0,1.0,0.0,0.59375
"network presented (pink crosses; Teimoorinia et al. 2017). We show results for the α.100 (top), NIBLES (middle), and xGASS",0.0,0.8524590163934426,0.14754098360655743,19.0,1.0,0.0,0.5763888888888888
"(bottom) samples, using a selection of pCNN > 0.9 (left) or Cfgas > 0.5 (right). Performance metrics are listed in each panel.",0.0,0.8333333333333334,0.16666666666666663,22.0,1.0,0.0,0.5625
avr_spaces,35.13953488372093,1.0,0.0,1.0,1.0,0.12201227390180877,0.9652777777777778
   10,3.0,0.4,0.6,1.0,1.0,0.010416666666666666,0.9826388888888888
  Table 2. Combined pattern recognition and Mpred results                   tion for observed and simulated galaxy samples by us-,2.0,0.7209302325581395,0.2790697674418605,17.0,10.0,0.006944444444444444,0.5520833333333333
"                                                                            ing a variety of machine learning algorithms, such as",76.0,0.3488372093023256,0.6511627906976745,9.0,1.0,0.2638888888888889,0.5520833333333333
    PR cut       Data set    N      RMSE      Slope       σ      Offset,4.0,0.4084507042253521,0.5915492957746479,9.0,18.0,0.013888888888888888,0.7534722222222222
"                                                                            random forests, gradient-boosted trees, and deep neu-",76.0,0.3643410852713178,0.6356589147286822,7.0,1.0,0.2638888888888889,0.5520833333333333
                                    (dex)              (dex),36.0,0.16666666666666666,0.8333333333333334,2.0,8.0,0.125,0.7916666666666666
                                                                            ral networks. Their algorithms can achieve RMSE =,76.0,0.336,0.6639999999999999,8.0,1.0,0.2638888888888889,0.5659722222222222
                 α.40A      7128    0.2335   0.8427    0.2318     0.0285    0.25 − 0.3 dex when trained trained on real data (us-,17.0,0.5891472868217055,0.4108527131782945,17.0,13.0,0.059027777777777776,0.5520833333333333
                 α.100      6087    0.2975   0.7325    0.2974   −0.0076,17.0,0.4788732394366197,0.5211267605633803,6.0,10.0,0.059027777777777776,0.7534722222222222
     None,5.0,0.4444444444444444,0.5555555555555556,1.0,1.0,0.017361111111111112,0.96875
                 NIBLES      899    0.3705   0.8395    0.3416     0.1438    ing photometric and environmental parameters as in-,17.0,0.6141732283464567,0.3858267716535433,13.0,13.0,0.059027777777777776,0.5590277777777778
"                 xGASS      1179    0.6254   0.4724    0.4284     0.4558    put features), but the estimators are unable to accu-",17.0,0.6046511627906976,0.39534883720930236,15.0,13.0,0.059027777777777776,0.5520833333333333
                 α.40A      6674    0.2320   0.8429    0.2302     0.0291    rately predict M when trained on simulated data (see,17.0,0.6015625,0.3984375,15.0,13.0,0.059027777777777776,0.5555555555555556
                 α.100      5249    0.3043   0.7192    0.3042   −0.0086,17.0,0.4788732394366197,0.5211267605633803,6.0,10.0,0.059027777777777776,0.7534722222222222
  pCNN > 0.5,2.0,0.6666666666666666,0.33333333333333337,3.0,1.0,0.006944444444444444,0.9583333333333334
                 NIBLES      767    0.3566   0.8518    0.3238     0.1499,17.0,0.4583333333333333,0.5416666666666667,6.0,11.0,0.059027777777777776,0.75
                                                                            also Andrianomena et al. 2020). We also train classical,76.0,0.35877862595419846,0.6412213740458015,9.0,1.0,0.2638888888888889,0.5451388888888888
                 xGASS       326    0.3237   0.6423    0.2962     0.1314    machine learning algorithms to model three-color im-,17.0,0.609375,0.390625,13.0,13.0,0.059027777777777776,0.5555555555555556
"                 α.40A      6004    0.2334   0.8434    0.2316     0.0293    age inputs, and demonstrate that they predict M to",17.0,0.5952380952380952,0.40476190476190477,15.0,13.0,0.059027777777777776,0.5625
                 α.100      4454    0.3123   0.7084    0.3122   −0.0077     RMSE = 0.31 dex for α.40A (Appendix A).,17.0,0.5739130434782609,0.4260869565217391,14.0,12.0,0.059027777777777776,0.6006944444444444
  pCNN > 0.8,2.0,0.6666666666666666,0.33333333333333337,3.0,1.0,0.006944444444444444,0.9583333333333334
                 NIBLES      663    0.3508   0.8586    0.3170     0.1506,17.0,0.4583333333333333,0.5416666666666667,6.0,11.0,0.059027777777777776,0.75
                 xGASS       217    0.2755   0.6882    0.2669     0.0706       Teimoorinia et al. (2017) show that a fully connected,17.0,0.5833333333333334,0.41666666666666663,15.0,14.0,0.059027777777777776,0.5416666666666667
                 α.40A      5319    0.2322   0.8468    0.2304     0.0290    neural network (FCNN) can be used to estimate M to,17.0,0.5873015873015873,0.4126984126984127,16.0,13.0,0.059027777777777776,0.5625
                 α.100      3787    0.3107   0.7116    0.3107   −0.0085     σ = 0.22 dex on independent test sets when trained us-,17.0,0.6,0.4,17.0,12.0,0.059027777777777776,0.5486111111111112
  pCNN > 0.9,2.0,0.6666666666666666,0.33333333333333337,3.0,1.0,0.006944444444444444,0.9583333333333334
                 NIBLES      572    0.3435   0.8703    0.3116     0.1451,17.0,0.4583333333333333,0.5416666666666667,6.0,11.0,0.059027777777777776,0.75
                 xGASS       143    0.2449   0.7486    0.2365     0.0667,17.0,0.4444444444444444,0.5555555555555556,6.0,11.0,0.059027777777777776,0.75
                                                                            ing 15 galaxy properties. Although several of these input,76.0,0.3684210526315789,0.631578947368421,9.0,1.0,0.2638888888888889,0.5381944444444444
"                                                                            features are known to individually covary with M, the",76.0,0.3488372093023256,0.6511627906976745,9.0,1.0,0.2638888888888889,0.5520833333333333
Note— The scatter can be quantified using the RMSE or standard devia-,0.0,0.8405797101449275,0.1594202898550725,12.0,1.0,0.0,0.7604166666666666
" tion (σ) metrics, where lower is better. We also list the regression slope non-linear combination of these properties processed by",1.0,0.8473282442748091,0.15267175572519087,20.0,1.0,0.003472222222222222,0.5451388888888888
 (closer to unity is better) and average offset (closer to zero is better). a shallow neural network is able to robustly outperform,1.0,0.8320610687022901,0.16793893129770987,22.0,1.0,0.003472222222222222,0.5451388888888888
" All data sets are independent from each other, such that N is sometimes",1.0,0.8194444444444444,0.18055555555555558,13.0,1.0,0.003472222222222222,0.75
 smaller than the sample sizes listed in Table 1.                           traditional regression methods (see Ellison et al. 2016,1.0,0.6717557251908397,0.3282442748091603,17.0,14.0,0.003472222222222222,0.5451388888888888
                                                                            for details on the network architecture). They find that,76.0,0.36363636363636365,0.6363636363636364,9.0,1.0,0.2638888888888889,0.5416666666666667
                                                                            g − r color and µi are the most important parameters,76.0,0.328125,0.671875,11.0,1.0,0.2638888888888889,0.5555555555555556
"                                                                            for regression (similar to previous results), and that a",76.0,0.36363636363636365,0.6363636363636364,9.0,1.0,0.2638888888888889,0.5416666666666667
                                                                            galaxy’s bulge-to-total fraction also plays a role in gov-,76.0,0.373134328358209,0.6268656716417911,9.0,1.0,0.2638888888888889,0.5347222222222222
"  are connected to gas-to-stellar mass fraction, and re-",2.0,0.8392857142857143,0.1607142857142857,8.0,1.0,0.006944444444444444,0.8055555555555556
                                                                            erning M. Teimoorinia et al. (2017) also present a pat-,76.0,0.3511450381679389,0.6488549618320612,10.0,1.0,0.2638888888888889,0.5451388888888888
  ports a relationship between u − K and M with only,2.0,0.7692307692307693,0.23076923076923073,11.0,1.0,0.006944444444444444,0.8194444444444444
                                                                            tern recognition method for rejecting galaxies that are,76.0,0.366412213740458,0.633587786259542,8.0,1.0,0.2638888888888889,0.5451388888888888
  σ = 0.37 dex scatter. Zhang et al. (2009) use i-band sur-,2.0,0.7796610169491526,0.22033898305084743,12.0,1.0,0.006944444444444444,0.7951388888888888
                                                                            not representative of the training sample and tend to,76.0,0.3488372093023256,0.6511627906976745,9.0,1.0,0.2638888888888889,0.5520833333333333
"  face brightness, µi , in addition to g − r color to predict",2.0,0.7704918032786885,0.2295081967213115,13.0,1.0,0.006944444444444444,0.7881944444444444
                                                                            be incorrectly predicted. The authors combine the PR,76.0,0.3515625,0.6484375,8.0,1.0,0.2638888888888889,0.5555555555555556
  M. They find that the best-fit relation reduces the scat-,2.0,0.8135593220338984,0.18644067796610164,10.0,1.0,0.006944444444444444,0.7951388888888888
                                                                            probability and the epistemic uncertainty determined,76.0,0.3671875,0.6328125,6.0,1.0,0.2638888888888889,0.5555555555555556
  ter to 0.31 dex. Other morphological parameters have,2.0,0.8333333333333334,0.16666666666666663,8.0,1.0,0.006944444444444444,0.8125
"                                                                            from an ensemble of neural network predictions, σfitN , to",76.0,0.3656716417910448,0.6343283582089552,10.0,1.0,0.2638888888888889,0.5347222222222222
  been shown to tighten the relationship between galaxy,2.0,0.8363636363636363,0.1636363636363637,8.0,1.0,0.006944444444444444,0.8090277777777778
"                                                                            form Cfgas , which parameterizes the robustness of their",76.0,0.36363636363636365,0.6363636363636364,9.0,1.0,0.2638888888888889,0.5416666666666667
"  colors and M, such as stellar mass surface density and",2.0,0.8035714285714286,0.1964285714285714,10.0,1.0,0.006944444444444444,0.8055555555555556
                                                                            M prediction. Teimoorinia et al. (2017) have publically,76.0,0.366412213740458,0.633587786259542,8.0,1.0,0.2638888888888889,0.5451388888888888
"  axial ratios, which reduce σ ∼ 0.30 dex (e.g., Catinella",2.0,0.8103448275862069,0.18965517241379315,10.0,1.0,0.006944444444444444,0.7986111111111112
                                                                            released M and Cfgas estimates for a sample of over,76.0,0.33070866141732286,0.6692913385826771,10.0,1.0,0.2638888888888889,0.5590277777777778
  et al. 2010; Huang et al. 2012; Li et al. 2012; Catinella,2.0,0.7796610169491526,0.22033898305084743,12.0,1.0,0.006944444444444444,0.7951388888888888
"                                                                            500,000 SDSS galaxies.",76.0,0.20408163265306123,0.7959183673469388,3.0,1.0,0.2638888888888889,0.6597222222222222
  et al. 2013; Eckert et al. 2015).,2.0,0.7714285714285715,0.22857142857142854,7.0,1.0,0.006944444444444444,0.8784722222222222
     Teimoorinia et al. (2017) extend the Zhang et al.,5.0,0.7592592592592593,0.2407407407407407,9.0,1.0,0.017361111111111112,0.8125
  (2009) linear method by fitting a quadratic estimator                           6.3. Comparison to Teimoorinia et al. (2017),2.0,0.6666666666666666,0.33333333333333337,15.0,14.0,0.006944444444444444,0.5625
  to the inputs. They report a best fit of σ = 0.22 dex                        The FCNN by Teimoorinia et al. (2017) predicts M,2.0,0.6377952755905512,0.36220472440944884,22.0,13.0,0.006944444444444444,0.5590277777777778
"  on the training data; however, this estimator is unable                   with remarkably low scatter. Because their method out-",2.0,0.7230769230769231,0.27692307692307694,17.0,10.0,0.006944444444444444,0.5486111111111112
  to generalize well to gas-poor samples such as GASS.                      performs previous photometric gas fraction techniques,2.0,0.7131782945736435,0.28682170542635654,15.0,12.0,0.006944444444444444,0.5520833333333333
"  Conversely, Catinella et al. (2010) predict M for the                     (e.g., Kannappan 2004; Zhang et al. 2009), their results",2.0,0.7045454545454546,0.2954545454545454,18.0,11.0,0.006944444444444444,0.5416666666666667
  GASS sample using UV-optical colors and stellar mass                      serve as a valuable baseline for comparison to our work.,2.0,0.696969696969697,0.303030303030303,18.0,12.0,0.006944444444444444,0.5416666666666667
"  surface density, but their method begins to systemati-                    In order to make a fair comparison with their results,",2.0,0.7076923076923077,0.29230769230769227,18.0,11.0,0.006944444444444444,0.5486111111111112
  cally fail in the gas-rich regime of very blue galaxies. The              we first crossmatch our data to their catalogs using a,2.0,0.7307692307692307,0.2692307692307693,21.0,8.0,0.006944444444444444,0.5486111111111112
  lack of generalizability suggests that more robust esti-                  100 radius. This process removes a non-trivial fraction,2.0,0.7404580152671756,0.2595419847328244,16.0,10.0,0.006944444444444444,0.5451388888888888
"  mators are needed, and that pattern recognition should                    of the test set before any PR cuts are made; after cross-",2.0,0.6992481203007519,0.3007518796992481,20.0,11.0,0.006944444444444444,0.5381944444444444
"  be used to exclude galaxies that yield poor predictions                   matching, 67% of α.40A, 87% of α.100, 18% of NIBLES,",2.0,0.703125,0.296875,19.0,10.0,0.006944444444444444,0.5555555555555556
"  (e.g., Catinella et al. 2013).                                            and 86% of xGASS remain.",2.0,0.46,0.54,10.0,23.0,0.006944444444444444,0.6527777777777778
"                                                                               In Figure 7, we show Mpred versus Mtrue scatter plots",79.0,0.3333333333333333,0.6666666666666667,10.0,1.0,0.2743055555555556,0.5416666666666667
                  6.2. Machine learning methods                             comparing our predictions with Teimoorinia et al. (2017),18.0,0.5681818181818182,0.43181818181818177,12.0,15.0,0.0625,0.5416666666666667
"     Machine learning has recently become more popu-                        results. Overall, we find that the CNN outperforms the",5.0,0.6692307692307692,0.3307692307692308,16.0,13.0,0.017361111111111112,0.5486111111111112
  lar for constructing powerful and flexible M estima-                      FCNN according in terms of scatter and slope. Using a,2.0,0.689922480620155,0.31007751937984496,18.0,12.0,0.006944444444444444,0.5520833333333333
"  tors. Rafieferantsoa et al. (2018) estimate gas mass frac-                conservative threshold of pCNN > 0.9, we observe that",2.0,0.7364341085271318,0.26356589147286824,18.0,9.0,0.006944444444444444,0.5520833333333333
avr_spaces,25.43037974683544,1.0,0.0,1.0,1.0,0.08829992967651194,0.9652777777777778
                                                                                                                                                                                                                                                                                              11,286.0,0.006944444444444444,0.9930555555555556,1.0,1.0,0.9930555555555556,0.0
                0.40,16.0,0.2,0.8,1.0,1.0,0.05555555555555555,0.9305555555555556
                0.35                 CNN (this work)                                                                                                                                                                               0.634      0.383,16.0,0.1111111111111111,0.8888888888888888,6.0,99.0,0.05555555555555555,0.15625
                                     Teimoorinia+ 17                                                                                                                              0.362                                            0.675,37.0,0.10344827586206896,0.896551724137931,4.0,86.0,0.1284722222222222,0.19444444444444442
                                                                                                                                                                                                        0.352,200.0,0.024390243902439025,0.975609756097561,1.0,1.0,0.6944444444444444,0.2881944444444444
                                                                                                                                                                                                0.287,192.0,0.025380710659898477,0.9746192893401016,1.0,1.0,0.6666666666666666,0.3159722222222222
                                                                                                                                                                                                                                           0.324,235.0,0.020833333333333332,0.9791666666666666,1.0,1.0,0.8159722222222222,0.16666666666666663
                0.30                                                                                                                                                                                 0.325,16.0,0.04455445544554455,0.9554455445544554,2.0,89.0,0.05555555555555555,0.29861111111111116
                                                                                                                                                                                                 0.289                                                   0.319,193.0,0.03937007874015748,0.9606299212598425,2.0,26.0,0.6701388888888888,0.11805555555555558
                                                                                                                                                                               0.299      0.291,175.0,0.05235602094240838,0.9476439790575917,2.0,4.0,0.6076388888888888,0.3368055555555556
                                                                                                                                                                                                    0.317,196.0,0.024875621890547265,0.9751243781094527,1.0,1.0,0.6805555555555556,0.30208333333333337
                0.25                                                                                                                                                                                                                                                      0.283,16.0,0.033210332103321034,0.966789667896679,2.0,124.0,0.05555555555555555,0.05902777777777779
                                                                                                  0.269,98.0,0.04854368932038835,0.9514563106796117,1.0,1.0,0.3402777777777778,0.6423611111111112
                                                                                                                                                                                                0.288,192.0,0.025380710659898477,0.9746192893401016,1.0,1.0,0.6666666666666666,0.3159722222222222
   RMSE (dex),3.0,0.6923076923076923,0.3076923076923077,2.0,1.0,0.010416666666666666,0.9548611111111112
                          0.264      0.263      0.262      0.264                                             0.266      0.263      0.267                                                                                                              0.265,26.0,0.1593625498007968,0.8406374501992032,8.0,93.0,0.09027777777777778,0.1284722222222222
                                                                                                                                                                                                   0.311,195.0,0.025,0.975,1.0,1.0,0.6770833333333334,0.3055555555555556
                                                                      0.246                                                                   0.240      0.236      0.236,70.0,0.11834319526627218,0.8816568047337279,4.0,40.0,0.24305555555555555,0.4131944444444444
                                                                                                                                                                                                                                                                    0.232,260.0,0.018867924528301886,0.9811320754716981,1.0,1.0,0.9027777777777778,0.07986111111111116
                                                                                                                                                                                               0.274,191.0,0.025510204081632654,0.9744897959183674,1.0,1.0,0.6631944444444444,0.3194444444444444
                0.20                                                                   0.232                                                                                                 0.258,16.0,0.07216494845360824,0.9278350515463918,3.0,82.0,0.05555555555555555,0.32638888888888884
                                                                                                                                                                                                                                                                 0.222 0.258      0.176,257.0,0.053763440860215055,0.946236559139785,3.0,4.0,0.8923611111111112,0.03125
                       0.197      0.196      0.194      0.194                    0.173         0.198      0.197      0.198      0.202,23.0,0.3383458646616541,0.6616541353383458,9.0,33.0,0.0798611111111111,0.5381944444444444
                0.15                                               0.187      0.172                                                        0.184                                                                                                                                      0.221,16.0,0.08480565371024736,0.9151943462897526,5.0,122.0,0.05555555555555555,0.01736111111111116
                                                                                      0.224                                                           0.171,86.0,0.06451612903225806,0.935483870967742,2.0,30.0,0.2986111111111111,0.4618055555555556
                0.10,16.0,0.2,0.8,1.0,1.0,0.05555555555555555,0.9305555555555556
                                                                                                                                                                 0.155,161.0,0.030120481927710843,0.9698795180722891,1.0,1.0,0.5590277777777778,0.42361111111111116
                0.05,16.0,0.2,0.8,1.0,1.0,0.05555555555555555,0.9305555555555556
                        4798 4409 3823 3263 3399 1606 29                                        5124 4387 3694 3126 3598 1720 34                                                 158 137 116                 99     103      44    1012 262 168 107 203                              53,24.0,0.30824372759856633,0.6917562724014337,26.0,75.0,0.08333333333333333,0.03125
                0.00,16.0,0.2,0.8,1.0,1.0,0.05555555555555555,0.9305555555555556
                         ut          0.5        0.8        0.9        0.5        0.7     0.9     ut          0.5        0.8        0.9        0.5        0.7        0.9          ut          0.5     0.8     0.9     0.5     0.7    ut        0.5        0.8        0.9     0.5      0.7,25.0,0.2642857142857143,0.7357142857142858,26.0,88.0,0.08680555555555555,0.02777777777777779
                       no c        N>         N>         N>         as >       as >     as >,23.0,0.1956521739130435,0.8043478260869565,11.0,22.0,0.0798611111111111,0.6805555555555556
                                                                                               no c        N>         N>         N>         as >       as >       as >,95.0,0.10843373493975904,0.891566265060241,11.0,23.0,0.3298611111111111,0.42361111111111116
                                                                                                                                                                               no c        N>       N>      N>      as >    as >,175.0,0.06696428571428571,0.9330357142857143,9.0,16.0,0.6076388888888888,0.2222222222222222
                                                                                                                                                                                                                                   no c     N>         N>         N>       as >    as >,227.0,0.053763440860215055,0.946236559139785,9.0,16.0,0.7881944444444444,0.03125
                               pCN         pCN        pCN        Cfg        Cfg        Cfg             pCN         pCN        pCN        Cfg        Cfg        Cfg                     pCN         pCN     pCN     Cfg     Cfg            pCN       pCN        pCN        Cfg     Cfg,31.0,0.23826714801444043,0.7617328519855595,22.0,86.0,0.1076388888888889,0.03819444444444442
                                                          .40A                                                               .100                                                                    NIBLES                                               xGASS,58.0,0.07450980392156863,0.9254901960784314,4.0,89.0,0.2013888888888889,0.11458333333333337
Figure 7. Comparison of results using our CNN method (blue) and a fully connected neural network (red ; Teimoorinia et al.,0.0,0.8360655737704918,0.16393442622950816,21.0,1.0,0.0,0.5763888888888888
"2017) for ALFALFA, xGASS, and NIBLES galaxies crossmatched with the Teimoorinia et al. (2017) catalog. We show the",0.0,0.8508771929824561,0.14912280701754388,18.0,1.0,0.0,0.6041666666666667
RMSE for test subsamples selected using various choices of pattern recognition (Cfgas and pCNN ) or no cut at all; in every case,0.0,0.828125,0.171875,23.0,1.0,0.0,0.5555555555555556
the CNN recovers M with lower scatter. The number of galaxies in each test set is shown in at the bottom of each bar plot.,0.0,0.8032786885245902,0.19672131147540983,25.0,1.0,0.0,0.5763888888888888
Detailed comparisons with additional metrics are provided in Table 3.,0.0,0.8695652173913043,0.13043478260869568,10.0,1.0,0.0,0.7604166666666666
"the CNN predicts M to RMSE = 0.20 dex for α.100,                                                                                                                    for comparison only when the mean offset is small com-",0.0,0.38073394495412843,0.6192660550458715,21.0,59.0,0.0,0.24305555555555558
"compared to 0.27 dex for the FCNN. If we instead ap-                                                                                                                pared to the scatter.8 Nevertheless, we find that the",0.0,0.4009216589861751,0.599078341013825,20.0,57.0,0.0,0.2465277777777778
ply Cfgas > 0.5 to both the CNN and Teimoorinia et al.                                                                                                              CNN consistently outperforms the FCNN according to,0.0,0.40654205607476634,0.5934579439252337,19.0,56.0,0.0,0.2569444444444444
"(2017) results, we find RMSE = 0.18 and 0.24 dex, re-                                                                                                               both RMSE and σ.",0.0,0.3111111111111111,0.6888888888888889,15.0,56.0,0.0,0.375
"spectively, for α.100. Both methods give comparable                                                                                                                    It is intriguing that the CNN results are significantly",0.0,0.4144144144144144,0.5855855855855856,16.0,59.0,0.0,0.22916666666666663
results for the crossmatched NIBLES catalog (RMSE =                                                                                                                 improved after crossmatching with the Teimoorinia et al.,0.0,0.42272727272727273,0.5772727272727273,16.0,57.0,0.0,0.23611111111111116
"0.29 dex for the CNN, and 0.31 dex for the FCNN). For                                                                                                               (2017) catalog (i.e., comparing RMSE in Tables 2 and",0.0,0.39814814814814814,0.6018518518518519,21.0,56.0,0.0,0.25
"xGASS, we find that the CNN predictions are robust us-                                                                                                              3). Although we previously find RMSE = 0.30 dex for",0.0,0.4046511627906977,0.5953488372093023,20.0,56.0,0.0,0.2534722222222222
"ing either pCNN > 0.9 (RMSE = 0.22 dex) or Cfgas > 0.5                                                                                                              the α.100 test set, we now report RMSE = 0.20 dex, in",0.0,0.3870967741935484,0.6129032258064516,25.0,56.0,0.0,0.2465277777777778
"(RMSE = 0.23 dex), whereas the FCNN performs better                                                                                                                 part because the sources with unrealistic Mtrue values",0.0,0.41284403669724773,0.5871559633027523,17.0,57.0,0.0,0.24305555555555558
using the latter (0.26 dex).                                                                                                                                        identified in Section 4.3.1 have have been removed. Sub-,0.0,0.32727272727272727,0.6727272727272727,14.0,69.0,0.0,0.23611111111111116
"  In Table 3, we provide detailed comparisons of our re-                                                                                                            stantial improvements are also evident for the other data",2.0,0.4253393665158371,0.5746606334841629,19.0,55.0,0.006944444444444444,0.23263888888888884
sults with those published by Teimoorinia et al. (2017).                                                                                                            sets. This discrepancy is most likely due to selection,0.0,0.43119266055045874,0.5688073394495412,18.0,55.0,0.0,0.24305555555555558
"We test different pCNN and Cfgas thresholds in addi-                                                                                                                criteria introduced by Teimoorinia et al. (2017), which",0.0,0.4200913242009132,0.5799086757990868,17.0,57.0,0.0,0.23958333333333337
tion to the Cfgas > 0.5 threshold recommended by                                                                                                                    can remove galaxies with uncertain physical properties.,0.0,0.4063926940639269,0.5936073059360731,16.0,59.0,0.0,0.23958333333333337
"Teimoorinia et al. (2017). For all data sets, the CNN                                                                                                               A similar selection effect accounts for why α.40B has",0.0,0.41013824884792627,0.5898617511520737,19.0,56.0,0.0,0.2465277777777778
performs extremely well under the pCNN and Cfgas se-                                                                                                                smaller intrinsic scatter in M than α.40A. Teimoorinia,0.0,0.41743119266055045,0.5825688073394495,17.0,57.0,0.0,0.24305555555555558
"lection criteria. However, it is difficult to compare the                                                                                                           et al. (2017) restrict their analysis to galaxies with mag-",0.0,0.4439461883408072,0.5560538116591929,19.0,54.0,0.0,0.22569444444444442
"CNN and FCNN results for Cfgas thresholds higher than                                                                                                               nitudes in all SDSS bands, redshifts, sizes, morpho-",0.0,0.4166666666666667,0.5833333333333333,17.0,56.0,0.0,0.25
"0.5. For example, a Cfgas > 0.9 cut removes all NIBLES                                                                                                              logical measurements, and environmental parameters.",0.0,0.4232558139534884,0.5767441860465117,16.0,56.0,0.0,0.2534722222222222
and xGASS galaxies and only leaves a few galaxies in al-                                                                                                            Galaxies with all 15 properties are characterized by,0.0,0.4212962962962963,0.5787037037037037,19.0,55.0,0.0,0.25
pha.40 (N = 29) and alpha.100 (34). Even with a more                                                                                                                higher signal-to-noise observations and are more likely,0.0,0.4155251141552511,0.5844748858447488,18.0,57.0,0.0,0.23958333333333337
"moderate cut (Cfgas > 0.7), the sample size is small for                                                                                                            to have secure H I and stellar mass measurements. The",0.0,0.4147465437788018,0.5852534562211982,21.0,55.0,0.0,0.2465277777777778
"NIBLES (44) and xGASS (53). Therefore, our conclu-                                                                                                                  omitted galaxies tend to be redder and therefore more",0.0,0.4055299539170507,0.5944700460829493,17.0,58.0,0.0,0.2465277777777778
sions are based on the Cfgas = 0.5 decision boundary.                                                                                                               likely to contribute error and scatter. We conclude that,0.0,0.41818181818181815,0.5818181818181818,19.0,56.0,0.0,0.23611111111111116
  We primarily quantify our results using the RMSE                                                                                                                  the combination of selection criteria introduced during,2.0,0.410958904109589,0.589041095890411,15.0,58.0,0.006944444444444444,0.23958333333333337
"scatter. However, previous works often report σ when",0.0,0.8653846153846154,0.13461538461538458,8.0,1.0,0.0,0.8194444444444444
discussing scatter (Zhang et al. 2009; Teimoorinia et al.                                                                                                                 8   It is worth noting that Teimoorinia et al. (2017) systematically,0.0,0.4411764705882353,0.5588235294117647,20.0,58.0,0.0,0.17361111111111116
"2017). When there is no mean offset between Mpred                                                                                                                             predict lower M than we do, which causes negative offsets in",0.0,0.3888888888888889,0.6111111111111112,20.0,63.0,0.0,0.1875
"and Mtrue , σ is comparable to the RMSE. However,                                                                                                                             their ALFALFA predictions relative to Mtrue . Equivalently, our",0.0,0.4008438818565401,0.5991561181434599,19.0,63.0,0.0,0.17708333333333337
the RMSE will more heavily penalize predictions when                                                                                                                          NIBLES and xGASS predictions have positive offsets relative to,0.0,0.4194915254237288,0.5805084745762712,17.0,62.0,0.0,0.18055555555555558
                                                                                                                                                                              Mtrue . The systematic offset between our CNN and their FCNN,174.0,0.21367521367521367,0.7863247863247863,11.0,1.0,0.6041666666666666,0.1875
"there is an offset, such as the 0.14 dex offset in H I mass                                                                                                                   predictions is likely due to their strict exclusion of galaxies with",0.0,0.4297520661157025,0.5702479338842975,25.0,58.0,0.0,0.1597222222222222
"between NIBLES and ALFALFA, or the > 0.20 dex sys-                                                                                                                            neighboring H I sources, which leads to a 0.14 dex difference in",0.0,0.3949579831932773,0.6050420168067228,22.0,63.0,0.0,0.17361111111111116
tematic overpredictions for H I-poor galaxies in xGASS                                                                                                                        Mtrue between their clean and contaminated samples.,0.0,0.4088888888888889,0.5911111111111111,15.0,61.0,0.0,0.21875
(prior to applying PR cuts). We recommend using σ,0.0,0.8367346938775511,0.16326530612244894,9.0,1.0,0.0,0.8298611111111112
avr_spaces,51.34177215189873,1.0,0.0,1.0,1.0,0.17827004219409281,0.9652777777777778
 12,1.0,0.6666666666666666,0.33333333333333337,1.0,1.0,0.003472222222222222,0.9895833333333334
                                             Table 3. Comparison of CNN and FCNN Results,45.0,0.4090909090909091,0.5909090909090908,8.0,1.0,0.15625,0.6944444444444444
            PR cut       Data set     N                     CNN (this work)                            FCNN (Teimoorinia et al. 2017),12.0,0.39097744360902253,0.6090225563909775,13.0,30.0,0.041666666666666664,0.5381944444444444
                                              RMSE (dex)       Slope    σ (dex)     Offset       RMSE (dex)      Slope    σ (dex)     Offset,46.0,0.37142857142857144,0.6285714285714286,12.0,18.0,0.1597222222222222,0.5138888888888888
                         α.40A       4798           0.1967    0.8524     0.1953     0.0238             0.2637    0.8317    0.2556    −0.0647,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
                         α.100       5124           0.1975    0.8462     0.1971     0.0125             0.2688    0.8243    0.2574    −0.0775,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
             None,13.0,0.23529411764705882,0.7647058823529411,1.0,1.0,0.04513888888888889,0.9409722222222222
                         NIBLES       158           0.2988    0.7890     0.2791      0.1090            0.3622    0.7194    0.3474     0.1060,25.0,0.40714285714285714,0.5928571428571429,10.0,28.0,0.08680555555555555,0.5138888888888888
                         xGASS       1012           0.6338    0.4584     0.4258     0.4697             0.6751    0.4098    0.4793      0.4758,25.0,0.40425531914893614,0.5957446808510638,10.0,28.0,0.08680555555555555,0.5104166666666667
                         α.40A       4409           0.1958    0.8531     0.1942     0.0247             0.2626    0.8297    0.2548    −0.0636,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
                         α.100       4387           0.1968    0.8473     0.1963     0.0138             0.2660    0.8267    0.2550    −0.0758,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
          pCNN > 0.5,10.0,0.4,0.6,3.0,1.0,0.034722222222222224,0.9305555555555556
                         NIBLES       137           0.2909    0.7898     0.2739      0.1009            0.3518    0.7208    0.3435     0.0815,25.0,0.40714285714285714,0.5928571428571429,10.0,28.0,0.08680555555555555,0.5138888888888888
                         xGASS        262           0.3235    0.6221     0.2953      0.1333            0.3829    0.5796    0.3649     0.1182,25.0,0.4,0.6,10.0,29.0,0.08680555555555555,0.5138888888888888
                         α.40A       3823           0.1938    0.8574     0.1922     0.0250             0.2617    0.8343    0.2530    −0.0672,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
                         α.100       3694           0.1980    0.8440     0.1974     0.0160             0.2634    0.8263    0.2521    −0.0765,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
          pCNN > 0.8,10.0,0.4,0.6,3.0,1.0,0.034722222222222224,0.9305555555555556
                         NIBLES       116           0.2869    0.7981     0.2760      0.0826            0.3252    0.7361    0.3226     0.0509,25.0,0.40714285714285714,0.5928571428571429,10.0,28.0,0.08680555555555555,0.5138888888888888
                         xGASS        168           0.2645    0.6602     0.2568      0.0665            0.3185    0.6566    0.3182     0.0283,25.0,0.4,0.6,10.0,29.0,0.08680555555555555,0.5138888888888888
                         α.40A       3263           0.1944    0.8589     0.1927     0.0261             0.2638    0.8340    0.2552    −0.0670,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
                         α.100       3126           0.2021    0.8405     0.2015     0.0160             0.2665    0.8239    0.2548    −0.0783,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
          pCNN > 0.9,10.0,0.4,0.6,3.0,1.0,0.034722222222222224,0.9305555555555556
                         NIBLES        99           0.2895    0.8090     0.2822      0.0706            0.3167    0.7737    0.3174     0.0234,25.0,0.4,0.6,10.0,29.0,0.08680555555555555,0.5138888888888888
                         xGASS        107           0.2216    0.7392     0.2098      0.0742            0.2826    0.7222    0.2835     0.0145,25.0,0.4,0.6,10.0,29.0,0.08680555555555555,0.5138888888888888
                         α.40A       3399           0.1869    0.8306     0.1863     0.0157             0.2460    0.8179    0.2347    −0.0738,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
                         α.100       3598           0.1838    0.8344     0.1837     0.0063             0.2404    0.8311    0.2243    −0.0867,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
          Cfgas > 0.5,10.0,0.42857142857142855,0.5714285714285714,3.0,1.0,0.034722222222222224,0.9270833333333334
                         NIBLES       103           0.2876     0.7507    0.2692      0.1044            0.3113   0.7734     0.3091     0.0476,25.0,0.40714285714285714,0.5928571428571429,10.0,27.0,0.08680555555555555,0.5138888888888888
                         xGASS        203           0.2317    0.7138     0.2189      0.0777            0.2577    0.7127    0.2581     0.0112,25.0,0.4,0.6,10.0,29.0,0.08680555555555555,0.5138888888888888
                         α.40A       1606           0.1725    0.8142     0.1725     0.0039             0.2321    0.7968    0.2083    −0.1025,25.0,0.4142857142857143,0.5857142857142856,10.0,27.0,0.08680555555555555,0.5138888888888888
                         α.100       1720           0.1706     0.8238    0.1707    -0.0009             0.2356   0.8318     0.2074    −0.1119,25.0,0.42142857142857143,0.5785714285714285,10.0,26.0,0.08680555555555555,0.5138888888888888
          Cfgas > 0.7,10.0,0.42857142857142855,0.5714285714285714,3.0,1.0,0.034722222222222224,0.9270833333333334
                         NIBLES        44            0.2744    0.5946    0.2532      0.1124           0.2577    0.7070     0.2605    -0.0109,25.0,0.40714285714285714,0.5928571428571429,10.0,29.0,0.08680555555555555,0.5138888888888888
                         xGASS         53           0.1758    0.7999     0.1589      0.1124            0.2208    0.7494    0.2134    -0.0640,25.0,0.4,0.6,10.0,29.0,0.08680555555555555,0.5138888888888888
                         α.40A         29           0.1730    0.6614      0.1735   -0.0290             0.2236    0.6599   0.1666     −0.1523,25.0,0.40714285714285714,0.5928571428571429,10.0,27.0,0.08680555555555555,0.5138888888888888
          Cfgas > 0.9,10.0,0.42857142857142855,0.5714285714285714,3.0,1.0,0.034722222222222224,0.9270833333333334
                         α.100         34           0.1555    0.7549      0.1524   -0.0405             0.2358    0.7454   0.1446     −0.1879,25.0,0.40714285714285714,0.5928571428571429,10.0,27.0,0.08680555555555555,0.5138888888888888
       Note— We compare Mpred from this work and from the fully connected neural network trained by Teimoorinia et al. (2017) using,7.0,0.7938931297709924,0.20610687022900764,21.0,1.0,0.024305555555555556,0.5451388888888888
"         all data sets and several choices of pattern recognition cuts. In order to facilitate an equal comparison, only galaxies with matches",9.0,0.795774647887324,0.204225352112676,21.0,1.0,0.03125,0.5069444444444444
         in the Teimoorinia et al. (2017) catalog are evaluated. Bolded values indicate superior performance for a given combination of PR,9.0,0.7971014492753623,0.2028985507246377,20.0,1.0,0.03125,0.5208333333333333
"         cut, data set, and metric.",9.0,0.6285714285714286,0.37142857142857144,5.0,1.0,0.03125,0.8784722222222222
the comparison with Teimoorinia et al. (2017) explains,0.0,0.8703703703703703,0.12962962962962965,8.0,1.0,0.0,0.8125
the major improvement in our CNN predictions.,0.0,0.8666666666666667,0.1333333333333333,7.0,1.0,0.0,0.84375
        7. THE IMPACT OF ENVIRONMENT,8.0,0.6666666666666666,0.33333333333333337,5.0,1.0,0.027777777777777776,0.875
  The morphology and H I properties of a galaxy are,2.0,0.7843137254901961,0.21568627450980393,10.0,1.0,0.006944444444444444,0.8229166666666666
"strongly sensitive to its surrounding environment (e.g.,",0.0,0.8928571428571429,0.1071428571428571,7.0,1.0,0.0,0.8055555555555556
Serra et al. 2012; Jones et al. 2016). If a CNN can accu-,0.0,0.7894736842105263,0.21052631578947367,13.0,1.0,0.0,0.8020833333333334
rately learn a connection between galaxy optical imaging,0.0,0.875,0.125,8.0,1.0,0.0,0.8055555555555556
and M when trained only on systems in clustered envi-,0.0,0.8301886792452831,0.16981132075471694,10.0,1.0,0.0,0.8159722222222222
ronments but fails to accurately estimate H I content for,0.0,0.8421052631578947,0.1578947368421053,10.0,1.0,0.0,0.8020833333333334
"a test sample of isolated galaxies (or vice versa), then it",0.0,0.8305084745762712,0.1694915254237288,11.0,1.0,0.0,0.7951388888888888
may be a sign that the distribution of galaxy morpholo-,0.0,0.8363636363636363,0.1636363636363637,10.0,1.0,0.0,0.8090277777777778
"gies has shifted. In essence, we wish to probe whether                          Figure 8. Thick black lines show histogram distributions",0.0,0.6911764705882353,0.3088235294117647,18.0,14.0,0.0,0.5277777777777778
the H I-morphology relation learned by the CNN co-                              of normalized galaxy overdensity for the α.40 sample. Dot-,0.0,0.6666666666666666,0.33333333333333337,18.0,16.0,0.0,0.5208333333333333
varies with environment.                                                        ted and dashed vertical lines in both panels represent the,0.0,0.5144927536231884,0.48550724637681164,13.0,29.0,0.0,0.5208333333333333
"                                                                                20th and 80th percentile values for δ5 , respectively. We also",80.0,0.36619718309859156,0.6338028169014085,11.0,1.0,0.2777777777777778,0.5069444444444444
                    7.1. Galaxy overdensity                                     show the parent α.40 sample in light gray (prior to optical,20.0,0.5035971223021583,0.49640287769784175,14.0,19.0,0.06944444444444445,0.5173611111111112
                                                                                crossmatching with the SDSS catalog).,80.0,0.28205128205128205,0.717948717948718,5.0,1.0,0.2777777777777778,0.59375
  In order to quantitatively investigate the impacts of,2.0,0.8363636363636363,0.1636363636363637,8.0,1.0,0.006944444444444444,0.8090277777777778
"environment, we parameterize the environment using",0.0,0.9,0.09999999999999998,6.0,1.0,0.0,0.8263888888888888
"the projected galaxy density (e.g., Cooper et al. 2008):                        where D5 is the projected physical distance to each",0.0,0.6946564885496184,0.30534351145038163,18.0,13.0,0.0,0.5451388888888888
                                                                                galaxy’s fifth-nearest neighbor (including its own optical,80.0,0.37681159420289856,0.6231884057971014,7.0,1.0,0.2777777777777778,0.5208333333333333
                                      3,38.0,0.02564102564102564,0.9743589743589743,1.0,1.0,0.13194444444444445,0.8645833333333334
"                            Σ5 =          ,                         (2)         counterpart). We use neighboring galaxies in the NASA-",28.0,0.40298507462686567,0.5970149253731343,12.0,22.0,0.09722222222222222,0.5347222222222222
                                    πD52,36.0,0.1,0.9,1.0,1.0,0.125,0.8611111111111112
avr_spaces,18.71212121212121,1.0,0.0,1.0,1.0,0.0649726430976431,0.9652777777777778
                                                                                                                              13,126.0,0.015625,0.984375,1.0,1.0,0.4375,0.5555555555555556
Sloan Atlas (version 1.0.1; Blanton et al. 2011) within a             significantly worse than those validated on random or,0.0,0.7642276422764228,0.2357723577235772,18.0,7.0,0.0,0.5729166666666667
velocity window of ±1000 km s−1 in order to compute                   lower-δ5 environments. We conclude that the CNN is,0.0,0.7083333333333334,0.29166666666666663,18.0,10.0,0.0,0.5833333333333333
Σ5 for each H I source. We enforce a D > 10 Mpc dis-                  able to generalize predictions in a way that yields good,0.0,0.6825396825396826,0.31746031746031744,24.0,10.0,0.0,0.5625
tance cut in order to prevent contamination or biases                 performance in underdense environments when exposed,0.0,0.7520661157024794,0.2479338842975206,15.0,9.0,0.0,0.5798611111111112
"from the Local Group. Following Cooper et al. (2008),                 to galaxies in more overdense environments (relative to",0.0,0.744,0.256,17.0,9.0,0.0,0.5659722222222222
"we divide Σ5 by its median over a sliding redshift box-               randomized validation subsamples), yet the opposite is",0.0,0.75,0.25,18.0,8.0,0.0,0.5694444444444444
"car window of size ∆z = 0.02, which removes redshift                  not true.",0.0,0.6455696202531646,0.35443037974683544,12.0,10.0,0.0,0.7256944444444444
dependence. The final result is a normalized overdensity                 These results can be interpreted as evidence that the,0.0,0.746031746031746,0.25396825396825395,17.0,9.0,0.0,0.5625
"parameter, 1 + δ5 . In Figure 8, we show the distribution             H I-morphology connection is controlled by different",0.0,0.7540983606557377,0.24590163934426235,19.0,7.0,0.0,0.5763888888888888
of log(1 + δ5 ) for our α.40 sample crossmatched with                 physical mechanisms in the highest-δ5 environments.,0.0,0.7355371900826446,0.2644628099173554,17.0,9.0,0.0,0.5798611111111112
spectroscopically confirmed SDSS optical counterparts                 Galaxies residing in clusters are subject to ram pres-,0.0,0.7661290322580645,0.2338709677419355,14.0,9.0,0.0,0.5694444444444444
"(we also show the full α.40 sample in gray). It is appar-             sure stripping, tidal forces, galaxy-galaxy interactions,",0.0,0.7716535433070866,0.22834645669291342,18.0,7.0,0.0,0.5590277777777778
ent that the optical-H I crossmatching exercise removes               and other effects that can leave morphological imprints,0.0,0.768,0.23199999999999998,16.0,8.0,0.0,0.5659722222222222
"α.40 systems in the lowest-density environments. In Fig-              and also depress their gas content (e.g., Chung et al.",0.0,0.7580645161290323,0.24193548387096775,18.0,8.0,0.0,0.5694444444444444
"ure 9, we provide examples of SDSS image cutouts for                  2009; Fabello et al. 2012). By training on subsamples",0.0,0.7154471544715447,0.2845528455284553,19.0,10.0,0.0,0.5729166666666667
ALFALFA galaxies at various environmental densities.                  of galaxies characterized by relatively lower-density sur-,0.0,0.7734375,0.2265625,13.0,10.0,0.0,0.5555555555555556
"   We select 80% of the higher-δ5 galaxies for training               roundings, a CNN is unlikely to learn about the morpho-",3.0,0.72,0.28,19.0,8.0,0.010416666666666666,0.5659722222222222
and set aside the remaining 20% (with lower δ5 ) for                  logical cues associated with extreme physics of clustered,0.0,0.7244094488188977,0.2755905511811023,19.0,10.0,0.0,0.5590277777777778
"validation. In other words, we test whether a CNN                     environments, and therefore our experiment is able to",0.0,0.7073170731707317,0.29268292682926833,17.0,11.0,0.0,0.5729166666666667
trained on galaxies in higher-density environments can                distinguish between “typical” and “overdense” modes of,0.0,0.7741935483870968,0.22580645161290325,14.0,9.0,0.0,0.5694444444444444
accurately predict the H I content of galaxies in lower-              the H I-morphology connection. It is also worth noting,0.0,0.75,0.25,19.0,8.0,0.0,0.5694444444444444
"density environments. If this turns out to be the case,               that these tests may not even capture the full extent of",0.0,0.7301587301587301,0.2698412698412699,21.0,8.0,0.0,0.5625
"all else unchanged, then the environment does not sig-                the environmental effects, as the 3.80 Arecibo beam may",0.0,0.744,0.256,18.0,9.0,0.0,0.5659722222222222
nificantly impact the connection between H I richness                 cause overestimation of H I mass or misidentification of,0.0,0.746031746031746,0.25396825396825395,17.0,9.0,0.0,0.5625
"and optical imaging learned by the CNN. We also split                 optical counterparts in groups and clusters (e.g., Serra",0.0,0.7380952380952381,0.26190476190476186,18.0,9.0,0.0,0.5625
the sample such that the 80% with lower δ5 is used for                et al. 2015; Stevens et al. 2019). Such errors may ar-,0.0,0.7016129032258065,0.2983870967741935,23.0,9.0,0.0,0.5694444444444444
"training, and the 20% with higher δ5 is used for valida-              tificially boost H I content and thereby ameliorate the",0.0,0.744,0.256,20.0,8.0,0.0,0.5659722222222222
"tion. As a baseline comparison, we test the case where                CNN’s performance in high-density environments.",0.0,0.7521367521367521,0.24786324786324787,15.0,9.0,0.0,0.59375
the training and validation set are randomly split (but,0.0,0.8545454545454545,0.1454545454545455,9.0,1.0,0.0,0.8090277777777778
trained in the same manner otherwise).9 We repeat tests                         7.2. The overdensity transition regime,0.0,0.6864406779661016,0.31355932203389836,14.0,13.0,0.0,0.5902777777777778
"five times for each training/validation split, and report",0.0,0.8771929824561403,0.1228070175438597,8.0,1.0,0.0,0.8020833333333334
                                                                         We observe a stark difference in CNN performance,73.0,0.33884297520661155,0.6611570247933884,8.0,1.0,0.2534722222222222,0.5798611111111112
the RMSE average and standard deviation in Table 4.,0.0,0.8431372549019608,0.1568627450980392,9.0,1.0,0.0,0.8229166666666666
"                                                                      across different density regimes, but it is unlikely that",70.0,0.3858267716535433,0.6141732283464567,9.0,1.0,0.24305555555555555,0.5590277777777778
   Our initial tests suggest that the galaxy H I-,3.0,0.7755102040816326,0.22448979591836737,9.0,1.0,0.010416666666666666,0.8298611111111112
                                                                      there is a sharp transition in environmental effects. Gas,70.0,0.3858267716535433,0.6141732283464567,9.0,1.0,0.24305555555555555,0.5590277777777778
morphology connection varies significantly with envi-,0.0,0.9056603773584906,0.09433962264150941,6.0,1.0,0.0,0.8159722222222222
                                                                      mass fraction is known to depend on a satellite galaxy’s,70.0,0.373015873015873,0.626984126984127,10.0,1.0,0.24305555555555555,0.5625
ronment. We find that a CNN trained only on galaxies in,0.0,0.8181818181818182,0.18181818181818177,11.0,1.0,0.0,0.8090277777777778
                                                                      distance toward the center of its group or cluster host,70.0,0.368,0.632,10.0,1.0,0.24305555555555555,0.5659722222222222
overdense environments and validated on systems in un-,0.0,0.8703703703703703,0.12962962962962965,8.0,1.0,0.0,0.8125
"                                                                      (e.g., Brown et al. 2017). “Pre-processing” in only mod-",70.0,0.38095238095238093,0.6190476190476191,9.0,1.0,0.24305555555555555,0.5625
derdense environments performs better than the inverse.,0.0,0.8909090909090909,0.10909090909090913,7.0,1.0,0.0,0.8090277777777778
                                                                      erately overdense environments can also depress galax-,70.0,0.3870967741935484,0.6129032258064516,7.0,1.0,0.24305555555555555,0.5694444444444444
"Surprisingly, the CNN validated on lower-δ5 systems",0.0,0.8823529411764706,0.11764705882352944,7.0,1.0,0.0,0.8229166666666666
                                                                      ies’ gas masses (Odekon et al. 2016). We probe the grad-,70.0,0.36507936507936506,0.6349206349206349,11.0,1.0,0.24305555555555555,0.5625
"even outperforms the randomized baseline. However,",0.0,0.9,0.09999999999999998,6.0,1.0,0.0,0.8263888888888888
                                                                      ual onset of environmental effects by repeating the anal-,70.0,0.3858267716535433,0.6141732283464567,9.0,1.0,0.24305555555555555,0.5590277777777778
this effect is fully explained by the validation scatter in,0.0,0.847457627118644,0.15254237288135597,10.0,1.0,0.0,0.7951388888888888
                                                                      ysis in Section 7.1 and reserving 20% of the galaxies for,70.0,0.3700787401574803,0.6299212598425197,11.0,1.0,0.24305555555555555,0.5590277777777778
M when we select subsamples by a range in δ5 . When,0.0,0.7843137254901961,0.21568627450980393,12.0,1.0,0.0,0.8229166666666666
                                                                      validation based on their δ5 . We show the normalized,70.0,0.35772357723577236,0.6422764227642277,10.0,1.0,0.24305555555555555,0.5729166666666667
we compare the CNN performance normalized by the,0.0,0.8541666666666666,0.14583333333333337,8.0,1.0,0.0,0.8333333333333334
                                                                      RMSE as a function of the validation set δ5 in Figure 10.,70.0,0.36220472440944884,0.6377952755905512,12.0,1.0,0.24305555555555555,0.5590277777777778
inherent scatter of the validation subsample (the right-,0.0,0.875,0.125,8.0,1.0,0.0,0.8055555555555556
"                                                                      For example, one of the validation data sets in α.40A",70.0,0.35772357723577236,0.6422764227642277,10.0,1.0,0.24305555555555555,0.5729166666666667
"most column in Table 4), it becomes apparent that the",0.0,0.8301886792452831,0.16981132075471694,10.0,1.0,0.0,0.8159722222222222
                                                                      comprises galaxies with δ5 values in the 0.1−0.3 quantile,70.0,0.3858267716535433,0.6141732283464567,9.0,1.0,0.24305555555555555,0.5590277777777778
CNN validated on higher-δ5 environments still performs,0.0,0.8888888888888888,0.11111111111111116,7.0,1.0,0.0,0.8125
"                                                                      range, and the training set would consist of the remain-",70.0,0.373015873015873,0.626984126984127,10.0,1.0,0.24305555555555555,0.5625
                                                                      der of the sample. The central validation δ5 quantile is,70.0,0.373015873015873,0.626984126984127,10.0,1.0,0.24305555555555555,0.5625
"   9 For each environmental test run, a 34-layer xresnet is trained   0.2, corresponding to a value of log(1 + δ5 ) = −0.20),",3.0,0.784,0.21599999999999997,23.0,2.0,0.010416666666666666,0.5659722222222222
"     for 10 epochs using a learning rate of 0.03, batch size of 32,   and the normalized RMSE is approximately 0.40 ± 0.01.",5.0,0.7723577235772358,0.22764227642276424,22.0,2.0,0.017361111111111112,0.5729166666666667
"     weight decay of 10−4 , and the validation subsample is evaluated",5.0,0.782608695652174,0.21739130434782605,11.0,1.0,0.017361111111111112,0.7604166666666666
     using test-time augmentation. These hyperparameters have been       We find that the H I-morphology relation transitions,5.0,0.8,0.19999999999999996,15.0,4.0,0.017361111111111112,0.5659722222222222
     chosen to best optimize the CNN in a smaller number of training  to a different “mode” at high δ5 . For low-density envi-,5.0,0.7777777777777778,0.2222222222222222,23.0,2.0,0.017361111111111112,0.5625
"     epochs so that we can run multiple tests quickly.                ronments, a CNN is able to leverage the morphological",5.0,0.6991869918699187,0.30081300813008127,18.0,9.0,0.017361111111111112,0.5729166666666667
                                                                      information learned in intermediate- and high-density,70.0,0.3902439024390244,0.6097560975609756,6.0,1.0,0.24305555555555555,0.5729166666666667
avr_spaces,19.32857142857143,1.0,0.0,1.0,1.0,0.06711309523809524,0.9652777777777778
 14,1.0,0.6666666666666666,0.33333333333333337,1.0,1.0,0.003472222222222222,0.9895833333333334
                                           Table 4. α.40A results split by environment,43.0,0.43023255813953487,0.5697674418604651,7.0,1.0,0.14930555555555555,0.7013888888888888
                             Training    Validation  Validation σ    Validation RMSE    Normalized RMSE,29.0,0.5533980582524272,0.44660194174757284,8.0,8.0,0.10069444444444445,0.6423611111111112
                            N = 5922     N = 1477        (dex)              (dex),28.0,0.2716049382716049,0.7283950617283951,8.0,14.0,0.09722222222222222,0.71875
"                            [0.2, 1.0)   [0, 0.2)        0.5241       0.2184 ± 0.0022     0.4167 ± 0.0042",28.0,0.45714285714285713,0.5428571428571429,11.0,11.0,0.09722222222222222,0.6354166666666667
"                            [0, 0.8)     [0.8, 1.0)      0.6706       0.3269 ± 0.0066     0.4874 ± 0.0098",28.0,0.45714285714285713,0.5428571428571429,11.0,11.0,0.09722222222222222,0.6354166666666667
                            Random       Random          0.6036       0.2557 ± 0.0094     0.4237 ± 0.0156,28.0,0.41904761904761906,0.5809523809523809,9.0,14.0,0.09722222222222222,0.6354166666666667
                           Note— Comparison of CNN performance using different training/validation splits,27.0,0.6666666666666666,0.33333333333333337,9.0,1.0,0.09375,0.6354166666666667
                             for α.40A. The training and validation subsamples are either randomly selected,29.0,0.6355140186915887,0.36448598130841126,11.0,1.0,0.10069444444444445,0.6284722222222222
                             or separated by δ5 quantile according to an 80%/20% ratio in the given quantile,29.0,0.6111111111111112,0.38888888888888884,14.0,1.0,0.10069444444444445,0.625
                             range.,29.0,0.17142857142857143,0.8285714285714285,1.0,1.0,0.10069444444444445,0.8784722222222222
"regimes and accurately predict the gas mass fraction di-                 to perform poorly. Therefore, it is critical to investigate",0.0,0.75,0.25,18.0,9.0,0.0,0.5416666666666667
"rectly from imaging. For high-density environments, a                    whether or not trained CNNs make sensible predictions",0.0,0.7380952380952381,0.26190476190476186,15.0,11.0,0.0,0.5625
CNN is not able to generalize information learned from                   in line with our physical intuition.,0.0,0.7064220183486238,0.29357798165137616,15.0,10.0,0.0,0.6215277777777778
"low- and intermediate-density regimes as well, and the                     It is possible to decipher deep CNNs by examining",0.0,0.7096774193548387,0.29032258064516125,17.0,11.0,0.0,0.5694444444444444
normalized RMSE increases significantly. A physical ex-                  which parts of an image are most relevant for making,0.0,0.736,0.264,17.0,10.0,0.0,0.5659722222222222
planation for this transition is the growing importance                  certain predictions. This method of localizing image,0.0,0.752,0.248,15.0,10.0,0.0,0.5659722222222222
"of ram pressure stripping, tidal forces, and other gas de-               features is generally known as input attribution, because",0.0,0.7615384615384615,0.2384615384615385,18.0,8.0,0.0,0.5486111111111112
pletion effects in overdense environments. We determine                  output predictions can be directly attributed to pixels,0.0,0.7578125,0.2421875,15.0,10.0,0.0,0.5555555555555556
that these effects become increasingly significant at 0.8                from the input images. Input attribution methods such,0.0,0.7619047619047619,0.23809523809523814,16.0,9.0,0.0,0.5625
"quantile in δ5 for α.40A, corresponding to a normalized                  as saliency maps and class activation maps (Simonyan",0.0,0.736,0.264,17.0,10.0,0.0,0.5659722222222222
"overdensity of log(1 + δ5 ) ≥ 0.5; for lower values of δ5 ,              et al. 2013; Zhou et al. 2016) are useful for identifying",0.0,0.7153846153846154,0.2846153846153846,25.0,8.0,0.0,0.5486111111111112
the physics that govern this H I-morphology relation are                 the image features that a trained CNN “looks at” in or-,0.0,0.7265625,0.2734375,20.0,9.0,0.0,0.5555555555555556
constant.                                                                der to make its predictions. Other methods can also pro-,0.0,0.43410852713178294,0.5658914728682171,11.0,33.0,0.0,0.5520833333333333
"                                                                         vide valuable insights, such as by visualizing the learned",73.0,0.3816793893129771,0.6183206106870229,9.0,1.0,0.2534722222222222,0.5451388888888888
"       8. INTERPRETING MORPHOLOGICAL                                     convolutional layers in optimzied CNNs (e.g., Zeiler &",7.0,0.5826771653543307,0.4173228346456693,11.0,19.0,0.024305555555555556,0.5590277777777778
                         FEATURES                                        Fergus 2013).,25.0,0.23255813953488372,0.7674418604651163,3.0,21.0,0.08680555555555555,0.7013888888888888
  Deep learning models often contain millions of train-,2.0,0.8363636363636363,0.1636363636363637,8.0,1.0,0.006944444444444444,0.8090277777777778
"able parameters, which makes them difficult to inter-                                           8.1. Grad-CAM",0.0,0.5321100917431193,0.4678899082568807,10.0,22.0,0.0,0.6215277777777778
"pret compared to classical statistical or smaller ma-                      To interpret our results, we make use of the Gradient-",0.0,0.7054263565891473,0.2945736434108527,18.0,12.0,0.0,0.5520833333333333
"chine learning models. For this reason, deep neu-                        weighted Class Activation Map (Grad-CAM) visualiza-",0.0,0.7096774193548387,0.29032258064516125,14.0,13.0,0.0,0.5694444444444444
ral networks are often viewed as opaque systems that                     tion algorithm (Selvaraju et al. 2017). Grad-CAM is an,0.0,0.7086614173228346,0.2913385826771654,18.0,11.0,0.0,0.5590277777777778
"cannot be trusted. Indeed, there are many cases in                       input attribution tool that highlights the activated “neu-",0.0,0.7099236641221374,0.29007633587786263,17.0,12.0,0.0,0.5451388888888888
which deep learning algorithms make high-confidence                      rons” in a trained CNN corresponding to the pixels in,0.0,0.7142857142857143,0.2857142857142857,16.0,12.0,0.0,0.5625
"predictions while failing spectacularly; e.g., when a                    an input image that are most important for predicting",0.0,0.7301587301587301,0.2698412698412699,16.0,11.0,0.0,0.5625
"CNN is confronted with adversarial examples, out-of-                     a designated class. These visual explanations enable us",0.0,0.734375,0.265625,15.0,11.0,0.0,0.5555555555555556
"distribution predictions, or domain adaptation problems                  to directly attribute output predictions to input mor-",0.0,0.7637795275590551,0.2362204724409449,14.0,10.0,0.0,0.5590277777777778
"(e.g., Amodei et al. 2016). In Section 4.3, we exam-                     phological features represented as pixels. In order to",0.0,0.7086614173228346,0.2913385826771654,18.0,11.0,0.0,0.5590277777777778
"ined how a CNN trained on ALFALFA could not be                           use this algorithm, we reformulate our gas mass fraction",0.0,0.6589147286821705,0.3410852713178295,19.0,14.0,0.0,0.5520833333333333
used to make predictions for xGASS without pattern                       regression problem to a binary classification problem.,0.0,0.7165354330708661,0.2834645669291339,15.0,12.0,0.0,0.5590277777777778
"recognition, because the two galaxy populations have                       We train a CNN to classify gas-rich and gas-poor",0.0,0.6991869918699187,0.30081300813008127,16.0,12.0,0.0,0.5729166666666667
different distributions of physical properties. Alterna-                 galaxies in the α.40A sample. We define low-M (gas-,0.0,0.7580645161290323,0.24193548387096775,15.0,9.0,0.0,0.5694444444444444
"tively, poor generalization across domains can occur if                  poor) and high-M (gas-rich) as M < −0.5 (1,327 ob-",0.0,0.7235772357723578,0.2764227642276422,18.0,10.0,0.0,0.5729166666666667
"the training and test data sets are systematically dif-                  jects) and M > 0.5 (1,922 objects) respectively, so that",0.0,0.7286821705426356,0.2713178294573644,19.0,10.0,0.0,0.5520833333333333
"ferent, e.g., if the training data comprises images of                   the two classes are well-separated. According to this",0.0,0.7301587301587301,0.2698412698412699,17.0,10.0,0.0,0.5625
"simulated galaxies while the test set solely comprises                   classification, some star-forming galaxies are labeled as",0.0,0.7538461538461538,0.24615384615384617,15.0,10.0,0.0,0.5486111111111112
"images of observed galaxies (e.g., Rafieferantsoa et al.                 “gas-poor,” so this scheme is only appropriate for the",0.0,0.7480314960629921,0.25196850393700787,17.0,9.0,0.0,0.5590277777777778
"2018; Andrianomena et al. 2020). In Section 7, we ex-                    H I-rich ALFALFA sample.",0.0,0.6701030927835051,0.3298969072164949,14.0,11.0,0.0,0.6631944444444444
ploited these failure modes in order to probe how galaxy                   We also use a simple CNN for visualization purposes.,0.0,0.7165354330708661,0.2834645669291339,19.0,10.0,0.0,0.5590277777777778
environment impacts the learned H I-morphology rela-                     Our previous architecture (34-layer xresnet) contains,0.0,0.746031746031746,0.25396825396825395,13.0,11.0,0.0,0.5625
"tion. However, other unknown factors may cause CNNs                      many pooling layers that each decrease the resolution",0.0,0.7142857142857143,0.2857142857142857,16.0,12.0,0.0,0.5625
avr_spaces,7.8076923076923075,1.0,0.0,1.0,1.0,0.027110042735042736,0.9652777777777778
                                                                                                                              15,126.0,0.015625,0.984375,1.0,1.0,0.4375,0.5555555555555556
                  AGC 732656         AGC 332876               AGC 232459               AGC 191900              AGC 213528,18.0,0.371900826446281,0.628099173553719,10.0,26.0,0.0625,0.5798611111111112
log(1+ 5) = 0.5,0.0,0.8,0.19999999999999996,4.0,1.0,0.0,0.9479166666666666
                   AGC 5573          AGC 243940               AGC 182942               AGC 258417              AGC 203857,19.0,0.35537190082644626,0.6446280991735538,10.0,27.0,0.06597222222222222,0.5798611111111112
log(1+ 5) = 0.1,0.0,0.8,0.19999999999999996,4.0,1.0,0.0,0.9479166666666666
                  AGC 205250         AGC 184203               AGC 205133               AGC 215142              AGC 332402,18.0,0.371900826446281,0.628099173553719,10.0,26.0,0.0625,0.5798611111111112
log(1+ 5) = 0.2,0.0,0.8,0.19999999999999996,4.0,1.0,0.0,0.9479166666666666
                  AGC 724540         AGC 220384               AGC 203003               AGC 733423              AGC 230546,18.0,0.371900826446281,0.628099173553719,10.0,26.0,0.0625,0.5798611111111112
log(1+ 5) = 0.6,0.0,0.8,0.19999999999999996,4.0,1.0,0.0,0.9479166666666666
                  AGC 723109         AGC 731404               AGC 170951               AGC 332810               AGC 9396,18.0,0.35833333333333334,0.6416666666666666,10.0,26.0,0.0625,0.5833333333333333
log(1+ 5) = 1.3,0.0,0.8,0.19999999999999996,4.0,1.0,0.0,0.9479166666666666
   Figure 9. Example SDSS images of α.40A galaxy image cutouts in different environmental regimes. Each row depicts five,3.0,0.8333333333333334,0.16666666666666663,18.0,1.0,0.010416666666666666,0.5833333333333333
   galaxies with environmental overdensity closest to the value indicated on the left. The example galaxies range from below 10th,3.0,0.8372093023255814,0.16279069767441856,19.0,1.0,0.010416666666666666,0.5520833333333333
   percentile to over 90th percentile in log(1 + δ5 ).,3.0,0.7777777777777778,0.2222222222222222,10.0,1.0,0.010416666666666666,0.8125
avr_spaces,15.066666666666666,1.0,0.0,1.0,1.0,0.052314814814814814,0.9652777777777778
       16,7.0,0.2222222222222222,0.7777777777777778,1.0,1.0,0.024305555555555556,0.96875
                                                                                                                  red stellar populations can sometimes be conflated,114.0,0.2682926829268293,0.7317073170731707,7.0,1.0,0.3958333333333333,0.4305555555555556
                               0.52,31.0,0.11428571428571428,0.8857142857142857,1.0,1.0,0.1076388888888889,0.8784722222222222
                                                                                                                  with dust.,114.0,0.07258064516129033,0.9274193548387096,2.0,1.0,0.3958333333333333,0.5694444444444444
                                         0.38   0.20   0.09        0.13   0.24    0.36   0.50   0.77,41.0,0.32,0.6799999999999999,8.0,12.0,0.1423611111111111,0.6527777777777778
Validation RMSE (normalized),0.0,0.9285714285714286,0.0714285714285714,3.0,1.0,0.0,0.9027777777777778
                                                       0.02,55.0,0.06779661016949153,0.9322033898305084,1.0,1.0,0.1909722222222222,0.7951388888888888
"                               0.50                                                                             3. If the flocculent outer regions of a galaxy are blue,",31.0,0.2976190476190476,0.7023809523809523,12.0,39.0,0.1076388888888889,0.41666666666666663
"                               0.48                                                                                then the CNN tends to predict that it is gas-rich,",31.0,0.2727272727272727,0.7272727272727273,11.0,41.0,0.1076388888888889,0.42708333333333337
                                                                                                                   but if the outer regions are populated with redder,115.0,0.2545454545454545,0.7454545454545455,9.0,1.0,0.3993055555555556,0.42708333333333337
                               0.46,31.0,0.11428571428571428,0.8857142857142857,1.0,1.0,0.1076388888888889,0.8784722222222222
"                                                                                                                   stars (e.g., panel d of Figure 11), then the galaxy",115.0,0.25301204819277107,0.7469879518072289,10.0,1.0,0.3993055555555556,0.42361111111111116
"                               0.44                                                                                is more often predicted to be gas-poor (e.g., Koop-",31.0,0.28313253012048195,0.7168674698795181,10.0,41.0,0.1076388888888889,0.42361111111111116
                               0.42                                                                                mann & Kenney 2004).,31.0,0.15555555555555556,0.8444444444444444,5.0,41.0,0.1076388888888889,0.53125
                               0.40,31.0,0.11428571428571428,0.8857142857142857,1.0,1.0,0.1076388888888889,0.8784722222222222
                               0.38,31.0,0.11428571428571428,0.8857142857142857,1.0,1.0,0.1076388888888889,0.8784722222222222
"                                                                                          .40A                  4. Nearby objects in the field of view, even ones that",90.0,0.2891566265060241,0.7108433734939759,12.0,10.0,0.3125,0.42361111111111116
"                                                                                                                   are clearly background or foreground objects, are",115.0,0.2621951219512195,0.7378048780487805,7.0,1.0,0.3993055555555556,0.4305555555555556
                                   0.0          0.2          0.4            0.6           0.8          1.0,35.0,0.16981132075471697,0.8301886792452831,6.0,27.0,0.12152777777777778,0.6319444444444444
                                                      Validation   5   central quantile                            often considered by the CNN. They may be high-,54.0,0.39751552795031053,0.6024844720496895,13.0,17.0,0.1875,0.4409722222222222
                                                                                                                   lighted as evidence for low or high M depending,115.0,0.24074074074074073,0.7592592592592593,9.0,1.0,0.3993055555555556,0.4375
Figure 10. CNN validation performance across different                                                             on their relative color to the main system; how-,0.0,0.5398773006134969,0.4601226993865031,16.0,31.0,0.0,0.4340277777777778
"environmental densities shown in black markers and error                                                           ever, their contributions to the overall prediction",0.0,0.5662650602409639,0.4337349397590361,15.0,30.0,0.0,0.42361111111111116
bars. The performance is the RMSE normalized by the in-,0.0,0.8363636363636363,0.1636363636363637,10.0,1.0,0.0,0.8090277777777778
"                                                                                                                   are usually subdominant. In Appendix B, we ver-",115.0,0.24691358024691357,0.7530864197530864,8.0,1.0,0.3993055555555556,0.4375
herent scatter in M for the validation set; we show the mean,0.0,0.8166666666666667,0.18333333333333335,12.0,1.0,0.0,0.7916666666666666
and standard deviation for five tests. Each validation set is                                                      ify that artificial point sources are generally unim-,0.0,0.5833333333333334,0.41666666666666663,18.0,28.0,0.0,0.41666666666666663
"constructed from a 20% range in δ5 , and the corresponding                                                         portant for the CNN’s decision-making process.",0.0,0.5527950310559007,0.44720496894409933,17.0,29.0,0.0,0.4409722222222222
central log(1 + δ5 ) value is shown at the top. Validation,0.0,0.8103448275862069,0.18965517241379315,12.0,1.0,0.0,0.7986111111111112
results from randomly drawn subsamples are shown in red.                                                              8.3. The value of single-band imaging,0.0,0.5161290322580645,0.4838709677419355,15.0,32.0,0.0,0.4618055555555556
                                                                                                               It is clear that the CNN relies on color information,111.0,0.26380368098159507,0.7361963190184049,10.0,1.0,0.3854166666666667,0.4340277777777778
"by a factor of two, such that the final Grad-CAM result                                                      to identify gas-rich or gas-poor regions. Galaxy mor-",0.0,0.5617283950617284,0.43827160493827155,19.0,28.0,0.0,0.4375
"is a 7 × 7 pixel feature map. Instead, we use a shallower                                                    phology is another useful, albeit subdominant, parame-",0.0,0.5705521472392638,0.42944785276073616,20.0,27.0,0.0,0.4340277777777778
"CNN that consists of a basic CNN stem and two resid-                                                         ter for estimating gas mass fraction (e.g., Zhang et al.",0.0,0.5393939393939394,0.4606060606060606,21.0,29.0,0.0,0.42708333333333337
"ual blocks containing two convolutional layers each (see,                                                    2009; Eckert et al. 2015; Teimoorinia et al. 2017). How-",0.0,0.5878787878787879,0.4121212121212121,18.0,27.0,0.0,0.42708333333333337
"e.g., Howard & Gugger 2020). The final convolutional                                                         ever, morphological features often covary with color be-",0.0,0.5696969696969697,0.4303030303030303,16.0,29.0,0.0,0.42708333333333337
layer outputs a 56 × 56 pixel feature map. We use the                                                        cause galaxy structures are linked to their stellar pop-,0.0,0.5454545454545454,0.4545454545454546,21.0,29.0,0.0,0.42708333333333337
"same optimization methods as in Section 3, except that                                                       ulations. Therefore, we aim to identify the most cru-",0.0,0.5617283950617284,0.43827160493827155,18.0,28.0,0.0,0.4375
we train for only 10 epochs (at which point we reach                                                         cial morphological features using monochromatic imag-,0.0,0.5555555555555556,0.4444444444444444,17.0,29.0,0.0,0.4375
"convergence) and optimize using cross entropy loss with                                                      ing, i.e., single-channel image cutouts with summed g,",0.0,0.5828220858895705,0.4171779141104295,16.0,28.0,0.0,0.4340277777777778
" = 0.05 label smoothing. The shallow network classifies                                                     r, and i flux. We first verify that this is possible",0.0,0.5590062111801242,0.44099378881987583,20.0,27.0,0.0,0.4409722222222222
α.40A galaxies by gas richness with 98% accuracy.                                                            by repeating the regression analysis in Section 4 using,0.0,0.5426829268292683,0.45731707317073167,17.0,31.0,0.0,0.4305555555555556
"                                                                                                             single-band imaging for α.40A, and recover M to within",109.0,0.2822085889570552,0.7177914110429449,9.0,1.0,0.3784722222222222,0.4340277777777778
                               8.2. The most important morphological features,31.0,0.5324675324675324,0.4675324675324676,6.0,1.0,0.1076388888888889,0.7326388888888888
                                                                                                             RMSE = 0.29 dex. We also note that CNNs have had,109.0,0.24203821656050956,0.7579617834394905,11.0,1.0,0.3784722222222222,0.45486111111111116
  The trained CNN outputs probabilities for each pre-                                                        some success predicting other gas-phase metallicity from,2.0,0.5696969696969697,0.4303030303030303,15.0,29.0,0.006944444444444444,0.42708333333333337
dicted class for an input image. Grad-CAM can be used                                                        single-band imaging (see Section 5.3 of Wu & Boada,0.0,0.5408805031446541,0.4591194968553459,19.0,29.0,0.0,0.44791666666666663
to highlight the most important morphological features                                                       2019).,0.0,0.46956521739130436,0.5304347826086957,8.0,28.0,0.0,0.6006944444444444
"used for making correct and incorrect predictions, and                                                         We train a CNN to classify gas-rich and gas-poor",0.0,0.5471698113207547,0.4528301886792453,17.0,29.0,0.0,0.44791666666666663
"both sets of image features are valuable for understand-                                                     galaxies using monochromatic imaging. The data set,",0.0,0.58125,0.41874999999999996,16.0,27.0,0.0,0.4444444444444444
"ing what the CNN has learned. The association between                                                        model, and optimization steps are otherwise the same",0.0,0.5590062111801242,0.44099378881987583,17.0,29.0,0.0,0.4409722222222222
blue stellar populations at the edge of a galaxy’s star-                                                     as described in the previous section. We find that the,0.0,0.5644171779141104,0.4355828220858896,20.0,27.0,0.0,0.4340277777777778
"forming disk and a high-M classification, for example,                                                       shallow CNN is able to classify monochromatic α.40A",0.0,0.56875,0.43125,16.0,28.0,0.0,0.4444444444444444
strengthens our confidence in trained CNN. Examples of                                                       galaxies to over 90% accuracy.,0.0,0.5251798561151079,0.47482014388489213,13.0,28.0,0.0,0.5173611111111112
"the galaxy image cutout, low-M features, and high-M                                                            In Figure 11, we show Grad-CAM results on single-",0.0,0.53125,0.46875,17.0,31.0,0.0,0.4444444444444444
"features are shown in Figure 11. Below, we list the most                                                     band imaging. By examining the highlighted activations",0.0,0.5766871165644172,0.4233128834355828,18.0,27.0,0.0,0.4340277777777778
"commonly observed results.                                                                                   on monochromatic images, we are able to discern the",0.0,0.41875,0.58125,12.0,42.0,0.0,0.4444444444444444
                                                                                                             morphological indicators of gas richness. We find that,109.0,0.2883435582822086,0.7116564417177914,8.0,1.0,0.3784722222222222,0.4340277777777778
"                               1. H II regions, often indicated by bright, blue, com-",31.0,0.5294117647058824,0.47058823529411764,10.0,1.0,0.1076388888888889,0.7048611111111112
                                                                                                             the CNN inspects the outskirts of galaxies and highlights,109.0,0.29518072289156627,0.7048192771084337,9.0,1.0,0.3784722222222222,0.42361111111111116
"                                  pact features, and spiral arms, usually signify that",34.0,0.5232558139534884,0.4767441860465116,8.0,1.0,0.11805555555555555,0.7013888888888888
                                                                                                             point source-like objects when identifying gas-rich fea-,109.0,0.30303030303030304,0.696969696969697,7.0,1.0,0.3784722222222222,0.42708333333333337
                                  a galaxy has high gas mass fraction.,34.0,0.42857142857142855,0.5714285714285714,7.0,1.0,0.11805555555555555,0.7569444444444444
                                                                                                             tures. Many of these compact features are star-forming,109.0,0.2883435582822086,0.7116564417177914,8.0,1.0,0.3784722222222222,0.4340277777777778
"                               2. Red central regions due to older stellar popula-                           knots in spiral arms or the extended disk, but the CNN",31.0,0.5337423312883436,0.4662576687116564,20.0,14.0,0.1076388888888889,0.4340277777777778
"                                  tions tend to be associated with low M. However,                           also takes background sources into consideration (e.g.,",34.0,0.5426829268292683,0.45731707317073167,16.0,14.0,0.11805555555555555,0.4305555555555556
avr_spaces,34.25373134328358,1.0,0.0,1.0,1.0,0.11893656716417911,0.9652777777777778
                                                                                                                                17,128.0,0.015384615384615385,0.9846153846153847,1.0,1.0,0.4444444444444444,0.5486111111111112
"Figure 11. Grad-CAM heatmaps shown for SDSS images using trained CNNs. Each panel shows, from left to right, the SDSS",0.0,0.8376068376068376,0.16239316239316237,20.0,1.0,0.0,0.59375
"gri image cutout, the heatmap of activations corresponding to gas-poor features, and the heatmap of activations corresponding",0.0,0.872,0.128,17.0,1.0,0.0,0.5659722222222222
to gas-rich features. Grad-CAM heatmaps are shown for for gri color input images (upper) and monochromatic input images,0.0,0.8571428571428571,0.1428571428571429,18.0,1.0,0.0,0.5868055555555556
"(lower). Gas-poor/gas-rich labels are bolded for ground truth values, and CNN probabilities are provided for each class. The",0.0,0.8629032258064516,0.13709677419354838,18.0,1.0,0.0,0.5694444444444444
image contrast has been reduced for visualization purposes.,0.0,0.8813559322033898,0.11864406779661019,8.0,1.0,0.0,0.7951388888888888
panel c). Grad-CAM also reveals that the CNN focuses              part coordinates for the former). Legacy Survey imag-,0.0,0.7563025210084033,0.24369747899159666,17.0,8.0,0.0,0.5868055555555556
on galaxy centers when identifying gas-poor features in           ing is deeper than that of SDSS by about two magni-,0.0,0.7606837606837606,0.23931623931623935,19.0,6.0,0.0,0.59375
"monochromatic imaging. We surmise that it is relying              tudes, and has higher angular resolution (although it",0.0,0.7647058823529411,0.23529411764705888,16.0,8.0,0.0,0.5868055555555556
the central surface brightness to recognize whether a             remains seeing-limited). Deep optical imaging is partic-,0.0,0.7868852459016393,0.21311475409836067,15.0,7.0,0.0,0.5763888888888888
"galaxy is gas-poor; surprisingly, it is able to leverage          ularly critical for identifying low-surface brightness fea-",0.0,0.808,0.19199999999999995,16.0,6.0,0.0,0.5659722222222222
this information even though no distance information is           tures in galaxies with complex star formation histories,0.0,0.7933884297520661,0.20661157024793386,16.0,6.0,0.0,0.5798611111111112
"provided.                                                         or recent gas accretion (e.g., Duc et al. 2015; Geréb et al.",0.0,0.4603174603174603,0.5396825396825398,13.0,29.0,0.0,0.5625
                                                                  2016; Hagen et al. 2016).,66.0,0.23076923076923078,0.7692307692307692,5.0,1.0,0.22916666666666666,0.6840277777777778
  9. DEEPER IMAGING AND FUTURE SURVEYS,2.0,0.8157894736842105,0.1842105263157895,6.0,1.0,0.006944444444444444,0.8680555555555556
"                                                                    Using Legacy Survey imaging, and the same train-",68.0,0.35344827586206895,0.646551724137931,8.0,1.0,0.2361111111111111,0.5972222222222222
"   Future optical-wavelength surveys will offer deeper            ing methodology as described in Section 3, we find",3.0,0.7586206896551724,0.24137931034482762,15.0,7.0,0.010416666666666666,0.5972222222222222
imaging data sets useful for characterizing the gas prop-         similar results for α.40A as before. Our early results,0.0,0.7916666666666666,0.20833333333333337,18.0,5.0,0.0,0.5833333333333333
erties of galaxies. We obtain grZ imaging from the DESI           are promising and suggest that deeper optical imag-,0.0,0.7692307692307693,0.23076923076923073,18.0,6.0,0.0,0.59375
Legacy Imaging Surveys DR8 (Legacy Survey; Dey et al.             ing may be useful for improving M predictions.11 It is,0.0,0.75,0.25,19.0,7.0,0.0,0.5833333333333333
2019) in order to compare with our previous results. Us-,0.0,0.8392857142857143,0.1607142857142857,10.0,1.0,0.0,0.8055555555555556
"ing the online interface10 , we query 448 × 448 pixel JPG",0.0,0.8070175438596491,0.19298245614035092,12.0,1.0,0.0,0.8020833333333334
cutouts at the native 0.26200 pixel−1 scale for both the            11 It is difficult to directly compare the two imaging data sets:,0.0,0.7593984962406015,0.24060150375939848,22.0,7.0,0.0,0.5381944444444444
                                                                       Legacy Survey image cutouts have an expanded field-of-view,71.0,0.3953488372093023,0.6046511627906976,8.0,1.0,0.2465277777777778,0.5520833333333333
"α.40 and xGASS samples (again using optical counter-                   (1.960 ) compared to SDSS imaging (1.480 ), and the use of Z",0.0,0.7099236641221374,0.29007633587786263,21.0,10.0,0.0,0.5451388888888888
                                                                       rather than i-band imaging in the reddest channel may also affect,71.0,0.40441176470588236,0.5955882352941176,11.0,1.0,0.2465277777777778,0.5277777777777778
                                                                       CNN performance.,71.0,0.1724137931034483,0.8275862068965517,2.0,1.0,0.2465277777777778,0.6979166666666667
   10 https://legacysurvey.org/viewer,3.0,0.8918918918918919,0.10810810810810811,2.0,1.0,0.010416666666666666,0.8715277777777778
avr_spaces,16.655172413793103,1.0,0.0,1.0,1.0,0.057830459770114945,0.9652777777777778
 18,1.0,0.6666666666666666,0.33333333333333337,1.0,1.0,0.003472222222222222,0.9895833333333334
"also worth noting that the Legacy Survey DR8 imaging       to new test data sets, and our experiments indicate that",0.0,0.7913043478260869,0.20869565217391306,19.0,4.0,0.0,0.6006944444444444
"suffers from some imaging issues, such as pixel bleed,     PR threshold of pCNN > 0.9 is best-suited for optically",0.0,0.8070175438596491,0.19298245614035092,19.0,3.0,0.0,0.6041666666666667
"sky subtraction, and inconsistent zero-points in differ-   selected galaxy samples. We find that the CNN consis-",0.0,0.8482142857142857,0.1517857142857143,16.0,2.0,0.0,0.6111111111111112
"ent bands, which may prevent the model from learning       tently outperforms previous machine learning methods",0.0,0.8198198198198198,0.18018018018018023,15.0,4.0,0.0,0.6145833333333333
"as much as it can. These effects must be remedied if       on matched test data; using a pCNN > 0.9 PR cut, we",0.0,0.7454545454545455,0.2545454545454545,23.0,4.0,0.0,0.6180555555555556
"we want to maximize scientific gains through the com-      report RMSE = 0.20 dex scatter for α.100, 0.29 dex",0.0,0.7889908256880734,0.21100917431192656,19.0,4.0,0.0,0.6215277777777778
"bination of deep learning and wide-field optical/near-     scatter for NIBLES, and 0.22 dex scatter for xGASS.",0.0,0.8272727272727273,0.17272727272727273,16.0,3.0,0.0,0.6180555555555556
"infrared surveys (e.g., the Vera C. Rubin Observatory      Our methodology can be augmented with deeper imag-",0.0,0.8165137614678899,0.1834862385321101,16.0,4.0,0.0,0.6215277777777778
"(VRO) Legacy Survey of Space and Time (LSST), Ivezić       ing or larger and more diverse galaxy samples. With",0.0,0.7909090909090909,0.2090909090909091,18.0,4.0,0.0,0.6180555555555556
et al. 2019; and the Nancy Grace Roman Space Telescope     the advent of next-generation H I 21-cm emission line,0.0,0.8035714285714286,0.1964285714285714,19.0,3.0,0.0,0.6111111111111112
"(RST, formerly WFIRST ; Spergel et al. 2015).              surveys with the SKA precursor telescopes, and LSST",0.0,0.7454545454545455,0.2545454545454545,16.0,8.0,0.0,0.6180555555555556
"   Current H I surveys are mostly mass-limited, but        and the Roman Space Telescope on the horizon, it will",3.0,0.7589285714285714,0.2410714285714286,18.0,5.0,0.010416666666666666,0.6111111111111112
SKA precursor surveys such as DINGO and LADUMA             soon be possible to generate enormous CNN-predicted,0.0,0.7636363636363637,0.23636363636363633,15.0,7.0,0.0,0.6180555555555556
will be much more sensitive to gas-poor galaxy popu-       H I catalogs.,0.0,0.7638888888888888,0.23611111111111116,12.0,4.0,0.0,0.75
lations. These new surveys will allow us to construct         We are able to the probe the environmental depen-,0.0,0.7747747747747747,0.22522522522522526,18.0,5.0,0.0,0.6145833333333333
data sets similar to the xGASS representative sample or    dence of the H I-morphology relation by independently,0.0,0.8303571428571429,0.1696428571428571,17.0,3.0,0.0,0.6111111111111112
the volume-limited RESOLVE survey (REsolved Spec-          training and validating CNNs using subsamples strati-,0.0,0.8125,0.1875,13.0,6.0,0.0,0.6111111111111112
"troscopy Of a Local VolumE; e.g., Stark et al. 2016),      fied by galaxy overdensity (i.e., δ5 , the normalized pro-",0.0,0.7948717948717948,0.20512820512820518,20.0,4.0,0.0,0.59375
"except with orders of magnitude more detections at the     jected density). For high-density environments, a CNN",0.0,0.8303571428571429,0.1696428571428571,16.0,3.0,0.0,0.6111111111111112
"same H I mass threshold. In the future, we may be          trained on lower-δ5 examples is unable to accurately es-",0.0,0.7565217391304347,0.24347826086956526,20.0,6.0,0.0,0.6006944444444444
"able to take deep H I 21-cm line observations of some      timate M from optical imaging. However, if the val-",0.0,0.7818181818181819,0.21818181818181814,20.0,4.0,0.0,0.6180555555555556
"small patch of sky, and then use deep optical imaging in   idation set comprises galaxies in low- or intermediate-",0.0,0.8245614035087719,0.17543859649122806,19.0,2.0,0.0,0.6041666666666667
"overlapping portions in order to generate M predictions    density environments, then a CNN has no trouble pre-",0.0,0.8288288288288288,0.1711711711711712,17.0,3.0,0.0,0.6145833333333333
"for galaxies across the entire optical survey area (e.g.,  dicting M. We propose that in the most overdense envi-",0.0,0.831858407079646,0.16814159292035402,19.0,2.0,0.0,0.6076388888888888
"Domínguez Sánchez et al. 2019; Khan et al. 2019). The      ronments, log(1+δ5 ) & 0.5 for α.40A, physical processes",0.0,0.8,0.19999999999999996,19.0,4.0,0.0,0.6006944444444444
"methods introduced in this paper may also allow us to      such as ram pressure stripping, tidal interactions, and",0.0,0.8070175438596491,0.19298245614035092,18.0,4.0,0.0,0.6041666666666667
probe the redshift evolution of the overdensity transition other gas depletion effects are responsible for “break-,0.0,0.868421052631579,0.13157894736842102,16.0,1.0,0.0,0.6041666666666667
regime (Section 7) or evolution of the most relevant mor-  ing down” the H I-morphology relation observed in less,0.0,0.831858407079646,0.16814159292035402,19.0,2.0,0.0,0.6076388888888888
phological features associated with gas richness over cos- dense environments.,0.0,0.8846153846153846,0.11538461538461542,10.0,1.0,0.0,0.7291666666666667
mic timescales (Section 8). These tantalizing prospects       We have also reformulated the problem of estimat-,0.0,0.8198198198198198,0.18018018018018023,15.0,4.0,0.0,0.6145833333333333
"can be realized, but only if the co-evolving H I and stel- ing M as a binary classification task in order to better",0.0,0.808695652173913,0.19130434782608696,23.0,1.0,0.0,0.6006944444444444
"lar mass functions (e.g., Lemonias et al. 2013) and their  understand how CNNs are able to distinguish gas-poor",0.0,0.8378378378378378,0.16216216216216217,18.0,2.0,0.0,0.6145833333333333
effects on the priors baked into the trained CNN model     from gas-rich systems. We use Gradient-weighted Class,0.0,0.8214285714285714,0.1785714285714286,17.0,3.0,0.0,0.6111111111111112
"are taken into account (e.g., by sampling according to a   Activation Maps (Grad-CAM) to localize the optical fea-",0.0,0.8333333333333334,0.16666666666666663,18.0,2.0,0.0,0.6041666666666667
"known distribution; Buda et al. 2017). Moreover, cosmic    tures that are most important for predicting whether or",0.0,0.8333333333333334,0.16666666666666663,17.0,3.0,0.0,0.6041666666666667
variance effects for deep H I surveys need to be consid-   not a galaxy is gas-rich. Bright star-forming regions,0.0,0.8214285714285714,0.1785714285714286,19.0,2.0,0.0,0.6111111111111112
"ered (e.g., Moster et al. 2011). Finally, it is imperative and clumpy blue features usually imply high M, while",0.0,0.8378378378378378,0.16216216216216217,19.0,1.0,0.0,0.6145833333333333
to deploy robust pattern recognition algorithms in or-     central red bulges and older stellar populations at large,0.0,0.8275862068965517,0.1724137931034483,17.0,3.0,0.0,0.5972222222222222
der to safeguard against out-of-distribution errors and    radii often indicate low M. The CNN successfully dis-,0.0,0.8392857142857143,0.1607142857142857,16.0,3.0,0.0,0.6111111111111112
gauge the reliability of machine learning predictions.     tinguishes gas-rich and gas-poor galaxies with > 90% ac-,0.0,0.8347826086956521,0.16521739130434787,16.0,3.0,0.0,0.6006944444444444
"                                                           curacy using single-band optical images, implying that",59.0,0.4247787610619469,0.5752212389380531,7.0,1.0,0.2048611111111111,0.6076388888888888
                                                           it is able to identify purely morphological features for,59.0,0.41739130434782606,0.5826086956521739,9.0,1.0,0.2048611111111111,0.6006944444444444
                   10. CONCLUSIONS                         estimating gas content.,19.0,0.4268292682926829,0.5731707317073171,5.0,13.0,0.06597222222222222,0.7152777777777778
                                                              We have highlighted several ways that deep learning,62.0,0.3893805309734513,0.6106194690265487,8.0,1.0,0.2152777777777778,0.6076388888888888
"   In this work, we have found that deep CNNs can pre-",3.0,0.7592592592592593,0.2407407407407407,11.0,1.0,0.010416666666666666,0.8125
                                                           and computer vision can be useful for understanding,59.0,0.4,0.6,8.0,1.0,0.2048611111111111,0.6180555555555556
dict a galaxy’s H I mass fraction (M) solely from gri,0.0,0.8113207547169812,0.18867924528301883,11.0,1.0,0.0,0.8159722222222222
                                                           galaxy evolution. Apart from predicting M and the,59.0,0.3888888888888889,0.6111111111111112,8.0,1.0,0.2048611111111111,0.625
imaging to within RMSE = 0.23 dex for the α.40A sam-,0.0,0.8076923076923077,0.1923076923076923,11.0,1.0,0.0,0.8194444444444444
"                                                           gas fraction’s reliability directly from optical imaging,",59.0,0.4396551724137931,0.5603448275862069,7.0,1.0,0.2048611111111111,0.5972222222222222
"ple, demonstrating that there is a strong connection be-",0.0,0.8571428571428571,0.1428571428571429,9.0,1.0,0.0,0.8055555555555556
                                                           CNNs can also be used to gauge the impact of co-,59.0,0.35514018691588783,0.6448598130841121,11.0,1.0,0.2048611111111111,0.6284722222222222
tween galaxy morphology and H I content. We have,0.0,0.8333333333333334,0.16666666666666663,9.0,1.0,0.0,0.8333333333333334
                                                           varying galaxy properties such as environmental over-,59.0,0.41964285714285715,0.5803571428571428,7.0,1.0,0.2048611111111111,0.6111111111111112
"also trained a CNN for pattern recognition (PR), e.g.,",0.0,0.8518518518518519,0.14814814814814814,9.0,1.0,0.0,0.8125
                                                           density. These methods are visually interpretable and,59.0,0.41964285714285715,0.5803571428571428,7.0,1.0,0.2048611111111111,0.6111111111111112
determining whether a galaxy is likely to be detected by,0.0,0.8392857142857143,0.1607142857142857,10.0,1.0,0.0,0.8055555555555556
                                                           provide key insights into the physical processes and stel-,59.0,0.42735042735042733,0.5726495726495726,9.0,1.0,0.2048611111111111,0.59375
an ALFALFA-like survey based on its optical imaging.,0.0,0.8653846153846154,0.13461538461538458,8.0,1.0,0.0,0.8194444444444444
                                                           lar/ISM structures that are most closely connected to,59.0,0.4107142857142857,0.5892857142857143,8.0,1.0,0.2048611111111111,0.6111111111111112
The combined regression and PR results generalize well,0.0,0.8703703703703703,0.12962962962962965,8.0,1.0,0.0,0.8125
                                                           the H I properties in galaxies.,59.0,0.28888888888888886,0.7111111111111111,6.0,1.0,0.2048611111111111,0.6875
avr_spaces,11.515625,1.0,0.0,1.0,1.0,0.039984809027777776,0.9652777777777778
                                                                                                                                                        19,152.0,0.012987012987012988,0.987012987012987,1.0,1.0,0.5277777777777778,0.4652777777777778
        2.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        1.5    .40A,8.0,0.3684210526315789,0.631578947368421,2.0,3.0,0.027777777777777776,0.9340277777777778
        1.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        0.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
 pred,1.0,0.8,0.19999999999999996,1.0,1.0,0.003472222222222222,0.9826388888888888
        0.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        0.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        1.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        1.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        2.0                       Linear                           PCA + Linear                      PCA + RF                         CNN,8.0,0.20437956204379562,0.7956204379562044,9.0,48.0,0.027777777777777776,0.5243055555555556
                                  RMSE = 0.44                      RMSE = 0.31                       RMSE = 0.31                      RMSE = 0.23,34.0,0.2482758620689655,0.7517241379310344,12.0,34.0,0.11805555555555555,0.4965277777777778
        2.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
               2       1     0        1         2   2   1     0        1          2   2   1     0        1         2   2   1     0        1         2,15.0,0.1342281879194631,0.8657718120805369,20.0,51.0,0.052083333333333336,0.48263888888888884
                           true                             true                              true                             true,27.0,0.12213740458015267,0.8778625954198473,4.0,44.0,0.09375,0.5451388888888888
        2.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        1.5   NIBLES,8.0,0.45,0.55,2.0,2.0,0.027777777777777776,0.9305555555555556
        1.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        0.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
 pred,1.0,0.8,0.19999999999999996,1.0,1.0,0.003472222222222222,0.9826388888888888
        0.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        0.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        1.0,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        1.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
        2.0                       Linear                           PCA + Linear                      PCA + RF                         CNN,8.0,0.20437956204379562,0.7956204379562044,9.0,48.0,0.027777777777777776,0.5243055555555556
                                  RMSE = 0.57                      RMSE = 0.45                       RMSE = 0.41                      RMSE = 0.37,34.0,0.2482758620689655,0.7517241379310344,12.0,34.0,0.11805555555555555,0.4965277777777778
        2.5,8.0,0.2727272727272727,0.7272727272727273,1.0,1.0,0.027777777777777776,0.9618055555555556
               2       1     0        1         2   2   1     0        1          2   2   1     0        1         2   2   1     0        1         2,15.0,0.1342281879194631,0.8657718120805369,20.0,51.0,0.052083333333333336,0.48263888888888884
                           true                             true                              true                             true,27.0,0.12213740458015267,0.8778625954198473,4.0,44.0,0.09375,0.5451388888888888
Figure 12. Comparison of different regression models for estimating M using the ALFALFA α.40A validation sample (top),0.0,0.8632478632478633,0.1367521367521367,17.0,1.0,0.0,0.59375
and the NIBLES test sample (bottom). Each panel shows Mpred plotted against Mtrue for a linear model trained on block-,0.0,0.8389830508474576,0.1610169491525424,20.0,1.0,0.0,0.5902777777777778
"reduced images (left), a linear model trained on PCA-processed images (center-left), a random forest model trained on the",0.0,0.859504132231405,0.14049586776859502,18.0,1.0,0.0,0.5798611111111112
"PCA-processed images (center-right), and a CNN trained on the original images (right).",0.0,0.872093023255814,0.12790697674418605,12.0,1.0,0.0,0.7013888888888888
                                                                     APPENDIX,69.0,0.1038961038961039,0.8961038961038961,1.0,1.0,0.23958333333333334,0.7326388888888888
                                                A. COMPARING CNNS TO SIMPLER MODELS,48.0,0.3614457831325301,0.6385542168674698,6.0,1.0,0.16666666666666666,0.7118055555555556
  Classical machine learning algorithms and statistical methods are not well-suited for operating on image data because,2.0,0.8571428571428571,0.1428571428571429,16.0,1.0,0.006944444444444444,0.5868055555555556
"they are not invariant to translation, scaling, or rotation. In other words, individual pixels may represent to different",0.0,0.859504132231405,0.14049586776859502,18.0,1.0,0.0,0.5798611111111112
"galaxy features for different images, and any model that treats a pixel as a static feature will not perform well in",0.0,0.8275862068965517,0.1724137931034483,21.0,1.0,0.0,0.5972222222222222
computer vision problems. CNNs are able to encode optimized representations of galaxy features through convolution,0.0,0.8771929824561403,0.1228070175438597,15.0,1.0,0.0,0.6041666666666667
"operations, which largely do not depend on the feature’s absolute location within an image. Moreover, these invariances",0.0,0.865546218487395,0.134453781512605,17.0,1.0,0.0,0.5868055555555556
"can be learned via redundant convolutional filters by employing data augmentation (such as shifts, rotations, and crops;",0.0,0.8666666666666667,0.1333333333333333,17.0,1.0,0.0,0.5833333333333333
"e.g., Dieleman et al. 2015).",0.0,0.8571428571428571,0.1428571428571429,5.0,1.0,0.0,0.9027777777777778
  Our data set consists of SDSS image cutouts centered on the optical sources of various H I catalog members.,2.0,0.8165137614678899,0.1834862385321101,19.0,1.0,0.006944444444444444,0.6215277777777778
"Although the galaxies are still observed at different position angles and inclinations, and have different physical scales",0.0,0.8688524590163934,0.1311475409836066,17.0,1.0,0.0,0.5763888888888888
"because they span 0 ≤ z ≤ 0.06, the galaxies’ central regions always occupy the center pixels. For this reason, it may",0.0,0.8220338983050848,0.17796610169491522,22.0,1.0,0.0,0.5902777777777778
"be possible to use simple models, rather than a CNN, in order to estimate the H I mass fraction. We use the sklearn",0.0,0.808695652173913,0.19130434782608696,23.0,1.0,0.0,0.6006944444444444
Python package to pre-process and fit our data.,0.0,0.851063829787234,0.14893617021276595,8.0,1.0,0.0,0.8368055555555556
  The image data are represented as arrays with 3×224×224 elements. Most simple regression models are ill-equipped,2.0,0.8508771929824561,0.14912280701754388,16.0,1.0,0.006944444444444444,0.6041666666666667
"to handle 150, 528 inputs at a time, so we use either one of two methods to lower the dimensionality of the input data.",0.0,0.8067226890756303,0.19327731092436973,24.0,1.0,0.0,0.5868055555555556
"The first method is to block-reduce each training image using a 7×7 kernel (also known as average binning or pooling),",0.0,0.8389830508474576,0.1610169491525424,20.0,1.0,0.0,0.5902777777777778
"resulting in a 3 × 32 × 32-shaped input. Each block-reduced array is then flattened into a one-dimensional vector, so",0.0,0.8376068376068376,0.16239316239316237,20.0,1.0,0.0,0.59375
"that the independent variables can be written as a N × 3, 072 matrix, where N is the number of galaxies in the training",0.0,0.8067226890756303,0.19327731092436973,24.0,1.0,0.0,0.5868055555555556
"set. The second method is to use a principal components analysis (PCA) on the training set, where only the top",0.0,0.8272727272727273,0.17272727272727273,20.0,1.0,0.0,0.6180555555555556
avr_spaces,10.907407407407408,1.0,0.0,1.0,1.0,0.03787294238683128,0.9652777777777778
 20,1.0,0.6666666666666666,0.33333333333333337,1.0,1.0,0.003472222222222222,0.9895833333333334
"Figure 13. Examples of artificial point source injection for AGC 9340 (upper), AGC 226075 (center), and AGC 220910 (lower).",0.0,0.8536585365853658,0.14634146341463417,19.0,1.0,0.0,0.5729166666666667
"For each row, starting from left to right, we show images with six artificial red sources, green sources, and blue sources. The",0.0,0.8346456692913385,0.16535433070866146,22.0,1.0,0.0,0.5590277777777778
right-most panel in each row compares the original Mpred (dashed vertical line) and Mtrue (solid vertical line) to histograms of,0.0,0.8515625,0.1484375,20.0,1.0,0.0,0.5555555555555556
"100 simulations for each injected source color (red, green, and blue).",0.0,0.8571428571428571,0.1428571428571429,11.0,1.0,0.0,0.7569444444444444
"16 components are flattened and saved. The PCA-processed independent variables can be written as a 16 × 150, 528",0.0,0.8392857142857143,0.1607142857142857,19.0,1.0,0.0,0.6111111111111112
matrix.,0.0,1.0,0.0,1.0,1.0,0.0,0.9756944444444444
"   After reducing the dimensionality of the training inputs, we select one of two algorithms for statistical regression.",3.0,0.8416666666666667,0.15833333333333333,17.0,1.0,0.010416666666666666,0.5833333333333333
The first algorithm is an ordinary least-squares regression to fit a low-order polynomial model. In practice we find that,0.0,0.8512396694214877,0.14876033057851235,19.0,1.0,0.0,0.5798611111111112
"a linear model always outperforms a quadratic model, so only linear regression results are included in this discussion.",0.0,0.8571428571428571,0.1428571428571429,18.0,1.0,0.0,0.5868055555555556
"The linear regression model requires 3,073 trainable parameters for block-reduced images, and 17 trainable parameters",0.0,0.8803418803418803,0.11965811965811968,15.0,1.0,0.0,0.59375
"for PCA-processed images. The second algorithm is a random forest (RF), which bootstraps (i.e., samples with",0.0,0.8611111111111112,0.13888888888888884,16.0,1.0,0.0,0.625
replacement) 100 random decision tree estimators. The RF regression model is optimized according to the mean,0.0,0.8611111111111112,0.13888888888888884,16.0,1.0,0.0,0.625
squared error loss.,0.0,0.8947368421052632,0.10526315789473684,3.0,1.0,0.0,0.9340277777777778
"   In Figure 12, we compare different models trained on 80% of α.40A and validated on the remaining 20% for α.40A",3.0,0.8053097345132744,0.19469026548672563,20.0,1.0,0.010416666666666666,0.6076388888888888
(left) and for the entire NIBLES test set (right). All model predictions are impacted by the 0.16 dex systematic offset,0.0,0.8403361344537815,0.15966386554621848,20.0,1.0,0.0,0.5868055555555556
in H I mass between NIBLES and ALFALFA (van Driel et al. 2016). The linear models fit to block-reduced images do,0.0,0.8214285714285714,0.1785714285714286,21.0,1.0,0.0,0.6111111111111112
"not perform well, as indicated by high scatter. PCA-processed data provide better results than block-reduced images,",0.0,0.8706896551724138,0.1293103448275862,16.0,1.0,0.0,0.5972222222222222
"although overall performance is still modest. Ultimately, CNNs outperform all of the simpler models that we test in",0.0,0.8521739130434782,0.14782608695652177,18.0,1.0,0.0,0.6006944444444444
terms of slope and scatter.,0.0,0.8518518518518519,0.14814814814814814,5.0,1.0,0.0,0.90625
                                        B. ROBUSTNESS TO PERTURBATIONS,40.0,0.38571428571428573,0.6142857142857143,4.0,1.0,0.1388888888888889,0.7569444444444444
   A concern with CNNs and deep learning algorithms is whether or not their predictions can be significantly swayed by,3.0,0.8220338983050848,0.17796610169491522,19.0,1.0,0.010416666666666666,0.5902777777777778
"image noise or other perturbations. For example, galaxy images with foreground stars or other faint background sources",0.0,0.864406779661017,0.13559322033898302,17.0,1.0,0.0,0.5902777777777778
"should not cause predictions to vary wildly (unless they are located in regions where the CNN ascribes high importance,",0.0,0.8487394957983193,0.1512605042016807,19.0,1.0,0.0,0.5868055555555556
which we can probe using Grad-CAM; see Section 8). To test our method’s performance when small changes are added,0.0,0.8392857142857143,0.1607142857142857,19.0,1.0,0.0,0.6111111111111112
"to the images, we randomly add colored point sources (resembling artificial stars) to three representative galaxy images,",0.0,0.8677685950413223,0.1322314049586777,17.0,1.0,0.0,0.5798611111111112
avr_spaces,1.851851851851852,1.0,0.0,1.0,1.0,0.006430041152263376,0.9652777777777778
                                                                                                                            21,124.0,0.015873015873015872,0.9841269841269842,1.0,1.0,0.4305555555555556,0.5625
"and allow the CNN to infer Mpred . Specifically, we add six artificial sources (two-dimensional circular Gaussian profiles",0.0,0.860655737704918,0.139344262295082,18.0,1.0,0.0,0.5763888888888888
"with a 5-pixel radius, all of which are red, green, or blue) to random locations in the original image. Figure 13 shows",0.0,0.8235294117647058,0.17647058823529416,22.0,1.0,0.0,0.5868055555555556
"examples of the three galaxy images with injected artificial sources. 100 trials are run for each of the three colors, and",0.0,0.8360655737704918,0.16393442622950816,21.0,1.0,0.0,0.5763888888888888
we compare these perturbed predictions to the original estimate (Mpred ) and the ground truth (Mtrue ). We find the,0.0,0.8347826086956521,0.16521739130434787,20.0,1.0,0.0,0.6006944444444444
CNN is able to make generalized predictions that does not depend on the injected point sources; the typical scatter,0.0,0.8434782608695652,0.15652173913043477,19.0,1.0,0.0,0.6006944444444444
"due to these injected sources is much smaller (< 0.05 dex) than the overall RMSE. Thus, we conclude that our trained",0.0,0.8275862068965517,0.1724137931034483,21.0,1.0,0.0,0.5972222222222222
CNNs are robust to perturbations such as artificial point sources.,0.0,0.8636363636363636,0.13636363636363635,10.0,1.0,0.0,0.7708333333333334
                                                         REFERENCES,57.0,0.14925373134328357,0.8507462686567164,1.0,1.0,0.19791666666666666,0.7673611111111112
"Abolfathi, B., Aguado, D. S., Aguilar, G., et al. 2018,          Domínguez Sánchez, H., Huertas-Company, M., Bernardi,",0.0,0.7966101694915254,0.2033898305084746,16.0,6.0,0.0,0.5902777777777778
"  ApJS, 235, 42                                                    M., et al. 2019, MNRAS, 484, 93",2.0,0.3673469387755102,0.6326530612244898,10.0,27.0,0.006944444444444444,0.6597222222222222
"Amodei, D., Olah, C., Steinhardt, J., et al. 2016, arXiv         Duc, P.-A., Cuillandre, J.-C., Karabal, E., et al. 2015,",0.0,0.7851239669421488,0.2148760330578512,19.0,5.0,0.0,0.5798611111111112
"  e-prints, arXiv:1606.06565                                       MNRAS, 446, 120",2.0,0.4634146341463415,0.5365853658536586,5.0,20.0,0.006944444444444444,0.7152777777777778
"Andrianomena, S., Rafieferantsoa, M., & Davé, R. 2020,           Eckert, K. D., Kannappan, S. J., Stark, D. V., et al. 2015,",0.0,0.7661290322580645,0.2338709677419355,20.0,6.0,0.0,0.5694444444444444
"  MNRAS, 492, 5743                                                 ApJ, 810, 166",2.0,0.3125,0.6875,6.0,25.0,0.006944444444444444,0.7222222222222222
"Barnes, D. G., Staveley-Smith, L., de Blok, W. J. G., et al.     Ellison, S. L., Teimoorinia, H., Rosario, D. J., & Mendel,",0.0,0.7967479674796748,0.2032520325203252,22.0,3.0,0.0,0.5729166666666667
"  2001, MNRAS, 322, 486                                            J. T. 2016, MNRAS, 455, 370",2.0,0.425531914893617,0.574468085106383,10.0,23.0,0.006944444444444444,0.6736111111111112
"Bishop, C. M. 1995, Neural Networks for Pattern                  Fabello, S., Kauffmann, G., Catinella, B., et al. 2012,",0.0,0.725,0.275,17.0,10.0,0.0,0.5833333333333333
"  Recognition (USA: Oxford University Press, Inc.)                 MNRAS, 427, 2841",2.0,0.6867469879518072,0.3132530120481928,9.0,9.0,0.006944444444444444,0.7118055555555556
"Blanton, M. R., Kazin, E., Muna, D., Weaver, B. A., &            Geréb, K., Catinella, B., Cortese, L., et al. 2016, MNRAS,",0.0,0.7479674796747967,0.2520325203252033,21.0,7.0,0.0,0.5729166666666667
"  Price-Whelan, A. 2011, AJ, 142, 31                               462, 382",2.0,0.48,0.52,8.0,16.0,0.006944444444444444,0.7395833333333333
"Blyth, S., Baker, A. J., Holwerda, B., et al. 2016, in",0.0,0.8148148148148148,0.18518518518518523,11.0,1.0,0.0,0.8125
"                                                                 Giovanelli, R., Haynes, M. P., Kent, B. R., et al. 2005, AJ,",65.0,0.392,0.608,12.0,1.0,0.22569444444444445,0.5659722222222222
  Proceedings of MeerKAT Science: On the Pathway to the,2.0,0.8181818181818182,0.18181818181818177,9.0,1.0,0.006944444444444444,0.8090277777777778
"                                                                   130, 2598",67.0,0.10526315789473684,0.8947368421052632,2.0,1.0,0.2326388888888889,0.7361111111111112
"  SKA. 25-27 May, 4",2.0,0.7368421052631579,0.26315789473684215,4.0,1.0,0.006944444444444444,0.9340277777777778
"                                                                 Goyal, P., Dollár, P., Girshick, R., et al. 2017, arXiv",65.0,0.38333333333333336,0.6166666666666667,10.0,1.0,0.22569444444444445,0.5833333333333333
"Brinchmann, J., Charlot, S., White, S. D. M., et al. 2004,",0.0,0.8275862068965517,0.1724137931034483,11.0,1.0,0.0,0.7986111111111112
"                                                                   e-prints, arXiv:1706.02677",67.0,0.26881720430107525,0.7311827956989247,2.0,1.0,0.2326388888888889,0.6770833333333333
"  MNRAS, 351, 1151",2.0,0.7777777777777778,0.2222222222222222,3.0,1.0,0.006944444444444444,0.9375
"                                                                 Hagen, L. M. Z., Seibert, M., Hagen, A., et al. 2016, ApJ,",65.0,0.3821138211382114,0.6178861788617886,12.0,1.0,0.22569444444444445,0.5729166666666667
"Brown, T., Catinella, B., Cortese, L., et al. 2017, MNRAS,",0.0,0.8448275862068966,0.15517241379310343,10.0,1.0,0.0,0.7986111111111112
"                                                                   826, 210",67.0,0.09333333333333334,0.9066666666666666,2.0,1.0,0.2326388888888889,0.7395833333333333
"  466, 1275",2.0,0.7272727272727273,0.2727272727272727,2.0,1.0,0.006944444444444444,0.9618055555555556
"                                                                 Haynes, M. P., Giovanelli, R., Martin, A. M., et al. 2011,",65.0,0.3902439024390244,0.6097560975609756,11.0,1.0,0.22569444444444445,0.5729166666666667
"Buda, M., Maki, A., & Mazurowski, M. A. 2017, arXiv",0.0,0.8235294117647058,0.17647058823529416,10.0,1.0,0.0,0.8229166666666666
"                                                                   AJ, 142, 170",67.0,0.12658227848101267,0.8734177215189873,3.0,1.0,0.2326388888888889,0.7256944444444444
"  e-prints, arXiv:1710.05381",2.0,0.8928571428571429,0.1071428571428571,2.0,1.0,0.006944444444444444,0.9027777777777778
"                                                                 Haynes, M. P., Giovanelli, R., Kent, B. R., et al. 2018, ApJ,",65.0,0.3968253968253968,0.6031746031746033,12.0,1.0,0.22569444444444445,0.5625
"Caldeira, J., Wu, W. L. K., Nord, B., et al. 2019,",0.0,0.8,0.19999999999999996,11.0,1.0,0.0,0.8263888888888888
"                                                                   861, 49",67.0,0.08108108108108109,0.9189189189189189,2.0,1.0,0.2326388888888889,0.7430555555555556
"  Astronomy and Computing, 28, 100307",2.0,0.8378378378378378,0.16216216216216217,5.0,1.0,0.006944444444444444,0.8715277777777778
"Catinella, B., Schiminovich, D., Kauffmann, G., et al. 2010,     He, K., Zhang, X., Ren, S., & Sun, J. 2015, arXiv e-prints,",0.0,0.8064516129032258,0.19354838709677424,21.0,3.0,0.0,0.5694444444444444
"  MNRAS, 403, 683                                                  arXiv:1512.03385",2.0,0.3493975903614458,0.6506024096385542,4.0,26.0,0.006944444444444444,0.7118055555555556
"Catinella, B., Schiminovich, D., Cortese, L., et al. 2013,       He, T., Zhang, Z., Zhang, H., et al. 2018, arXiv e-prints,",0.0,0.7967479674796748,0.2032520325203252,20.0,4.0,0.0,0.5729166666666667
"  MNRAS, 436, 34                                                   arXiv:1812.01187",2.0,0.3373493975903614,0.6626506024096386,4.0,26.0,0.006944444444444444,0.7118055555555556
"Catinella, B., Saintonge, A., Janowiecki, S., et al. 2018,       Hopfield, J. J. 1987, Proceedings of the National Academy",0.0,0.8114754098360656,0.1885245901639344,18.0,4.0,0.0,0.5763888888888888
"  MNRAS, 476, 875                                                  of Science, 84, 8429",2.0,0.3448275862068966,0.6551724137931034,7.0,26.0,0.006944444444444444,0.6979166666666667
"Chabrier, G. 2003, PASP, 115, 763                                Howard, J., & Gugger, S. 2020, arXiv e-prints,",0.0,0.6036036036036037,0.39639639639639634,14.0,17.0,0.0,0.6145833333333333
"Chung, A., van Gorkom, J. H., Kenney, J. D. P., Crowl, H.,         arXiv:2002.04688",0.0,0.7590361445783133,0.24096385542168675,13.0,5.0,0.0,0.7118055555555556
"  & Vollmer, B. 2009, AJ, 138, 1741                              Huang, S., Haynes, M. P., Giovanelli, R., & Brinchmann, J.",2.0,0.6178861788617886,0.38211382113821135,17.0,16.0,0.006944444444444444,0.5729166666666667
"Ćiprijanović, A., Snyder, G. F., Nord, B., & Peek, J. E. G.        2012, ApJ, 756, 113",0.0,0.7441860465116279,0.2558139534883721,16.0,5.0,0.0,0.7013888888888888
"  2020, Astronomy and Computing, 32, 100390                      Huertas-Company, M., Rodriguez-Gomez, V., Nelson, D.,",2.0,0.711864406779661,0.288135593220339,12.0,12.0,0.006944444444444444,0.5902777777777778
"Cooper, M. C., Newman, J. A., Weiner, B. J., et al. 2008,          et al. 2019, MNRAS, 489, 1859",0.0,0.7291666666666666,0.27083333333333337,18.0,6.0,0.0,0.6666666666666667
"  MNRAS, 383, 1058                                               Hunter, J. D. 2007, Computing in Science and Engineering,",2.0,0.5163934426229508,0.48360655737704916,12.0,24.0,0.006944444444444444,0.5763888888888888
"Dey, A., Schlegel, D. J., Lang, D., et al. 2019, AJ, 157, 168      9, 90",0.0,0.7361111111111112,0.26388888888888884,15.0,4.0,0.0,0.75
"Dieleman, S., Willett, K. W., & Dambre, J. 2015, MNRAS,          Ivezić, Ž., Kahn, S. M., Tyson, J. A., et al. 2019, ApJ, 873,",0.0,0.753968253968254,0.24603174603174605,23.0,6.0,0.0,0.5625
"  450, 1441                                                        111",2.0,0.15714285714285714,0.8428571428571429,3.0,29.0,0.006944444444444444,0.7569444444444444
avr_spaces,14.898305084745765,1.0,0.0,1.0,1.0,0.05173022598870057,0.9652777777777778
 22,1.0,0.6666666666666666,0.33333333333333337,1.0,1.0,0.003472222222222222,0.9895833333333334
"Jarvis, M., Taylor, R., Agudo, I., et al. 2016, in Proceedings Peek, J. E. G., & Burkhart, B. 2019, ApJL, 882, L12",0.0,0.8157894736842105,0.1842105263157895,22.0,1.0,0.0,0.6041666666666667
"  of MeerKAT Science: On the Pathway to the SKA. 25-27         Rafieferantsoa, M., Andrianomena, S., & Davé, R. 2018,",2.0,0.7692307692307693,0.23076923076923073,18.0,5.0,0.006944444444444444,0.59375
"  May, 6                                                         MNRAS, 479, 4509",2.0,0.2345679012345679,0.7654320987654322,5.0,29.0,0.006944444444444444,0.71875
"Jones, M. G., Papastergis, E., Haynes, M. P., & Giovanelli,    Saintonge, A., Catinella, B., Tacconi, L. J., et al. 2017,",0.0,0.8181818181818182,0.18181818181818177,20.0,3.0,0.0,0.5798611111111112
"  R. 2016, MNRAS, 457, 4393                                      ApJS, 233, 22",2.0,0.41025641025641024,0.5897435897435898,8.0,20.0,0.006944444444444444,0.7291666666666667
"Kannappan, S. J. 2004, ApJL, 611, L89                          Salim, S., Rich, R. M., Charlot, S., et al. 2007, ApJS, 173,",0.0,0.6504065040650406,0.34959349593495936,19.0,14.0,0.0,0.5729166666666667
"Kauffmann, G., Heckman, T. M., White, S. D. M., et al.           267",0.0,0.6911764705882353,0.3088235294117647,12.0,6.0,0.0,0.7638888888888888
"  2003, MNRAS, 341, 33                                         Selvaraju, R. R., Cogswell, M., Das, A., et al. 2017, in 2017",2.0,0.5403225806451613,0.45967741935483875,16.0,21.0,0.006944444444444444,0.5694444444444444
"Khan, A., Huerta, E. A., Wang, S., et al. 2019, Physics          IEEE International Conference on Computer Vision",0.0,0.7787610619469026,0.22123893805309736,17.0,6.0,0.0,0.6076388888888888
"  Letters B, 795, 248                                            (ICCV), 618–626",2.0,0.375,0.625,6.0,23.0,0.006944444444444444,0.7222222222222222
"Kinney, A. L., Calzetti, D., Bohlin, R. C., et al. 1996, ApJ,  Serra, P., Oosterloo, T., Morganti, R., et al. 2012, MNRAS,",0.0,0.819672131147541,0.180327868852459,22.0,2.0,0.0,0.5763888888888888
"  467, 38                                                        422, 1835",2.0,0.1891891891891892,0.8108108108108107,4.0,29.0,0.006944444444444444,0.7430555555555556
"Koopmann, R. A., & Kenney, J. D. P. 2004, ApJ, 613, 866        Serra, P., Koribalski, B., Kilborn, V., et al. 2015, MNRAS,",0.0,0.7704918032786885,0.2295081967213115,22.0,5.0,0.0,0.5763888888888888
"                                                                 452, 2680",65.0,0.10810810810810811,0.8918918918918919,2.0,1.0,0.22569444444444445,0.7430555555555556
"Koribalski, B. S., Staveley-Smith, L., Westmeier, T., et al.",0.0,0.8666666666666667,0.1333333333333333,9.0,1.0,0.0,0.7916666666666666
"                                                               Simonyan, K., Vedaldi, A., & Zisserman, A. 2013, arXiv",63.0,0.39316239316239315,0.6068376068376069,9.0,1.0,0.21875,0.59375
"  2020, arXiv e-prints, arXiv:2002.07311",2.0,0.875,0.125,4.0,1.0,0.006944444444444444,0.8611111111111112
"                                                                 e-prints, arXiv:1312.6034",65.0,0.26666666666666666,0.7333333333333334,2.0,1.0,0.22569444444444445,0.6875
"Lemonias, J. J., Schiminovich, D., Catinella, B., Heckman,",0.0,0.8793103448275862,0.12068965517241381,8.0,1.0,0.0,0.7986111111111112
"                                                               Smith, L. N. 2018, arXiv e-prints, arXiv:1803.09820",63.0,0.39473684210526316,0.6052631578947368,7.0,1.0,0.21875,0.6041666666666667
"  T. M., & Moran, S. M. 2013, ApJ, 776, 74",2.0,0.7380952380952381,0.26190476190476186,10.0,1.0,0.006944444444444444,0.8541666666666666
"                                                               Spergel, D., Gehrels, N., Baltay, C., et al. 2015, arXiv",63.0,0.3949579831932773,0.6050420168067228,10.0,1.0,0.21875,0.5868055555555556
"Li, C., Kauffmann, G., Fu, J., et al. 2012, MNRAS, 424,",0.0,0.8181818181818182,0.18181818181818177,11.0,1.0,0.0,0.8090277777777778
"                                                                 e-prints, arXiv:1503.03757",65.0,0.27472527472527475,0.7252747252747253,2.0,1.0,0.22569444444444445,0.6840277777777778
  1471,2.0,0.6666666666666666,0.33333333333333337,1.0,1.0,0.006944444444444444,0.9791666666666666
"                                                               Stark, D. V., Kannappan, S. J., Eckert, K. D., et al. 2016,",63.0,0.39344262295081966,0.6065573770491803,12.0,1.0,0.21875,0.5763888888888888
"Liu, L., Jiang, H., He, P., et al. 2019, arXiv e-prints,",0.0,0.8214285714285714,0.1785714285714286,11.0,1.0,0.0,0.8055555555555556
"                                                                 ApJ, 832, 126",65.0,0.14102564102564102,0.858974358974359,3.0,1.0,0.22569444444444445,0.7291666666666667
  arXiv:1908.03265,2.0,0.8888888888888888,0.11111111111111116,1.0,1.0,0.006944444444444444,0.9375
"                                                               Stevens, A. R. H., Diemer, B., Lagos, C. d. P., et al. 2019,",63.0,0.3902439024390244,0.6097560975609756,13.0,1.0,0.21875,0.5729166666666667
"Loshchilov, I., & Hutter, F. 2017, arXiv e-prints,",0.0,0.86,0.14,8.0,1.0,0.0,0.8263888888888888
"                                                                 MNRAS, 483, 5334",65.0,0.1728395061728395,0.8271604938271605,3.0,1.0,0.22569444444444445,0.71875
"  arXiv:1711.05101                                             Teimoorinia, H., Ellison, S. L., & Patton, D. R. 2017,",2.0,0.5213675213675214,0.4786324786324786,11.0,23.0,0.006944444444444444,0.59375
"Lupton, R., Blanton, M. R., Fekete, G., et al. 2004, PASP,       MNRAS, 464, 3796",0.0,0.7654320987654321,0.23456790123456794,14.0,4.0,0.0,0.71875
"  116, 133                                                     Tremonti, C. A., Heckman, T. M., Kauffmann, G., et al.",2.0,0.4444444444444444,0.5555555555555556,12.0,27.0,0.006944444444444444,0.59375
"McKinney, W. 2010, in Proceedings of the 9th Python in           2004, ApJ, 613, 898",0.0,0.7261904761904762,0.27380952380952384,14.0,6.0,0.0,0.7083333333333333
"  Science Conference, ed. S. van der Walt & J. Millman, 51     van der Walt, S., Colbert, S. C., & Varoquaux, G. 2011,",2.0,0.7711864406779662,0.22881355932203384,22.0,3.0,0.006944444444444444,0.5902777777777778
"  – 56                                                           Computing in Science and Engineering, 13, 22",2.0,0.3761467889908257,0.6238532110091743,9.0,30.0,0.006944444444444444,0.6215277777777778
"Misra, D. 2019, arXiv e-prints, arXiv:1908.08681               van Driel, W., Butcher, Z., Schneider, S., et al. 2016, A&A,",0.0,0.7560975609756098,0.24390243902439024,17.0,8.0,0.0,0.5729166666666667
"Morningstar, W. R., Perreault Levasseur, L., Hezaveh,            595, A118",0.0,0.7432432432432432,0.2567567567567568,9.0,7.0,0.0,0.7430555555555556
"  Y. D., et al. 2019, ApJ, 883, 14                             Virtanen, P., Gommers, R., Oliphant, T. E., et al. 2019,",2.0,0.6050420168067226,0.39495798319327735,18.0,15.0,0.006944444444444444,0.5868055555555556
"Moster, B. P., Somerville, R. S., Newman, J. A., & Rix,          arXiv e-prints, arXiv:1907.10121",0.0,0.7731958762886598,0.22680412371134018,14.0,6.0,0.0,0.6631944444444444
"  H.-W. 2011, ApJ, 731, 113                                    Wu, J. F., & Boada, S. 2019, MNRAS, 484, 4683",2.0,0.5277777777777778,0.4722222222222222,15.0,19.0,0.006944444444444444,0.625
"Müller, R., Kornblith, S., & Hinton, G. 2019, arXiv            Zeiler, M. D., & Fergus, R. 2013, arXiv e-prints,",0.0,0.75,0.25,18.0,7.0,0.0,0.6111111111111112
"  e-prints, arXiv:1906.02629                                     arXiv:1311.2901",2.0,0.5,0.5,3.0,19.0,0.006944444444444444,0.7222222222222222
"Odekon, M. C., Koopmann, R. A., Haynes, M. P., et al.          Zhang, H., Goodfellow, I., Metaxas, D., & Odena, A. 2018,",0.0,0.7583333333333333,0.2416666666666667,21.0,6.0,0.0,0.5833333333333333
"  2016, ApJ, 824, 110                                            arXiv e-prints, arXiv:1805.08318",2.0,0.4742268041237113,0.5257731958762887,7.0,23.0,0.006944444444444444,0.6631944444444444
"Pasquet, J., Bertin, E., Treyer, M., Arnouts, S., & Fouchez,   Zhang, M. R., Lucas, J., Hinton, G., & Ba, J. 2019, arXiv",0.0,0.8083333333333333,0.19166666666666665,22.0,2.0,0.0,0.5833333333333333
"  D. 2019, A&A, 621, A26                                         e-prints, arXiv:1907.08610",2.0,0.4725274725274725,0.5274725274725275,7.0,21.0,0.006944444444444444,0.6840277777777778
"Paszke, A., Gross, S., Massa, F., et al. 2019, in Advances in  Zhang, W., Li, C., Kauffmann, G., et al. 2009, MNRAS,",0.0,0.8103448275862069,0.18965517241379315,22.0,2.0,0.0,0.5972222222222222
"  Neural Information Processing Systems 32, ed.                  397, 1243",2.0,0.6486486486486487,0.3513513513513513,8.0,10.0,0.006944444444444444,0.7430555555555556
"  H. Wallach, H. Larochelle, A. Beygelzimer, F. d’Alché        Zhou, B., Khosla, A., Lapedriza, A., Oliva, A., & Torralba,",2.0,0.7868852459016393,0.21311475409836067,18.0,5.0,0.006944444444444444,0.5763888888888888
"  Buc, E. Fox, & R. Garnett (Curran Associates, Inc.),           A. 2016, in 2016 IEEE Conference on Computer Vision",2.0,0.75,0.25,18.0,6.0,0.006944444444444444,0.5972222222222222
"                                                                 and Pattern Recognition (CVPR), 2921–2929",65.0,0.3490566037735849,0.6509433962264151,5.0,1.0,0.22569444444444445,0.6319444444444444
  8024–8035,2.0,0.8181818181818182,0.18181818181818177,1.0,1.0,0.006944444444444444,0.9618055555555556
"                                                               Zhu, W. W., Berndsen, A., Madsen, E. C., et al. 2014, ApJ,",63.0,0.3884297520661157,0.6115702479338843,12.0,1.0,0.21875,0.5798611111111112
"Pedregosa, F., Varoquaux, G., Gramfort, A., et al. 2011,",0.0,0.8571428571428571,0.1428571428571429,9.0,1.0,0.0,0.8055555555555556
"                                                                 781, 117",65.0,0.0958904109589041,0.904109589041096,2.0,1.0,0.22569444444444445,0.7465277777777778
"  Journal of Machine Learning Research, 12, 2825",2.0,0.8333333333333334,0.16666666666666663,7.0,1.0,0.006944444444444444,0.8333333333333334
avr_spaces,14.459016393442624,1.0,0.0,1.0,1.0,0.05020491803278689,0.9652777777777778
                                                                                                                   23,115.0,0.017094017094017096,0.9829059829059829,1.0,1.0,0.3993055555555556,0.59375
"   Software: Numpy (van der Walt et al. 2011), scikit-learn (Pedregosa et al. 2011), Scipy (Virtanen et al. 2019),",3.0,0.8245614035087719,0.17543859649122806,18.0,1.0,0.010416666666666666,0.6041666666666667
"matplotlib (Hunter 2007), Pandas (McKinney 2010), Pytorch (Paszke et al. 2019), Fastai (https://github.com/fastai/",0.0,0.8947368421052632,0.10526315789473684,13.0,1.0,0.0,0.6041666666666667
fastai),0.0,1.0,0.0,1.0,1.0,0.0,0.9756944444444444
                                              ACKNOWLEDGMENTS,46.0,0.2459016393442623,0.7540983606557377,1.0,1.0,0.1597222222222222,0.7881944444444444
   The author would like to thank the anonymous referee for useful and detailed comments that have significantly,3.0,0.8303571428571429,0.1696428571428571,17.0,1.0,0.010416666666666666,0.6111111111111112
improved this manuscript. The author would like to thank Josh Peek for suggesting the idea of using CNNs to probe,0.0,0.831858407079646,0.16814159292035402,20.0,1.0,0.0,0.6076388888888888
galaxy environments and many other useful discussions. The author also thanks Luke Leisman and Mike Jones for,0.0,0.8532110091743119,0.14678899082568808,17.0,1.0,0.0,0.6215277777777778
helpful conversations regarding the ALFALFA data. The author acknowledges support from the National Science,0.0,0.8785046728971962,0.12149532710280375,14.0,1.0,0.0,0.6284722222222222
"Foundation under grants NSF AST-1517908 and NSF AST-1616177, and also thanks the Pascal Institute for their",0.0,0.8598130841121495,0.14018691588785048,16.0,1.0,0.0,0.6284722222222222
hospitality (The Self-organised Star Formation Process program). This research was supported by the Munich Institute,0.0,0.8793103448275862,0.12068965517241381,15.0,1.0,0.0,0.5972222222222222
"for Astro- and Particle Physics (MIAPP) which is funded by the Deutsche Forschungsgemeinschaft (DFG, German",0.0,0.8691588785046729,0.13084112149532712,15.0,1.0,0.0,0.6284722222222222
Research Foundation) under Germany’s Excellence Strategy - EXC-2094 - 390783311. This work made use of Google,0.0,0.8623853211009175,0.13761467889908252,16.0,1.0,0.0,0.6215277777777778
Colab and Google Compute Engine.,0.0,0.875,0.125,5.0,1.0,0.0,0.8888888888888888
"   Funding for the Sloan Digital Sky Survey IV has been provided by the Alfred P. Sloan Foundation, the U.S. Depart-",3.0,0.8103448275862069,0.18965517241379315,20.0,1.0,0.010416666666666666,0.5972222222222222
"ment of Energy Office of Science, and the Participating Institutions. SDSS-IV acknowledges support and resources",0.0,0.875,0.125,15.0,1.0,0.0,0.6111111111111112
from the Center for High-Performance Computing at the University of Utah. The SDSS web site is www.sdss.org.,0.0,0.8518518518518519,0.14814814814814814,17.0,1.0,0.0,0.625
   SDSS-IV is managed by the Astrophysical Research Consortium for the Participating Institutions of the SDSS,3.0,0.8440366972477065,0.15596330275229353,15.0,1.0,0.010416666666666666,0.6215277777777778
"Collaboration including the Brazilian Participation Group, the Carnegie Institution for Science, Carnegie Mellon",0.0,0.8928571428571429,0.1071428571428571,13.0,1.0,0.0,0.6111111111111112
"University, the Chilean Participation Group, the French Participation Group, Harvard-Smithsonian Center for As-",0.0,0.8918918918918919,0.10810810810810811,13.0,1.0,0.0,0.6145833333333333
"trophysics, Instituto de Astrofísica de Canarias, The Johns Hopkins University, Kavli Institute for the Physics and",0.0,0.8695652173913043,0.13043478260869568,16.0,1.0,0.0,0.6006944444444444
"Mathematics of the Universe (IPMU) / University of Tokyo, the Korean Participation Group, Lawrence Berkeley",0.0,0.8691588785046729,0.13084112149532712,15.0,1.0,0.0,0.6284722222222222
"National Laboratory, Leibniz Institut für Astrophysik Potsdam (AIP), Max-Planck-Institut für Astronomie (MPIA",0.0,0.8990825688073395,0.1009174311926605,12.0,1.0,0.0,0.6215277777777778
"Heidelberg), Max-Planck-Institut für Astrophysik (MPA Garching), Max-Planck-Institut für Extraterrestrische Physik",0.0,0.9210526315789473,0.07894736842105265,10.0,1.0,0.0,0.6041666666666667
"(MPE), National Astronomical Observatories of China, New Mexico State University, New York University, University",0.0,0.8849557522123894,0.11504424778761058,14.0,1.0,0.0,0.6076388888888888
"of Notre Dame, Observatário Nacional / MCTI, The Ohio State University, Pennsylvania State University, Shanghai",0.0,0.8738738738738738,0.12612612612612617,15.0,1.0,0.0,0.6145833333333333
"Astronomical Observatory, United Kingdom Participation Group, Universidad Nacional Autónoma de México, Univer-",0.0,0.9,0.09999999999999998,12.0,1.0,0.0,0.6180555555555556
"sity of Arizona, University of Colorado Boulder, University of Oxford, University of Portsmouth, University of Utah,",0.0,0.8706896551724138,0.1293103448275862,16.0,1.0,0.0,0.5972222222222222
"University of Virginia, University of Washington, University of Wisconsin, Vanderbilt University, and Yale University.",0.0,0.8898305084745762,0.11016949152542377,14.0,1.0,0.0,0.5902777777777778
avr_spaces,5.766666666666667,1.0,0.0,1.0,1.0,0.020023148148148148,0.9652777777777778
